(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var app_1 = require("./app");
(function (NodeTypes) {
    NodeTypes[NodeTypes["ENTITY"] = 0] = "ENTITY";
    NodeTypes[NodeTypes["COLLECTION"] = 1] = "COLLECTION";
    NodeTypes[NodeTypes["ATTRIBUTE"] = 2] = "ATTRIBUTE";
    NodeTypes[NodeTypes["NUMBER"] = 3] = "NUMBER";
    NodeTypes[NodeTypes["STRING"] = 4] = "STRING";
    NodeTypes[NodeTypes["FUNCTION"] = 5] = "FUNCTION";
})(exports.NodeTypes || (exports.NodeTypes = {}));
var NodeTypes = exports.NodeTypes;
(function (Intents) {
    Intents[Intents["QUERY"] = 0] = "QUERY";
    Intents[Intents["INSERT"] = 1] = "INSERT";
    Intents[Intents["MOREINFO"] = 2] = "MOREINFO";
    Intents[Intents["NORESULT"] = 3] = "NORESULT";
})(exports.Intents || (exports.Intents = {}));
var Intents = exports.Intents;
// Entry point for NLQP
function parse(queryString, lastParse) {
    var tree;
    var context;
    var tokens;
    // If this is the first run, then create a root node.
    if (lastParse === undefined) {
        var rootToken = newToken("root");
        rootToken.properties.push(Properties.ROOT);
        tree = newNode(rootToken);
        tree.found = true;
        context = newContext();
        tokens = [rootToken];
    }
    else {
        tree = lastParse.tree;
        context = lastParse.context;
        tokens = lastParse.tokens;
    }
    // Now do something with the query string
    var words = normalizeQueryString(queryString);
    for (var _i = 0; _i < words.length; _i++) {
        var word = words[_i];
        // From a token
        var token = formToken(word);
        // Link new token with the rest
        var lastToken = tokens[tokens.length - 1];
        lastToken.next = token;
        token.prev = lastToken;
        tokens.push(token);
        // Add the token to the tree
        var node = newNode(token);
        var treeResult = formTree(node, tree, context);
        tree = treeResult.tree;
        context = treeResult.context;
    }
    // Manage context
    context.entities = context.found.filter(function (n) { return n.hasProperty(Properties.ENTITY) && !n.hasProperty(Properties.SUBSUMED) && !n.hasProperty(Properties.IMPLICIT); });
    context.collections = context.found.filter(function (n) { return n.hasProperty(Properties.COLLECTION) && !n.hasProperty(Properties.SUBSUMED) && !n.hasProperty(Properties.IMPLICIT); });
    context.attributes = context.found.filter(function (n) { return n.hasProperty(Properties.ATTRIBUTE) && !n.hasProperty(Properties.SUBSUMED) && !n.hasProperty(Properties.IMPLICIT); });
    context.maybeAttributes = context.maybeAttributes.filter(function (n) { return !n.hasProperty(Properties.SUBSUMED) && !n.found; });
    context.maybeCollections = context.maybeCollections.filter(function (n) { return !n.hasProperty(Properties.SUBSUMED) && !n.found; });
    context.maybeEntities = context.maybeEntities.filter(function (n) { return !n.hasProperty(Properties.SUBSUMED) && !n.found; });
    // Manage results
    var intent = Intents.NORESULT;
    var query = newQuery();
    var insertResults = [];
    if (allFound(tree)) {
        var inserts = context.internalFxns.filter(function (f) { return f.fxn.type === FunctionTypes.INSERT; });
        if (inserts.length > 0) {
            intent = Intents.INSERT;
            // Format each insert
            for (var _a = 0; _a < inserts.length; _a++) {
                var insert = inserts[_a];
                if (insert.children.every(function (c) { return c.found; })) {
                    // Collapse the result root if every node doesn't have a child
                    if (insert.children[2].children.length > 1 && insert.children[2].children.every(function (c) { return c.children.length === 0; })) {
                        var nName = insert.children[2].children.map(function (c) { return c.name; }).join(" ");
                        var nToken = newToken(nName);
                        var nNode = newNode(nToken);
                        nNode.found = true;
                        nNode.type = NodeTypes.STRING;
                        insert.children[2].children.map(removeNode);
                        insert.children[2].addChild(nNode);
                    }
                    var insertResult = {
                        entity: insert.children[0].children[0],
                        attribute: insert.children[1].children[0],
                        value: insert.children[2].children[0],
                    };
                    insertResults.push(insertResult);
                }
            }
        }
        else if (context.maybeAttributes.length > 0) {
            intent = Intents.MOREINFO;
        }
        else if (context.found.length > 1 &&
            ((context.attributes.filter(function (a) { return a.attribute.refs === undefined && !a.parent.hasProperty(Properties.ARGUMENT); }).length > 0) ||
                (context.collections.filter(function (c) { return c.relationships.length === 0; }).length > 0))) {
            intent = Intents.NORESULT;
        }
        else {
            intent = Intents.QUERY;
        }
    }
    if (intent === Intents.QUERY) {
        // Create the query from the new tree
        intent = Intents.QUERY;
        log("Building query...");
        query = formQuery(tree);
        if (query.projects.length === 0) {
            intent = Intents.NORESULT;
            query = newQuery();
        }
    }
    return [{ intent: intent, context: context, tokens: tokens, tree: tree, query: query, inserts: insertResults }];
}
exports.parse = parse;
// Returns false if any nodes are not marked found
// Returns true if all nodes are marked found
function treeComplete(node) {
    if (node.found === false) {
        return false;
    }
    else {
        var childrenStatus = node.children.map(treeComplete);
        return childrenStatus.every(function (child) { return child === true; });
    }
}
// Performs some transformations to the query string before tokenizing
function normalizeQueryString(queryString) {
    // Add whitespace before and after separator and operators
    var normalizedQueryString = queryString.replace(/,/g, ' , ');
    normalizedQueryString = normalizedQueryString.replace(/;/g, ' ; ');
    normalizedQueryString = normalizedQueryString.replace(/\+/g, ' + ');
    normalizedQueryString = normalizedQueryString.replace(/\^/g, ' ^ ');
    normalizedQueryString = normalizedQueryString.replace(/-/g, ' - ');
    normalizedQueryString = normalizedQueryString.replace(/\*/g, ' * ');
    normalizedQueryString = normalizedQueryString.replace(/\//g, ' / ');
    normalizedQueryString = normalizedQueryString.replace(/"/g, ' " ');
    // Split possessive endings
    normalizedQueryString = normalizedQueryString.replace(/\'s/g, ' \'s ');
    normalizedQueryString = normalizedQueryString.replace(/s'/g, 's \' ');
    // Clean various symbols we don't want to deal with
    normalizedQueryString = normalizedQueryString.replace(/`|\?|\:|\[|\]|\{|\}|\(|\)|\~|\`|~|@|#|\$|%|&|_|\|/g, ' ');
    // Collapse whitespace   
    normalizedQueryString = normalizedQueryString.replace(/\s+/g, ' ');
    // Split words at whitespace
    var splitStrings = normalizedQueryString.split(" ");
    var words = splitStrings.map(function (text, i) { return { ix: i + 1, text: text }; });
    words = words.filter(function (word) { return word.text !== ""; });
    return words;
}
exports.normalizeQueryString = normalizeQueryString;
function normalizeString(queryString) {
    // Add whitespace before and after separator and operators
    var normalized = queryString.replace(/,/g, ' , ');
    normalized = normalized.replace(/;/g, ' ; ');
    normalized = normalized.replace(/\+/g, ' + ');
    normalized = normalized.replace(/\^/g, ' ^ ');
    normalized = normalized.replace(/-/g, ' - ');
    normalized = normalized.replace(/\*/g, ' * ');
    normalized = normalized.replace(/\//g, ' / ');
    normalized = normalized.replace(/"/g, ' " ');
    // Split possessive endings
    normalized = normalized.replace(/\'s/g, ' \'s ');
    normalized = normalized.replace(/s'/g, 's \' ');
    // Clean various symbols we don't want to deal with
    normalized = normalized.replace(/`|\?|\:|\[|\]|\{|\}|\(|\)|\~|\`|~|@|#|\$|%|&|_|\|/g, ' ');
    // Collapse whitespace   
    normalized = normalized.replace(/\s+/g, ' ');
    normalized = normalized.toLowerCase();
    normalized = singularize(normalized);
    return normalized;
}
exports.normalizeString = normalizeString;
// ----------------------------------------------------------------------------
// Token functions
// ----------------------------------------------------------------------------
var MajorPartsOfSpeech;
(function (MajorPartsOfSpeech) {
    MajorPartsOfSpeech[MajorPartsOfSpeech["ROOT"] = 0] = "ROOT";
    MajorPartsOfSpeech[MajorPartsOfSpeech["VERB"] = 1] = "VERB";
    MajorPartsOfSpeech[MajorPartsOfSpeech["ADJECTIVE"] = 2] = "ADJECTIVE";
    MajorPartsOfSpeech[MajorPartsOfSpeech["ADVERB"] = 3] = "ADVERB";
    MajorPartsOfSpeech[MajorPartsOfSpeech["NOUN"] = 4] = "NOUN";
    MajorPartsOfSpeech[MajorPartsOfSpeech["VALUE"] = 5] = "VALUE";
    MajorPartsOfSpeech[MajorPartsOfSpeech["GLUE"] = 6] = "GLUE";
    MajorPartsOfSpeech[MajorPartsOfSpeech["WHWORD"] = 7] = "WHWORD";
    MajorPartsOfSpeech[MajorPartsOfSpeech["SYMBOL"] = 8] = "SYMBOL";
})(MajorPartsOfSpeech || (MajorPartsOfSpeech = {}));
var MinorPartsOfSpeech;
(function (MinorPartsOfSpeech) {
    MinorPartsOfSpeech[MinorPartsOfSpeech["ROOT"] = 0] = "ROOT";
    // Verb
    MinorPartsOfSpeech[MinorPartsOfSpeech["VB"] = 1] = "VB";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBD"] = 2] = "VBD";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBN"] = 3] = "VBN";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBP"] = 4] = "VBP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBZ"] = 5] = "VBZ";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBF"] = 6] = "VBF";
    MinorPartsOfSpeech[MinorPartsOfSpeech["CP"] = 7] = "CP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["VBG"] = 8] = "VBG";
    // Adjective
    MinorPartsOfSpeech[MinorPartsOfSpeech["JJ"] = 9] = "JJ";
    MinorPartsOfSpeech[MinorPartsOfSpeech["JJR"] = 10] = "JJR";
    MinorPartsOfSpeech[MinorPartsOfSpeech["JJS"] = 11] = "JJS";
    // Adverb
    MinorPartsOfSpeech[MinorPartsOfSpeech["RB"] = 12] = "RB";
    MinorPartsOfSpeech[MinorPartsOfSpeech["RBR"] = 13] = "RBR";
    MinorPartsOfSpeech[MinorPartsOfSpeech["RBS"] = 14] = "RBS";
    // Noun
    MinorPartsOfSpeech[MinorPartsOfSpeech["NN"] = 15] = "NN";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNPA"] = 16] = "NNPA";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNAB"] = 17] = "NNAB";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NG"] = 18] = "NG";
    MinorPartsOfSpeech[MinorPartsOfSpeech["PRP"] = 19] = "PRP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["PP"] = 20] = "PP";
    // Legacy Noun
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNP"] = 21] = "NNP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNPS"] = 22] = "NNPS";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNO"] = 23] = "NNO";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNS"] = 24] = "NNS";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNA"] = 25] = "NNA";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NNQ"] = 26] = "NNQ";
    // Glue
    MinorPartsOfSpeech[MinorPartsOfSpeech["FW"] = 27] = "FW";
    MinorPartsOfSpeech[MinorPartsOfSpeech["IN"] = 28] = "IN";
    MinorPartsOfSpeech[MinorPartsOfSpeech["MD"] = 29] = "MD";
    MinorPartsOfSpeech[MinorPartsOfSpeech["CC"] = 30] = "CC";
    MinorPartsOfSpeech[MinorPartsOfSpeech["PDT"] = 31] = "PDT";
    MinorPartsOfSpeech[MinorPartsOfSpeech["DT"] = 32] = "DT";
    MinorPartsOfSpeech[MinorPartsOfSpeech["UH"] = 33] = "UH";
    MinorPartsOfSpeech[MinorPartsOfSpeech["EX"] = 34] = "EX";
    // Value
    MinorPartsOfSpeech[MinorPartsOfSpeech["CD"] = 35] = "CD";
    MinorPartsOfSpeech[MinorPartsOfSpeech["DA"] = 36] = "DA";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NU"] = 37] = "NU";
    // Symbol
    MinorPartsOfSpeech[MinorPartsOfSpeech["LT"] = 38] = "LT";
    MinorPartsOfSpeech[MinorPartsOfSpeech["GT"] = 39] = "GT";
    MinorPartsOfSpeech[MinorPartsOfSpeech["GTE"] = 40] = "GTE";
    MinorPartsOfSpeech[MinorPartsOfSpeech["LTE"] = 41] = "LTE";
    MinorPartsOfSpeech[MinorPartsOfSpeech["EQ"] = 42] = "EQ";
    MinorPartsOfSpeech[MinorPartsOfSpeech["NEQ"] = 43] = "NEQ";
    MinorPartsOfSpeech[MinorPartsOfSpeech["PLUS"] = 44] = "PLUS";
    MinorPartsOfSpeech[MinorPartsOfSpeech["MINUS"] = 45] = "MINUS";
    MinorPartsOfSpeech[MinorPartsOfSpeech["DIV"] = 46] = "DIV";
    MinorPartsOfSpeech[MinorPartsOfSpeech["MUL"] = 47] = "MUL";
    MinorPartsOfSpeech[MinorPartsOfSpeech["POW"] = 48] = "POW";
    MinorPartsOfSpeech[MinorPartsOfSpeech["SEP"] = 49] = "SEP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["POS"] = 50] = "POS";
    // Wh- word
    MinorPartsOfSpeech[MinorPartsOfSpeech["WDT"] = 51] = "WDT";
    MinorPartsOfSpeech[MinorPartsOfSpeech["WP"] = 52] = "WP";
    MinorPartsOfSpeech[MinorPartsOfSpeech["WPO"] = 53] = "WPO";
    MinorPartsOfSpeech[MinorPartsOfSpeech["WRB"] = 54] = "WRB"; // Wh-adverb (however whenever where why)
})(MinorPartsOfSpeech || (MinorPartsOfSpeech = {}));
function newToken(text) {
    var token = formToken({ ix: 0, text: text });
    token.properties.push(Properties.IMPLICIT);
    return token;
}
function cloneToken(token) {
    var clone = {
        ix: token.ix,
        originalWord: token.originalWord,
        normalizedWord: token.normalizedWord,
        POS: token.POS,
        properties: [],
    };
    token.properties.map(function (property) { return clone.properties.push(property); });
    return clone;
}
var Properties;
(function (Properties) {
    // Node properties
    Properties[Properties["ROOT"] = 0] = "ROOT";
    // EVE types
    Properties[Properties["COLLECTION"] = 1] = "COLLECTION";
    Properties[Properties["ENTITY"] = 2] = "ENTITY";
    Properties[Properties["ATTRIBUTE"] = 3] = "ATTRIBUTE";
    Properties[Properties["FUNCTION"] = 4] = "FUNCTION";
    Properties[Properties["QUANTITY"] = 5] = "QUANTITY";
    Properties[Properties["STRING"] = 6] = "STRING";
    // Function properties  
    Properties[Properties["OUTPUT"] = 7] = "OUTPUT";
    Properties[Properties["INPUT"] = 8] = "INPUT";
    Properties[Properties["ARGUMENT"] = 9] = "ARGUMENT";
    Properties[Properties["AGGREGATE"] = 10] = "AGGREGATE";
    Properties[Properties["CALCULATE"] = 11] = "CALCULATE";
    Properties[Properties["OPERATOR"] = 12] = "OPERATOR";
    // Token properties
    Properties[Properties["PROPER"] = 13] = "PROPER";
    Properties[Properties["PLURAL"] = 14] = "PLURAL";
    Properties[Properties["POSSESSIVE"] = 15] = "POSSESSIVE";
    Properties[Properties["BACKRELATIONSHIP"] = 16] = "BACKRELATIONSHIP";
    Properties[Properties["COMPARATIVE"] = 17] = "COMPARATIVE";
    Properties[Properties["SUPERLATIVE"] = 18] = "SUPERLATIVE";
    Properties[Properties["PRONOUN"] = 19] = "PRONOUN";
    Properties[Properties["SEPARATOR"] = 20] = "SEPARATOR";
    Properties[Properties["CONJUNCTION"] = 21] = "CONJUNCTION";
    Properties[Properties["QUOTED"] = 22] = "QUOTED";
    Properties[Properties["SETTER"] = 23] = "SETTER";
    Properties[Properties["SUBSUMED"] = 24] = "SUBSUMED";
    Properties[Properties["COMPOUND"] = 25] = "COMPOUND";
    // Modifiers
    Properties[Properties["NEGATES"] = 26] = "NEGATES";
    Properties[Properties["GROUPING"] = 27] = "GROUPING";
    Properties[Properties["IMPLICIT"] = 28] = "IMPLICIT";
    Properties[Properties["STOPPARSE"] = 29] = "STOPPARSE";
})(Properties || (Properties = {}));
// take an input string, extract tokens
function formToken(word) {
    // Every word is tagged a noun unless some rule says otherwise
    var POS = MinorPartsOfSpeech.NN;
    var properties = [];
    var originalWord = word.text;
    var normalizedWord = originalWord;
    var found = false;
    var upperCaseLetters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
    var lowerCaseLetters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
    var digits = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];
    var separators = [',', ':', ';', '"'];
    var operators = ['+', '-', '*', '/', '^'];
    var comparators = ['>', '>=', '<', '<=', '=', '!='];
    // Most of the following vectors were taken from NLP Compromise
    // https://github.com/nlp-compromise/nlp_compromise
    // Copyright (c) 2016 Spencer Kelly: 
    // Licensed under the MIT License: https://github.com/nlp-compromise/nlp_compromise/blob/master/LICENSE.txt
    var preDeterminers = ['all'];
    var determiners = ['this', 'any', 'enough', 'each', 'every', 'these', 'another', 'plenty', 'whichever', 'neither', 'an', 'a', 'least', 'own', 'few', 'both', 'those', 'the', 'that', 'various', 'what', 'either', 'much', 'some', 'else', 'no'];
    var copulae = ['am', 'is', 'are', 'was', 'were', 'as', 'am', 'be', 'has', 'become', 'became', 'seemed', 'seems', 'seeming'];
    var conjunctions = ['yet', 'therefore', 'or', 'while', 'nor', 'whether', 'though', 'because', 'but', 'for', 'and', 'if', 'before', 'although', 'plus', 'versus', 'not'];
    var prepositions = ['with', 'until', 'onto', 'of', 'into', 'out', 'except', 'across', 'by', 'between', 'at', 'down', 'as', 'from', 'around', 'among', 'upon', 'amid', 'to', 'along', 'since', 'about', 'off', 'on', 'within', 'in', 'during', 'per', 'without', 'throughout', 'through', 'than', 'via', 'up', 'unlike', 'despite', 'below', 'unless', 'towards', 'besides', 'after', 'whereas', 'amongst', 'atop', 'barring', 'circa', 'mid', 'midst', 'notwithstanding', 'sans', 'thru', 'till', 'versus'];
    var possessivePronouns = ['mine', 'something', 'none', 'anything', 'anyone', 'theirs', 'himself', 'ours', 'his', 'my', 'their', 'yours', 'your', 'our', 'its', 'nothing', 'herself', 'hers', 'themselves', 'everything', 'myself', 'itself', 'her'];
    var personalPronouns = ['it', 'they', 'i', 'them', 'you', 'she', 'me', 'he', 'him', 'ourselves', 'us', 'we', 'yourself'];
    var modals = ['can', 'may', 'could', 'might', 'will', 'would', 'must', 'shall', 'should', 'ought'];
    var whPronouns = ['who', 'what', 'whom'];
    var whDeterminers = ['whatever', 'which'];
    var whPossessivePronoun = ['whose'];
    var whAdverbs = ['how', 'when', 'however', 'whenever', 'where', 'why'];
    var verbs = ['have', 'do'];
    var adverbs = ['there'];
    // We have three cases: the word is a symbol (of which there are various kinds), a number, or a string
    // ----------------------
    // Case 1: handle symbols
    // ----------------------
    if (!found) {
        if (operators.indexOf(originalWord) >= 0) {
            found = true;
            properties.push(Properties.OPERATOR);
            switch (originalWord) {
                case "+":
                    POS = MinorPartsOfSpeech.PLUS;
                    break;
                case "-":
                    POS = MinorPartsOfSpeech.MINUS;
                    break;
                case "*":
                    POS = MinorPartsOfSpeech.MUL;
                    break;
                case "/":
                    POS = MinorPartsOfSpeech.DIV;
                    break;
                case "^":
                    POS = MinorPartsOfSpeech.POW;
                    break;
            }
        }
        else if (comparators.indexOf(originalWord) >= 0) {
            found = true;
            properties.push(Properties.COMPARATIVE);
            switch (originalWord) {
                case ">":
                    POS = MinorPartsOfSpeech.GT;
                    break;
                case ">=":
                    POS = MinorPartsOfSpeech.GTE;
                    break;
                case "<":
                    POS = MinorPartsOfSpeech.LT;
                    break;
                case "<=":
                    POS = MinorPartsOfSpeech.LTE;
                    break;
                case "=":
                    POS = MinorPartsOfSpeech.EQ;
                    break;
                case "!=":
                    POS = MinorPartsOfSpeech.NEQ;
                    break;
            }
        }
        else if (separators.indexOf(originalWord) >= 0) {
            found = true;
            properties.push(Properties.SEPARATOR);
            POS = MinorPartsOfSpeech.SEP;
            if (originalWord === "\"") {
                properties.push(Properties.QUOTED);
            }
        }
        else if (originalWord === "'s" || originalWord === "'") {
            properties.push(Properties.POSSESSIVE);
            POS = MinorPartsOfSpeech.POS;
        }
    }
    // ----------------------
    // Case 2: handle numbers
    // ----------------------
    if (!found) {
        if (digits.indexOf(originalWord[0]) >= 0 && isNumeric(originalWord)) {
            found = true;
            properties.push(Properties.QUANTITY);
            POS = MinorPartsOfSpeech.NU;
        }
    }
    // ----------------------
    // Case 3: handle strings
    // ----------------------
    if (!found) {
        // Normalize the word
        normalizedWord = normalizedWord.toLowerCase();
        var before = normalizedWord;
        normalizedWord = singularize(normalizedWord);
        if (before !== normalizedWord) {
            properties.push(Properties.PLURAL);
        }
        // Find the POS in the dictionary, apply some properties based on the word
        // Determiners
        if (determiners.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.DT;
        }
        else if (modals.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.MD;
        }
        else if (preDeterminers.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.PDT;
        }
        else if (copulae.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.CP;
        }
        else if (prepositions.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.IN;
        }
        else if (personalPronouns.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.PRP;
            properties.push(Properties.PRONOUN);
        }
        else if (possessivePronouns.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.PRP;
            properties.push(Properties.PRONOUN);
            properties.push(Properties.POSSESSIVE);
        }
        else if (conjunctions.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.CC;
            properties.push(Properties.CONJUNCTION);
        }
        else if (whPronouns.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.WP;
        }
        else if (whDeterminers.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.WDT;
        }
        else if (whAdverbs.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.WRB;
        }
        else if (whPossessivePronoun.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.WPO;
            properties.push(Properties.POSSESSIVE);
        }
        else if (verbs.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.VB;
        }
        else if (adverbs.indexOf(normalizedWord) >= 0) {
            POS = MinorPartsOfSpeech.RB;
        }
        // Set grouping property
        var groupingWords = ['per', 'by'];
        var negatingWords = ['except', 'without', 'sans', 'not', 'nor', 'neither', 'no'];
        var pluralWords = ['their'];
        if (groupingWords.indexOf(normalizedWord) >= 0) {
            properties.push(Properties.GROUPING);
        }
        else if (negatingWords.indexOf(normalizedWord) >= 0) {
            properties.push(Properties.NEGATES);
        }
        else if (pluralWords.indexOf(normalizedWord) >= 0) {
            properties.push(Properties.PLURAL);
        }
        // If the word is still a noun, if it is upper case than it is a proper noun 
        if (getMajorPOS(POS) === MajorPartsOfSpeech.NOUN) {
            if (upperCaseLetters.indexOf(originalWord[0]) >= 0) {
                properties.push(Properties.PROPER);
            }
        }
    }
    // Build the token
    var token = {
        ix: word.ix,
        originalWord: word.text,
        normalizedWord: normalizedWord,
        POS: POS,
        properties: properties,
    };
    return token;
}
function getMajorPOS(minorPartOfSpeech) {
    // ROOT
    if (minorPartOfSpeech === MinorPartsOfSpeech.ROOT) {
        return MajorPartsOfSpeech.ROOT;
    }
    // Verb
    var verbs = ['VB', 'VBD', 'VBN', 'VBP', 'VBZ', 'VBF', 'VBG'];
    if (verbs.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.VERB;
    }
    // Adjective
    var adjectives = ['JJ', 'JJR', 'JJS'];
    if (adjectives.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.ADJECTIVE;
    }
    // Adverb
    var adverbs = ['RB', 'RBR', 'RBS'];
    if (adverbs.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.ADVERB;
    }
    // Noun
    var nouns = ['NN', 'NNA', 'NNPA', 'NNAB', 'NNP', 'NNPS', 'NNS', 'NNQ', 'NNO', 'NG', 'PRP', 'PP'];
    if (nouns.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.NOUN;
    }
    // Value
    var values = ['CD', 'DA', 'NU'];
    if (values.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.VALUE;
    }
    // Glue
    var glues = ['FW', 'IN', 'CP', 'MD', 'CC', 'PDT', 'DT', 'UH', 'EX'];
    if (glues.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.GLUE;
    }
    // Symbol
    var symbols = ['LT', 'GT', 'LTE', 'GTE', 'EQ', 'NEQ',
        'PLUS', 'MINUS', 'DIV', 'MUL', 'POW',
        'SEP', 'POS'];
    if (symbols.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.SYMBOL;
    }
    // Wh-Word
    var whWords = ['WDT', 'WP', 'WPO', 'WRB'];
    if (whWords.indexOf(MinorPartsOfSpeech[minorPartOfSpeech]) >= 0) {
        return MajorPartsOfSpeech.WHWORD;
    }
}
// Wrap pluralize to special case certain words it gets wrong
// @HACK data singularizes to datum, which is correct, but we
// have a collection called test data, which NLQP turns into test datum
function singularize(word) {
    // split word at spaces
    var words = word.split(" ");
    if (words.length === 1) {
        var specialCases = ["his", "times", "has", "downstairs", "its", "'s", "data", "are", "was"];
        for (var _i = 0; _i < specialCases.length; _i++) {
            var specialCase = specialCases[_i];
            if (specialCase === word) {
                return word;
            }
        }
        return pluralize(word, 1);
    }
    return words.map(singularize).join(" ");
}
exports.singularize = singularize;
function cloneNode(node) {
    var token = cloneToken(node.token);
    var cloneNode = newNode(token);
    cloneNode.entity = node.entity;
    cloneNode.collection = node.collection;
    cloneNode.attribute = node.attribute;
    cloneNode.fxn = node.fxn;
    cloneNode.found = node.found;
    node.properties.map(function (property) { return cloneNode.properties.push(property); });
    return cloneNode;
}
function newNode(token) {
    var node = {
        ix: token.ix,
        name: token.normalizedWord,
        parent: undefined,
        children: [],
        token: token,
        properties: token.properties,
        relationships: [],
        representations: {
            entity: undefined,
            collection: undefined,
            attribute: undefined,
            fxn: undefined,
        },
        found: false,
        foundReps: false,
        hasProperty: hasProperty,
        toString: nodeToString,
        next: nextNode,
        prev: previousNode,
        addChild: addChild,
    };
    token.node = node;
    function hasProperty(property) {
        var found = node.properties.indexOf(property);
        if (found !== -1) {
            return true;
        }
        else {
            return false;
        }
    }
    function nextNode() {
        var token = node.token;
        var nextToken = token.next;
        if (nextToken !== undefined) {
            return nextToken.node;
        }
        return undefined;
    }
    function previousNode() {
        var token = node.token;
        var prevToken = token.prev;
        if (prevToken !== undefined) {
            return prevToken.node;
        }
        return undefined;
    }
    function addChild(newChild) {
        node.children.push(newChild);
        newChild.parent = node;
    }
    function nodeToString(depth) {
        if (depth === undefined) {
            depth = 0;
        }
        var childrenStrings = node.children.map(function (childNode) { return childNode.toString(depth + 1); }).join("\n");
        var children = childrenStrings.length > 0 ? "\n" + childrenStrings : "";
        var indent = Array(depth + 1).join(" ");
        var index = node.ix === undefined ? "+ " : node.ix + ": ";
        var properties = node.properties.length === 0 ? "" : "(" + node.properties.map(function (property) { return Properties[property]; }).join("|") + ")";
        var attribute = node.attribute === undefined ? "" : "[" + node.attribute.variable + "]";
        var entity = node.entity === undefined ? "" : "[" + node.entity.displayName + "]";
        var collection = node.collection === undefined ? "" : "[" + node.collection.displayName + "]";
        var fxn = node.fxn === undefined ? "" : "[" + node.fxn.name + "]";
        var found = node.found ? "*" : " ";
        properties = properties.length === 2 ? "" : properties;
        var nodeString = "|" + found + indent + index + node.name + " " + fxn + entity + collection + attribute + " " + properties + children;
        return nodeString;
    }
    return node;
}
//------------------------------------
// Various node manipulation functions
//------------------------------------
// Removes the node and its children from the tree, 
// and makes it a child of the target node
function reroot(node, target) {
    node.parent.children.splice(node.parent.children.indexOf(node), 1);
    target.addChild(node);
}
// Removes a node from the tree
// The node's children get added to its parent
// returns the node or undefined if the operation failed
function removeNode(node) {
    if (node.hasProperty(Properties.ROOT)) {
        return undefined;
    }
    if (node.parent === undefined && node.children.length === 0) {
        return undefined;
    }
    var children = node.children;
    var parent = node.parent;
    // Rewire
    if (parent !== undefined) {
        parent.children = parent.children.concat(children);
        parent.children.sort(function (a, b) { return a.ix - b.ix; });
        parent.children.splice(parent.children.indexOf(node), 1);
        children.map(function (child) { return child.parent = parent; });
        if (parent.hasProperty(Properties.ARGUMENT)) {
            if (parent.children.length === 0) {
                parent.found = false;
            }
        }
    }
    // Get rid of references on current node
    node.parent = undefined;
    node.children = [];
    return node;
}
function removeBranch(node) {
    var parent = node.parent;
    if (parent !== undefined) {
        parent.children.splice(parent.children.indexOf(node), 1);
        node.parent = undefined;
        return node;
    }
    return undefined;
}
// Returns the first ancestor node that has been found
function previouslyMatched(node, ignoreFunctions) {
    if (ignoreFunctions === undefined) {
        ignoreFunctions = false;
    }
    if (node.parent === undefined) {
        return undefined;
    }
    else if (!ignoreFunctions &&
        (node.parent.hasProperty(Properties.SETTER) ||
            (node.parent.hasProperty(Properties.FUNCTION) && !node.parent.hasProperty(Properties.CONJUNCTION)))) {
        return undefined;
    }
    else if (node.parent.hasProperty(Properties.ENTITY) ||
        node.parent.hasProperty(Properties.ATTRIBUTE) ||
        node.parent.hasProperty(Properties.COLLECTION)) {
        return node.parent;
    }
    else {
        return previouslyMatched(node.parent, ignoreFunctions);
    }
}
// Returns the first ancestor node that has been found
function previouslyMatchedEntityOrCollection(node, ignoreFunctions) {
    if (ignoreFunctions === undefined) {
        ignoreFunctions = false;
    }
    if (node.parent === undefined) {
        return undefined;
    }
    else if (!ignoreFunctions &&
        (node.parent.hasProperty(Properties.SETTER) ||
            (node.parent.hasProperty(Properties.FUNCTION) && !node.parent.hasProperty(Properties.CONJUNCTION)))) {
        return undefined;
    }
    else if (node.parent.hasProperty(Properties.ENTITY) ||
        node.parent.hasProperty(Properties.COLLECTION)) {
        return node.parent;
    }
    else {
        return previouslyMatchedEntityOrCollection(node.parent, ignoreFunctions);
    }
}
// Returns the first ancestor node that has been found
function previouslyMatchedAttribute(node, ignoreFunctions) {
    if (ignoreFunctions === undefined) {
        ignoreFunctions = false;
    }
    if (node.parent === undefined) {
        return undefined;
    }
    else if (!ignoreFunctions &&
        (node.parent.hasProperty(Properties.SETTER) ||
            (node.parent.hasProperty(Properties.FUNCTION) && !node.parent.hasProperty(Properties.CONJUNCTION)))) {
        return undefined;
    }
    else if (node.parent.hasProperty(Properties.ATTRIBUTE)) {
        return node.parent;
    }
    else {
        return previouslyMatchedAttribute(node.parent, ignoreFunctions);
    }
}
// Inserts a node after the target, moving all of the
// target's children to the node
// Before: [Target] -> [Children]
// After:  [Target] -> [Node] -> [Children]
function insertAfterNode(node, target) {
    node.parent = target;
    node.children = target.children;
    target.children.map(function (n) { return n.parent = node; });
    target.children = [node];
}
function insertBeforeNode(node, target) {
    var parent = target.parent;
    if (parent !== undefined) {
        parent.addChild(node);
        parent.children.splice(parent.children.indexOf(target), 1);
        node.addChild(target);
    }
}
// Find all leaf nodes stemming from a given node
function findLeafNodes(node) {
    if (node.children.length === 0) {
        return [node];
    }
    else {
        var foundLeafs = node.children.map(findLeafNodes);
        var flatLeafs = flattenNestedArray(foundLeafs);
        return flatLeafs;
    }
}
/*function moveNode(node: Node, target: Node): void {
  if (node.hasProperty(Properties.ROOT)) {
    return;
  }
  let parent = node.parent;
  parent.children.splice(parent.children.indexOf(node),1);
  parent.children = parent.children.concat(node.children);
  node.children.map((child) => child.parent = parent);
  node.children = [];
  node.parent = target;
  target.children.push(node);
}*/
// Finds a parent node with the specified property, 
// returns undefined if no node was found
function findParentWithProperty(node, property) {
    if (node.parent === undefined) {
        return undefined;
    }
    else if (node.parent.hasProperty(property)) {
        return node.parent;
    }
    else {
        return findParentWithProperty(node.parent, property);
    }
}
// Finds a parent node with the specified property, 
// returns undefined if no node was found
function findChildWithProperty(node, property) {
    if (node.children.length === 0) {
        return undefined;
    }
    if (node.hasProperty(property)) {
        return node;
    }
    else {
        var childrenWithProperty = node.children.filter(function (child) { return child.hasProperty(property); });
        if (childrenWithProperty !== undefined) {
            return childrenWithProperty[0];
        }
        else {
            var results = node.children.map(function (child) { return findChildWithProperty(child, property); }).filter(function (result) { return result !== undefined; });
            if (results.length > 0) {
                return results[0];
            }
        }
    }
}
// Finds a parent node with the specified POS, 
// returns undefined if no node was found
function findParentWithPOS(node, majorPOS) {
    if (getMajorPOS(node.token.POS) === MajorPartsOfSpeech.ROOT) {
        return undefined;
    }
    if (getMajorPOS(node.parent.token.POS) === majorPOS) {
        return node.parent;
    }
    else {
        return findParentWithPOS(node.parent, majorPOS);
    }
}
/*
// Sets node to be a sibling of its parent
// Before: [Grandparent] -> [Parent] -> [Node]
// After:  [Grandparent] -> [Parent]
//                       -> [Node]
function promoteNode(node: Node): void {
  if (node.parent.hasProperty(Properties.ROOT)) {
    return;
  }
  let newSibling = node.parent;
  let newParent = newSibling.parent;
  // Set parent
  node.parent = newParent;
  // Remove node from parent's children
  newSibling.children.splice(newSibling.children.indexOf(node),1);
  // Add node to new parent's children
  newParent.children.push(node);
}*/
// Makes the node's parent a child of the node.
// The node's grandparent is then the node's parent
// Before: [Grandparent] -> [Parent] -> [Node]
// After: [Grandparen] -> [Node] -> [Parent]
function makeParentChild(node) {
    var parent = node.parent;
    // Do not swap with root
    if (parent.hasProperty(Properties.ROOT)) {
        return;
    }
    // Set parents
    node.parent = parent.parent;
    parent.parent = node;
    // Remove node as a child from parent
    parent.children.splice(parent.children.indexOf(node), 1);
    // Set children
    node.children = node.children.concat(parent);
    node.parent.children.push(node);
    node.parent.children.splice(node.parent.children.indexOf(parent), 1);
}
// Swaps a node with its parent. The node's parent
// is then the parent's parent, and its child is the parent.
// The parent gets the node's children
function swapWithParent(node) {
    var parent = node.parent;
    var pparent = parent.parent;
    if (parent.hasProperty(Properties.ROOT)) {
        return;
    }
    parent.parent = node;
    parent.children = node.children;
    pparent.children.splice(pparent.children.indexOf(parent), 1);
    node.parent = pparent;
    node.children = [parent];
    pparent.children.push(node);
}
function newContext() {
    return {
        entities: [],
        collections: [],
        attributes: [],
        fxns: [],
        groupings: [],
        relationships: [],
        found: [],
        arguments: [],
        maybeEntities: [],
        maybeAttributes: [],
        maybeCollections: [],
        maybeFunctions: [],
        maybeArguments: [],
        internalFxns: [],
        nodes: [],
        stateFlags: { list: false, insert: false },
    };
}
(function (FunctionTypes) {
    FunctionTypes[FunctionTypes["FILTER"] = 0] = "FILTER";
    FunctionTypes[FunctionTypes["AGGREGATE"] = 1] = "AGGREGATE";
    FunctionTypes[FunctionTypes["BOOLEAN"] = 2] = "BOOLEAN";
    FunctionTypes[FunctionTypes["CALCULATE"] = 3] = "CALCULATE";
    FunctionTypes[FunctionTypes["INSERT"] = 4] = "INSERT";
    FunctionTypes[FunctionTypes["SELECT"] = 5] = "SELECT";
    FunctionTypes[FunctionTypes["GROUP"] = 6] = "GROUP";
    FunctionTypes[FunctionTypes["NEGATE"] = 7] = "NEGATE";
})(exports.FunctionTypes || (exports.FunctionTypes = {}));
var FunctionTypes = exports.FunctionTypes;
function stringToFunction(word) {
    var all = [Properties.ENTITY, Properties.ATTRIBUTE, Properties.COLLECTION, Properties.FUNCTION, Properties.ROOT];
    var CFA = [Properties.COLLECTION, Properties.FUNCTION, Properties.ATTRIBUTE];
    var filterFields = [{ name: "a", types: [Properties.ATTRIBUTE, Properties.QUANTITY] },
        { name: "b", types: [Properties.ATTRIBUTE, Properties.QUANTITY] }
    ];
    var calculateFields = [{ name: "result", types: [Properties.OUTPUT] },
        { name: "a", types: [Properties.ATTRIBUTE, Properties.QUANTITY] },
        { name: "b", types: [Properties.ATTRIBUTE, Properties.QUANTITY] }
    ];
    switch (word) {
        case "after":
        case ">":
            return { name: ">", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case "before":
        case "<":
            return { name: "<", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case ">=":
            return { name: ">=", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case "<=":
            return { name: "<=", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case "=":
            return { name: "=", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case "!=":
            return { name: "!=", type: FunctionTypes.FILTER, fields: filterFields, project: false };
        case "taller":
            return { name: ">", type: FunctionTypes.FILTER, attribute: "height", fields: filterFields, project: false };
        case "shorter":
            return { name: "<", type: FunctionTypes.FILTER, attribute: "length", fields: filterFields, project: false };
        case "longer":
            return { name: ">", type: FunctionTypes.FILTER, attribute: "length", fields: filterFields, project: false };
        case "younger":
            return { name: "<", type: FunctionTypes.FILTER, attribute: "age", fields: filterFields, project: false };
        case "&":
        case "and":
            return { name: "and", type: FunctionTypes.BOOLEAN, fields: [], project: false };
        case "or":
            return { name: "or", type: FunctionTypes.BOOLEAN, fields: [], project: false };
        case "total":
        case "sum":
            return { name: "sum", type: FunctionTypes.AGGREGATE, fields: [{ name: "sum", types: [Properties.OUTPUT] },
                    { name: "value", types: [Properties.ATTRIBUTE] }], project: true, projectedAs: "sum" };
        case "count":
        case "number of":
        case "count the number of":
        case "count number of":
        case "how many":
            return { name: "count", type: FunctionTypes.AGGREGATE, fields: [{ name: "count", types: [Properties.OUTPUT] },
                    { name: "root", types: all }], project: true, projectedAs: "count" };
        case "average":
        case "avg":
        case "mean":
            return { name: "average", type: FunctionTypes.AGGREGATE, fields: [{ name: "average", types: [Properties.OUTPUT] },
                    { name: "value", types: [Properties.ATTRIBUTE] }], project: true, projectedAs: "average" };
        case "plus":
        case "add":
        case "+":
            return { name: "+", type: FunctionTypes.CALCULATE, fields: calculateFields, project: true, projectedAs: "+" };
        case "subtract":
        case "minus":
        case "-":
            return { name: "-", type: FunctionTypes.CALCULATE, fields: calculateFields, project: true, projectedAs: "-" };
        case "times":
        case "multiply":
        case "multiplied":
        case "multiplied by":
        case "*":
            return { name: "*", type: FunctionTypes.CALCULATE, fields: calculateFields, project: true, projectedAs: "*" };
        case "divide":
        case "divided":
        case "divided by":
        case "/":
            return { name: "/", type: FunctionTypes.CALCULATE, fields: calculateFields, project: true, projectedAs: "/" };
        case "^":
            return { name: "^", type: FunctionTypes.CALCULATE, fields: calculateFields, project: true, projectedAs: "^" };
        case "is":
        case "is a":
        case "is an":
            return { name: "insert", type: FunctionTypes.INSERT, fields: [{ name: "entity", types: [Properties.ENTITY] },
                    { name: "attribute", types: [Properties.ATTRIBUTE] },
                    { name: "root", types: all }], project: false };
        /*case "are":
          return {name: "insert", type: FunctionTypes.INSERT, fields: [{name: "collection", types: [Properties.COLLECTION]},
                                                                       {name: "collection", types: [Properties.COLLECTION]}], project: false};*/
        case "his":
        case "hers":
        case "their":
        case "its":
        case "'s":
        case "'":
            return { name: "select", type: FunctionTypes.SELECT, fields: [{ name: "subject", types: [Properties.ENTITY, Properties.COLLECTION, Properties.ATTRIBUTE] }], project: false };
        case "by":
        case "grouped by":
        case "per":
            return { name: "group", type: FunctionTypes.GROUP, fields: [{ name: "root", types: all },
                    { name: "collection", types: [Properties.COLLECTION, Properties.ATTRIBUTE] }], project: false };
        case "except":
        case "without":
        case "not":
        case "aren't":
            return { name: "negate", type: FunctionTypes.NEGATE, fields: [{ name: "negated", types: CFA }], project: false };
        default:
            return undefined;
    }
}
function findFunction(node, context) {
    log("Searching for function: " + node.name);
    var fxn = stringToFunction(node.name);
    if (fxn === undefined) {
        log(" Not Found: " + node.name);
        return false;
    }
    // Insert function needs to follow a possessive function
    if (fxn.type === FunctionTypes.INSERT && !context.found.some(function (n) { return n.hasProperty(Properties.POSSESSIVE); })) {
        return false;
    }
    log(" Found: " + fxn.name);
    node.fxn = fxn;
    fxn.node = node;
    // Add arguments to the node
    var args = fxn.fields.map(function (field, i) {
        var argToken = newToken(field.name);
        var argNode = newNode(argToken);
        argNode.properties.push(Properties.ARGUMENT);
        if (fxn.project && i === 0) {
            argNode.properties.push(Properties.OUTPUT);
            argNode.found = true;
            var outputToken = newToken("output" + context.fxns.length);
            var outputNode = newNode(outputToken);
            var outputAttribute = {
                id: outputNode.name,
                displayName: outputNode.name,
                variable: outputNode.name,
                node: outputNode,
                project: false,
            };
            outputNode.attribute = outputAttribute;
            outputNode.properties.push(Properties.OUTPUT);
            outputNode.found = true;
            argNode.addChild(outputNode);
        }
        else {
            argNode.properties.push(Properties.INPUT);
        }
        argNode.properties = argNode.properties.concat(field.types);
        context.arguments.push(argNode);
        return argNode;
    });
    node.properties.push(Properties.FUNCTION);
    for (var _i = 0; _i < args.length; _i++) {
        var arg = args[_i];
        node.addChild(arg);
    }
    node.found = true;
    node.type = NodeTypes.FUNCTION;
    if (node.fxn.type === FunctionTypes.AGGREGATE ||
        node.fxn.type === FunctionTypes.CALCULATE ||
        node.fxn.type === FunctionTypes.FILTER) {
        context.fxns.push(node);
    }
    context.internalFxns.push(node);
    return true;
}
function formTree(node, tree, context) {
    log("--------------------------------");
    log(node.toString());
    log(context);
    if (context.nodes.indexOf(node) === -1) {
        context.nodes.push(node);
    }
    // Don't do anything with subsumed nodes
    if (node.hasProperty(Properties.SUBSUMED)) {
        log("Skipping...");
        return { tree: tree, context: context };
    }
    // -------------------------------------
    // Step 1: Build n-grams
    // -------------------------------------
    log("ngrams:");
    // Flatten the tree
    var nextNode = tree;
    var nodes = [];
    while (nextNode !== undefined) {
        nodes.push(nextNode);
        nextNode = nextNode.next();
    }
    // Build ngrams
    // Initialize the ngrams with 1-grams
    var ngrams = nodes.map(function (node) { return [node]; });
    // Shift off the root node
    ngrams.shift();
    var n = 4;
    var m = ngrams.length;
    var offset = 0;
    for (var i = 0; i < n - 1; i++) {
        var newNgrams = [];
        for (var j = offset; j < ngrams.length; j++) {
            var thisNgram = ngrams[j];
            var nextNgram = ngrams[j + 1];
            // Break at the end of the ngrams
            if (nextNgram === undefined) {
                break;
            }
            // From the new ngram
            var newNgram = thisNgram.concat([nextNgram[nextNgram.length - 1]]);
            newNgrams.push(newNgram);
        }
        offset = ngrams.length;
        ngrams = ngrams.concat(newNgrams);
    }
    // Check each ngram for a display name
    var matchedNgrams = [];
    for (var i = ngrams.length - 1; i >= 0; i--) {
        var ngram = ngrams[i];
        var allFound_1 = ngram.every(function (node) { return node.found; });
        if (allFound_1 !== true) {
            var displayName = ngram.map(function (node) { return node.name; }).join(" ").replace(/ '/g, '\'');
            log(displayName);
            var foundName = app_1.eve.findOne("index name", { name: displayName });
            // If the display name is in the system, mark all the nodes as found 
            if (foundName !== undefined) {
                ngram.map(function (node) { return node.found = true; });
                matchedNgrams.push(ngram);
            }
            else {
                var foundAttribute = app_1.eve.findOne("entity eavs", { attribute: displayName });
                if (foundAttribute !== undefined) {
                    ngram.map(function (node) { return node.found = true; });
                    matchedNgrams.push(ngram);
                }
                else {
                    var fxn = stringToFunction(displayName);
                    if (fxn !== undefined) {
                        ngram.map(function (node) { return node.found = true; });
                        // "engineers are employees" asserts that every engineer is also an employee
                        // "engineers that are employees" is asking for the intersection of engineers and employees
                        // "that" is a determiner, which cnages the meaning of the sentence, so we prevent 
                        // an insert using this heuristic 
                        if (fxn.type === FunctionTypes.INSERT &&
                            (ngram[0].prev().token.POS === MinorPartsOfSpeech.DT ||
                                getMajorPOS(ngram[0].prev().token.POS) === MajorPartsOfSpeech.WHWORD)) {
                            return { tree: tree, context: context };
                        }
                        else {
                            matchedNgrams.push(ngram);
                        }
                    }
                }
            }
        }
    }
    // Turn matched ngrams into compound nodes  
    for (var _i = 0; _i < matchedNgrams.length; _i++) {
        var ngram = matchedNgrams[_i];
        // Don't do anything for 1-grams
        if (ngram.length === 1) {
            ngram[0].found = false;
            continue;
        }
        var displayName = ngram.map(function (node) { return node.name; }).join(" ").replace(/ '/g, '\'');
        log("Creating compound node: " + displayName);
        var lastGram = ngram[ngram.length - 1];
        var compoundToken = newToken(displayName);
        compoundToken.prev = ngram[0].token.prev;
        var compoundNode = newNode(compoundToken);
        compoundNode.constituents = ngram;
        compoundNode.constituents.map(function (node) { return node.properties.push(Properties.SUBSUMED); });
        compoundNode.ix = lastGram.ix;
        // Inherit properties from the nodes
        compoundNode.properties = lastGram.properties;
        compoundNode.properties.push(Properties.COMPOUND);
        compoundNode.properties.splice(compoundNode.properties.indexOf(Properties.SUBSUMED), 1); // Don't inherit subsumed property
        // The compound node results from the new node,
        // so the compound node replaces it
        node = compoundNode;
    }
    log('-------');
    // -------------------------------------
    // Step 2: Identify the node
    // -------------------------------------
    // If the node is a quantity, just build an attribute
    if (node.hasProperty(Properties.QUANTITY)) {
        var quantityAttribute = {
            id: node.name,
            displayName: node.name,
            variable: node.name,
            node: node,
            project: false,
            handled: true,
        };
        node.quantity = parseFloat(node.name);
        node.properties.push(Properties.ATTRIBUTE);
        node.type = NodeTypes.NUMBER;
        node.attribute = quantityAttribute;
        node.found = true;
    }
    // Find a collection, entity, attribute, or function
    if (!node.found) {
        findCollection(node, context);
        if (!node.found) {
            findAttribute(node, context);
            if (!node.found) {
                findEntity(node, context);
                if (!node.found) {
                    findFunction(node, context);
                    if (!node.found) {
                        log(node.name + " was not found anywhere!");
                    }
                }
            }
        }
    }
    // If the node wasn't found at all, don't try to place it anywhere
    if (!node.found && context.stateFlags.insert === false) {
        if (getMajorPOS(node.token.POS) === MajorPartsOfSpeech.NOUN) {
            if (node.hasProperty(Properties.PROPER)) {
                context.maybeEntities.push(node);
            }
            else if (node.hasProperty(Properties.PLURAL)) {
                context.maybeCollections.push(node);
            }
            else {
                context.maybeAttributes.push(node);
            }
        }
        return { tree: tree, context: context };
    }
    else if (!node.found && context.stateFlags.insert === true) {
        var root = context.arguments.filter(function (a) { return a.hasProperty(Properties.ROOT); }).pop();
        if (root !== undefined) {
            node.found = true;
            addNodeToFunction(node, root.parent, context);
        }
        context.maybeAttributes.push(node);
        return { tree: tree, context: context };
    }
    else if (node.found && !node.foundReps) {
        findAlternativeRepresentations(node);
    }
    // -------------------------------------
    // Step 3: Insert the node into the tree
    // -------------------------------------
    log("Matching: " + node.name);
    // If the node is compound, replace the last subsumed node with it
    if (node.hasProperty(Properties.COMPOUND)) {
        var subsumedNode = node.constituents[node.constituents.length - 2];
        if (subsumedNode.parent !== undefined) {
            log("Replacing \"" + subsumedNode.name + "\" with \"" + node.name + "\"");
            insertBeforeNode(node, subsumedNode);
            removeBranch(subsumedNode);
            var children = subsumedNode.children;
            // Relinquish children
            for (var _a = 0; _a < children.length; _a++) {
                var child = children[_a];
                if (child.hasProperty(Properties.ARGUMENT)) {
                    for (var _b = 0, _c = child.children; _b < _c.length; _b++) {
                        var grandChild = _c[_b];
                        removeBranch(grandChild);
                        formTree(grandChild, tree, context);
                    }
                }
                else {
                    removeBranch(child);
                    formTree(child, tree, context);
                }
            }
            // filter context
            context.internalFxns = context.internalFxns.filter(function (f) { return !f.hasProperty(Properties.SUBSUMED); });
            context.arguments = context.arguments.filter(function (a) { return !a.parent.hasProperty(Properties.SUBSUMED); });
            return { tree: tree, context: context };
        }
    }
    // Handle functions
    if (node.hasProperty(Properties.FUNCTION)) {
        // Find an argument to attach the node to
        var functionArg = context.arguments.filter(function (n) { return n.hasProperty(Properties.FUNCTION) && n.parent !== node && !n.found; });
        if (functionArg.length > 0) {
            var arg = functionArg.pop();
            addNodeToFunction(node, arg.parent, context);
        }
        else {
            tree.addChild(node);
        }
        // If the node is a grouping node, attach the old root to the new one
        if (node.fxn.type === FunctionTypes.GROUP) {
            var newRoot = node.children[0];
            for (var _d = 0, _e = tree.children; _d < _e.length; _d++) {
                var child = _e[_d];
                if (child === node) {
                    continue;
                }
                else {
                    reroot(child, newRoot);
                }
                newRoot.found = true;
            }
        }
        else if (node.fxn.type === FunctionTypes.INSERT) {
            // Find an entity
            var entity = context.found.filter(function (n) { return n.hasProperty(Properties.ENTITY) && n.ix < node.ix; }).pop();
            if (entity !== undefined) {
                removeNode(entity);
                addNodeToFunction(entity, node, context);
                // Find an attribute
                var attribute = context.found.filter(function (n) { return n.hasProperty(Properties.ATTRIBUTE) && n.ix > entity.ix; }).pop();
                if (attribute !== undefined) {
                    removeNode(attribute);
                    addNodeToFunction(attribute, node, context);
                }
                else {
                    var attributeNodes = context.nodes.filter(function (ma) { return ma.ix > entity.ix + 1; });
                    attributeNodes.pop();
                    if (attributeNodes.length > 0) {
                        attributeNodes.map(removeNode);
                        var nName = attributeNodes.map(function (ma) { return ma.name; }).join(" ");
                        var nToken = newToken(nName);
                        nToken.ix = attributeNodes[0].ix;
                        var nNode = newNode(nToken);
                        nNode.type = NodeTypes.STRING;
                        nNode.found = true;
                        nNode.properties.push(Properties.ATTRIBUTE);
                        addNodeToFunction(nNode, node, context);
                    }
                }
            }
        }
        else if (node.fxn.type === FunctionTypes.FILTER) {
            // If an attribute is specified, create an attribute node for each one
            if (node.fxn.attribute !== undefined) {
                // LHS
                var nToken = newToken(node.fxn.attribute);
                var nNode = newNode(nToken);
                formTree(nNode, tree, context);
                // RHS
                nToken = newToken(node.fxn.attribute);
                nNode = newNode(nToken);
                findAttribute(nNode, context);
                addNodeToFunction(nNode, node, context);
            }
            else {
                var orphans = context.found.filter(function (n) { return n.hasProperty(Properties.ATTRIBUTE); });
                for (var _f = 0; _f < orphans.length; _f++) {
                    var orphan = orphans[_f];
                    removeNode(orphan);
                    formTree(orphan, tree, context);
                    // Break when all args are filled
                    if (node.children.every(function (n) { return n.found; })) {
                        break;
                    }
                }
            }
        }
        else if (node.fxn.type === FunctionTypes.NEGATE) {
        }
        else if (node.fxn.type === FunctionTypes.CALCULATE) {
            var AQFs = context.nodes.filter(function (n) { return n.hasProperty(Properties.ATTRIBUTE) ||
                n.hasProperty(Properties.QUANTITY) ||
                n.hasProperty(Properties.FUNCTION); });
            for (var _g = 0; _g < AQFs.length; _g++) {
                var aqf = AQFs[_g];
                if (aqf.parent !== undefined && aqf.parent.hasProperty(Properties.ARGUMENT)) {
                    continue;
                }
                if (aqf.hasProperty(Properties.FUNCTION)) {
                    if (aqf.fxn.type === FunctionTypes.AGGREGATE) {
                        removeBranch(aqf);
                    }
                    else {
                        continue;
                    }
                }
                else {
                    removeNode(aqf);
                }
                formTree(aqf, tree, context);
                if (node.children.every(function (n) { return n.found; })) {
                    break;
                }
            }
        }
        else {
            if (node.fxn.fields.length > 0) {
                for (var i = context.found.length - 1; i >= 0; i--) {
                    var foundNode = context.found[i];
                    removeNode(foundNode);
                    formTree(foundNode, tree, context);
                    // Break when all args are filled
                    if (node.children.every(function (n) { return n.found; })) {
                        break;
                    }
                }
            }
        }
    }
    else {
        // Find a relationship if we have to
        var relationship = { type: RelationshipTypes.NONE };
        if (node.relationships.length === 0) {
            //let orphans = tree.children.filter((child) => child.relationships.length === 0 && child.children.length === 0);  
            for (var i = context.found.length - 1; i >= 0; i--) {
                var foundNode = context.found[i];
                if (foundNode === node) {
                    continue;
                }
                if (node.relationships.length === 0) {
                    removeNode(node);
                }
                relationship = findRelationship(node, foundNode, context);
                if (relationship.type !== RelationshipTypes.NONE) {
                    break;
                }
                else if (relationship.type === RelationshipTypes.NONE) {
                    if (foundNode.hasProperty(Properties.POSSESSIVE) && !node.found && !node.hasProperty(Properties.QUANTITY)) {
                        context.maybeAttributes.push(node);
                    }
                }
            }
        }
        // Place the node onto a function if one is open
        var openFunctions = context.internalFxns.filter(function (fxn) { return !fxn.children.every(function (c) { return c.found; }); });
        for (var _h = 0; _h < openFunctions.length; _h++) {
            var fxnNode = openFunctions[_h];
            var added = addNodeToFunction(node, fxnNode, context);
            if (added) {
                relationship.type = RelationshipTypes.DIRECT;
                break;
            }
        }
        // If no relationships were found, stick the node onto the root
        if (node.parent === undefined && node.relationships.length === 0) {
            tree.addChild(node);
        }
        else if (node.parent === undefined) {
            var relatedNodes = node.relationships.map(function (r) { return r.nodes; });
            var flatRelatedNodes = flattenNestedArray(relatedNodes);
            var relatedAttribute = flatRelatedNodes.filter(function (n) { return n.hasProperty(Properties.ATTRIBUTE); }).shift();
            if (relatedAttribute !== undefined) {
                var root = findParentWithProperty(relatedAttribute, Properties.ROOT);
                if (root !== undefined) {
                    root.addChild(node);
                }
                else {
                    tree.addChild(node);
                }
            }
            else {
                tree.addChild(node);
            }
        }
        // Finally add any nodes implicit in the relationship    
        if (relationship.implicitNodes !== undefined && relationship.implicitNodes.length > 0) {
            for (var _j = 0, _k = relationship.implicitNodes; _j < _k.length; _j++) {
                var implNode = _k[_j];
                formTree(implNode, tree, context);
            }
        }
    }
    // Switch state
    if (node.fxn && node.fxn.type === FunctionTypes.INSERT) {
        context.stateFlags.insert = true;
    }
    log("Tree:");
    log(tree.toString());
    return { tree: tree, context: context };
}
// Find all the representations of a thing
function findAlternativeRepresentations(node) {
    var attr = findEveAttribute(node.name);
    var coll = findEveCollection(node.name);
    var ent = findEveEntity(node.name);
    var fxn = stringToFunction(node.name);
    node.representations = {
        collection: coll,
        entity: ent,
        attribute: attr,
        fxn: fxn,
    };
    node.foundReps = true;
}
// Swap the representation of the node with another one
// Clears all attributes related to the old rep, and adds a new one
function changeRepresentation(node, rep, context) {
    // Clear the node
    node.found = false;
    if (node.collection !== undefined) {
        node.collection = undefined;
        node.properties.splice(node.properties.indexOf(Properties.COLLECTION), 1);
    }
    else if (node.entity !== undefined) {
        node.entity = undefined;
        node.properties.splice(node.properties.indexOf(Properties.ENTITY), 1);
    }
    else if (node.attribute !== undefined) {
        node.attribute = undefined;
        node.properties.splice(node.properties.indexOf(Properties.ATTRIBUTE), 1);
    }
    else if (node.fxn !== undefined) {
        node.fxn = undefined;
        node.properties.splice(node.properties.indexOf(Properties.FUNCTION), 1);
    }
    // Switch the representation
    if (rep === Properties.COLLECTION) {
        if (node.representations.collection) {
            findCollection(node, context);
            return true;
        }
    }
    else if (rep === Properties.ENTITY) {
        if (node.representations.entity) {
            findEntity(node, context);
            return true;
        }
    }
    else if (rep === Properties.ATTRIBUTE) {
        if (node.representations.attribute) {
            findAttribute(node, context);
            return true;
        }
    }
    else if (rep === Properties.FUNCTION) {
        if (node.representations.fxn) {
            findFunction(node, context);
            return true;
        }
    }
    return false;
}
// Adds a node to an argument. If adding the node completes a select,
// a new node will be returned
function addNodeToFunction(node, fxnNode, context) {
    log("Matching \"" + node.name + "\" with function \"" + fxnNode.name + "\"");
    // Find the correct arg
    var arg;
    if (node.hasProperty(Properties.ENTITY)) {
        arg = fxnNode.children.filter(function (c) { return c.hasProperty(Properties.ENTITY) && !c.found; }).shift();
    }
    else if (node.hasProperty(Properties.COLLECTION)) {
        arg = fxnNode.children.filter(function (c) { return c.hasProperty(Properties.COLLECTION) && !c.found; }).shift();
    }
    else if (node.hasProperty(Properties.ATTRIBUTE)) {
        arg = fxnNode.children.filter(function (c) { return c.hasProperty(Properties.ATTRIBUTE) && !c.found; }).shift();
    }
    else if (node.hasProperty(Properties.FUNCTION)) {
        arg = fxnNode.children.filter(function (c) { return c.hasProperty(Properties.FUNCTION) && !c.found; }).shift();
    }
    else {
        arg = fxnNode.children.filter(function (c) { return c.hasProperty(Properties.ROOT); }).shift();
    }
    // Add the node to the arg
    if (arg !== undefined) {
        if (fxnNode.fxn.type === FunctionTypes.GROUP && arg.name === "collection") {
            context.groupings.push(node);
            arg.addChild(node);
        }
        else if (fxnNode.fxn.type === FunctionTypes.SELECT) {
            var root = findParentWithProperty(fxnNode, Properties.ROOT);
            removeBranch(fxnNode);
            context.arguments.splice(context.arguments.indexOf(node.children[0]), 1);
            context.internalFxns.splice(context.internalFxns.indexOf(fxnNode), 1);
            node.properties.push(Properties.POSSESSIVE);
            root.addChild(node);
            return true;
        }
        else {
            arg.addChild(node);
        }
        arg.found = true;
        return true;
    }
    else {
        return false;
    }
}
function cloneCollection(collection) {
    var clone = {
        id: collection.id,
        displayName: collection.displayName,
        node: collection.node,
        variable: collection.variable,
        project: collection.project,
    };
    return clone;
}
// Returns the entity with the given display name.
// If the entity is not found, returns undefined
// Two error modes here: 
// 1) the name is not found in "display name"
// 2) the name is found in "display name" but not found in "entity"
// can 2) ever happen?
// Returns the collection with the given display name.
function findEveEntity(search) {
    log("Searching for entity: " + search);
    var foundEntity;
    var name;
    // Try to find by display name first
    var display = app_1.eve.findOne("index name", { name: search });
    if (display !== undefined) {
        foundEntity = app_1.eve.findOne("entity", { entity: display.id });
        name = search;
    }
    else {
        foundEntity = app_1.eve.findOne("entity", { entity: search });
    }
    // Build the entity
    if (foundEntity !== undefined) {
        if (name === undefined) {
            display = app_1.eve.findOne("display name", { id: search });
            name = display.name;
        }
        var entity = {
            id: foundEntity.entity,
            displayName: name,
            variable: name.replace(/ /g, ''),
            project: true,
            entityAttr: false,
            entityVar: false,
            valueVar: false,
        };
        log(" Found: " + entity.id);
        return entity;
    }
    else {
        log(" Not found: " + search);
        return undefined;
    }
}
// Returns the collection with the given display name.
function findEveCollection(search) {
    log("Searching for collection: " + search);
    var foundCollection;
    var name;
    // Try to find by display name first
    var display = app_1.eve.findOne("index name", { name: search });
    if (display !== undefined) {
        foundCollection = app_1.eve.findOne("collection", { collection: display.id });
        name = search;
    }
    else {
        foundCollection = app_1.eve.findOne("collection", { collection: search });
    }
    // Build the collection
    if (foundCollection !== undefined) {
        if (name === undefined) {
            display = app_1.eve.findOne("display name", { id: search });
            name = display.name;
        }
        var collection = {
            id: foundCollection.collection,
            displayName: name,
            variable: name.replace(/ /g, ''),
            project: true,
        };
        log(" Found: " + collection.id);
        return collection;
    }
    else {
        log(" Not found: " + search);
        return undefined;
    }
}
// Returns the attribute with the given display name attached to the given entity
// If the entity does not have that attribute, or the entity does not exist, returns undefined
function findEveAttribute(name) {
    log("Searching for attribute: " + name);
    var foundAttribute = app_1.eve.findOne("entity eavs", { attribute: name });
    if (foundAttribute !== undefined) {
        var attribute = {
            id: foundAttribute.attribute,
            displayName: name,
            variable: name.replace(/ /g, ''),
            project: true,
        };
        log(" Found: " + name);
        log(attribute);
        return attribute;
    }
    log(" Not found: " + name);
    return undefined;
}
var RelationshipTypes;
(function (RelationshipTypes) {
    RelationshipTypes[RelationshipTypes["NONE"] = 0] = "NONE";
    RelationshipTypes[RelationshipTypes["DIRECT"] = 1] = "DIRECT";
    RelationshipTypes[RelationshipTypes["ONEHOP"] = 2] = "ONEHOP";
    RelationshipTypes[RelationshipTypes["TWOHOP"] = 3] = "TWOHOP";
    RelationshipTypes[RelationshipTypes["INTERSECTION"] = 4] = "INTERSECTION";
})(RelationshipTypes || (RelationshipTypes = {}));
function findRelationship(nodeA, nodeB, context) {
    var relationship = { type: RelationshipTypes.NONE };
    if ((nodeA === nodeB) ||
        (context.stateFlags.insert) ||
        (nodeA.hasProperty(Properties.QUANTITY) && nodeB.hasProperty(Properties.QUANTITY))) {
        return relationship;
    }
    log("Finding relationship between \"" + nodeA.name + "\" and \"" + nodeB.name + "\"");
    // Sort the nodes in order
    // 1) Collection 
    // 2) Entity 
    // 3) Attribute
    // 4) Function
    // 5) Quantity
    // 6) String
    nodeA.properties.sort(function (a, b) { return a - b; });
    nodeB.properties.sort(function (a, b) { return a - b; });
    var nodes = [nodeA, nodeB].sort(function (a, b) { return a.properties[0] - b.properties[0]; });
    nodeA = nodes[0];
    nodeB = nodes[1];
    // Find the proper relationship
    if (nodeA.hasProperty(Properties.ENTITY) && nodeB.hasProperty(Properties.ATTRIBUTE)) {
        relationship = findEntToAttrRelationship(nodeA, nodeB, context);
    }
    else if (nodeA.hasProperty(Properties.COLLECTION) && nodeB.hasProperty(Properties.ATTRIBUTE)) {
        relationship = findCollToAttrRelationship(nodeA, nodeB, context);
    }
    else if (nodeA.hasProperty(Properties.COLLECTION) && nodeB.hasProperty(Properties.COLLECTION)) {
        relationship = findCollToCollRelationship(nodeA, nodeB, context);
    }
    else if (nodeA.hasProperty(Properties.ATTRIBUTE) && nodeB.hasProperty(Properties.ATTRIBUTE)) {
        relationship = findAttrToAttrRelationship(nodeA, nodeB, context);
    }
    else if (nodeA.hasProperty(Properties.COLLECTION) && nodeB.hasProperty(Properties.ENTITY)) {
        relationship = findCollToEntRelationship(nodeA, nodeB, context);
    }
    // Add relationships to the nodes and context
    if (relationship.type !== RelationshipTypes.NONE) {
        nodeA.relationships.push(relationship);
        nodeB.relationships.push(relationship);
        context.relationships.push(relationship);
    }
    else {
        nodes = [nodeA, nodeB].sort(function (a, b) { return a.ix - b.ix; });
        nodeA = nodes[0];
        nodeB = nodes[1];
        var repChanged = false;
        // If one node is possessive, it suggests the other should be represented as an attribute of the first
        if (nodeA.hasProperty(Properties.POSSESSIVE) && !nodeB.hasProperty(Properties.ATTRIBUTE) && nodeB.representations.attribute !== undefined) {
            repChanged = changeRepresentation(nodeB, Properties.ATTRIBUTE, context);
        }
        else if (nodeA.hasProperty(Properties.COLLECTION) && nodeB.hasProperty(Properties.COLLECTION) && nodeB.representations.attribute !== undefined) {
            repChanged = changeRepresentation(nodeB, Properties.ATTRIBUTE, context);
        }
        if (repChanged) {
            relationship = findRelationship(nodeA, nodeB, context);
        }
    }
    return relationship;
}
// e.g. Corey's wife's age
function findAttrToAttrRelationship(attrA, attrB, context) {
    log("Finding Attr -> Attr relationship between \"" + attrA.name + "\" and \"" + attrB.name + "\"...");
    console.log(attrA);
    console.log(attrB);
    if (attrA.hasProperty(Properties.QUANTITY)) {
        var temp = attrA;
        attrA = attrB;
        attrB = temp;
    }
    // e.g. employees whose salary is 10
    if (attrA.relationships.length > 0 && attrB.hasProperty(Properties.QUANTITY) && !attrA.parent.hasProperty(Properties.ARGUMENT)) {
        attrA.attribute.variable = "" + attrB.quantity;
        attrA.attribute.attributeVar = false;
        attrA.attribute.project = false;
        return { type: RelationshipTypes.DIRECT, nodes: [attrA, attrB] };
    }
    else {
        return { type: RelationshipTypes.NONE };
    }
    // Check whether one of the attributes is an entity attribute
    var direct = false;
    if (attrA.hasProperty(Properties.POSSESSIVE)) {
        direct = true;
    }
    else if (attrB.hasProperty(Properties.POSSESSIVE)) {
        var tNode = attrA;
        attrA = attrB;
        attrB = tNode;
        direct = true;
    }
    if (direct) {
        log("  Found a direct relationship");
        // Create an entity attribute
        var entityAttr = attrA.attribute;
        var ent = {
            id: entityAttr.variable,
            displayName: entityAttr.variable,
            variable: entityAttr.variable,
            project: false,
            entityAttr: true,
            entityVar: false,
            valueVar: false,
        };
        var nToken = newToken(entityAttr.variable);
        var nNode = newNode(nToken);
        nNode.entity = ent;
        ent.node = nNode;
        attrB.attribute.variable = attrA.attribute.variable + "|" + attrB.attribute.id;
        attrB.attribute.refs = [nNode];
        return { type: RelationshipTypes.DIRECT, nodes: [attrA, attrB] };
    }
    return { type: RelationshipTypes.NONE };
}
// e.g. "meetings john was in"
function findCollToEntRelationship(coll, ent, context) {
    log("Finding Coll -> Ent relationship between \"" + coll.name + "\" and \"" + ent.name + "\"...");
    /*if (coll === "collections") {
      if (eve.findOne("collection entities", { entity: nodeB.entity.id })) {
        return { type: RelationshipTypes.DIRECT };
      }
    }
    if (eve.findOne("collection entities", { collection: coll.collection.id, entity: ent.entity.id })) {
      log("  Found Direct relationship")
      return { type: RelationshipTypes.DIRECT };
    }*/
    var eveRelationship = app_1.eve.query("")
        .select("collection entities", { collection: coll.collection.id }, "collection")
        .select("directionless links", { entity: ["collection", "entity"], link: ent.entity.id }, "links")
        .exec();
    if (eveRelationship.unprojected.length) {
        var entities = extractFromUnprojected(eveRelationship.unprojected, 1, 2, "link");
        var collections = findCommonCollections(entities);
        var collLinkID;
        if (collections.length > 0) {
            log("  Found Direct Relationship");
            var entity = ent.entity;
            entity.entityVar = true;
            entity.project = false;
            entity.variable = coll.collection.variable;
            var relationship = { type: RelationshipTypes.DIRECT, nodes: [coll, ent] };
            return relationship;
        }
    }
    /*
    // e.g. events with chris granger (events -> meetings -> chris granger)
    let relationships2 = eve.query(``)
      .select("collection entities", { collection: coll }, "collection")
      .select("directionless links", { entity: ["collection", "entity"] }, "links")
      .select("directionless links", { entity: ["links", "link"], link: ent }, "links2")
      .exec();
    if (relationships2.unprojected.length) {
      let entities = extractFromUnprojected(relationships2.unprojected, 1, 3);
      return { type: RelationshipTypes.TWOHOP };
    }*/
    log("  No relationship found");
    return { type: RelationshipTypes.NONE };
}
function findEntToAttrRelationship(ent, attr, context) {
    log("Finding Ent -> Attr relationship between \"" + ent.name + "\" and \"" + attr.name + "\"...");
    // If the node already has a relationship, then treat the entity as filtering the node
    if (attr.relationships.length > 0 && !attr.parent.hasProperty(Properties.ARGUMENT)) {
        attr.attribute.variable = ent.entity.id;
        attr.attribute.attributeVar = false;
        attr.attribute.project = false;
        ent.entity.project = false;
        ent.entity.handled = true;
        return { type: RelationshipTypes.DIRECT, nodes: [ent, attr] };
    }
    else if (attr.relationships.length > 0) {
        return { type: RelationshipTypes.NONE };
    }
    // Check for a direct relationship
    // e.g. "Josh's age"
    var eveRelationship = app_1.eve.findOne("entity eavs", { entity: ent.entity.id, attribute: attr.attribute.id });
    if (eveRelationship) {
        log("  Found a direct relationship.");
        var attribute = attr.attribute;
        var varName = (ent.name + "|" + attr.name).replace(/ /g, '');
        attribute.variable = varName;
        attribute.refs = [ent];
        attribute.project = true;
        ent.entity.handled = true;
        return { type: RelationshipTypes.DIRECT, nodes: [ent, attr], implicitNodes: [] };
    }
    // Check for a one-hop relationship
    // e.g. "Salaries in engineering"
    eveRelationship = app_1.eve.query("")
        .select("directionless links", { entity: ent.entity.id }, "links")
        .select("entity eavs", { entity: ["links", "link"], attribute: attr.attribute.id }, "eav")
        .exec();
    if (eveRelationship.unprojected.length) {
        log(eveRelationship);
        // Fill in the attribute
        var entities = extractFromUnprojected(eveRelationship.unprojected, 0, 2, "link");
        var collections = findCommonCollections(entities);
        var collLinkID;
        if (collections.length > 0) {
            log("  Found One-Hop Relationship");
            // @HACK Choose the correct collection in a smart way. 
            // Largest collection other than entity or testdata?
            collLinkID = collections[0];
            var foundCollection = findEveCollection(collLinkID);
            var linkToken = newToken(foundCollection.displayName);
            var linkCollection = newNode(linkToken);
            findCollection(linkCollection, context);
            var attribute = attr.attribute;
            var varName = (linkCollection.name + "|" + attr.name).replace(/ /g, '');
            attribute.variable = varName;
            attribute.refs = [linkCollection];
            // Find the one-hop link
            var getAttr = app_1.eve.query("")
                .select("directionless links", { entity: ent.entity.id }, "links")
                .select("entity eavs", { entity: ["links", "link"], value: ent.entity.id }, "eav")
                .exec();
            var attributes = extractFromUnprojected(getAttr.unprojected, 1, 2, "attribute");
            attributes = attributes.filter(onlyUnique);
            var attrLinkID;
            var nNode;
            var implicitNodes = [];
            if (attributes.length > 0) {
                attrLinkID = attributes[0];
                // Build a link attribute node
                var newName = attrLinkID;
                var nToken = newToken(newName);
                nNode = newNode(nToken);
                var nAttribute = {
                    id: attrLinkID,
                    refs: [linkCollection],
                    node: nNode,
                    displayName: attrLinkID,
                    variable: "\"" + ent.entity.id + "\"",
                    project: false,
                };
                nNode.attribute = nAttribute;
                nNode.properties.push(Properties.ATTRIBUTE);
                nNode.found = true;
                implicitNodes.push(nNode);
            }
            // Project what we need to
            attribute.project = true;
            ent.entity.project = false;
            ent.entity.handled = true;
            var relationship = { type: RelationshipTypes.ONEHOP, nodes: [ent, attr], implicitNodes: implicitNodes };
            if (nNode !== undefined) {
                nNode.relationships.push(relationship);
            }
            return relationship;
        }
    }
    /*
    let relationships2 = eve.query(``)
      .select("directionless links", { entity: entity.id }, "links")
      .select("directionless links", { entity: ["links", "link"] }, "links2")
      .select("entity eavs", { entity: ["links2", "link"], attribute: attr }, "eav")
      .exec();
    if (relationships2.unprojected.length) {
      let entities = extractFromUnprojected(relationships2.unprojected, 0, 3);
      let entities2 = extractFromUnprojected(relationships2.unprojected, 1, 3);
      //return { distance: 2, type: RelationshipTypes.ENTITY_ATTRIBUTE, nodes: [findCommonCollections(entities), findCommonCollections(entities2)] };
    }*/
    log("  No relationship found.");
    return { type: RelationshipTypes.NONE };
}
function findCollToCollRelationship(collA, collB, context) {
    log("Finding Coll -> Coll relationship between \"" + collA.collection.displayName + "\" and \"" + collB.collection.displayName + "\"...");
    // are there things in both sets?
    var intersection = app_1.eve.query(collA.collection.displayName + "->" + collB.collection.displayName)
        .select("collection entities", { collection: collA.collection.id }, "collA")
        .select("collection entities", { collection: collB.collection.id, entity: ["collA", "entity"] }, "collB")
        .exec();
    // is there a relationship between things in both sets
    var eveRelationship = app_1.eve.query("relationships between " + collA.collection.displayName + " and " + collB.collection.displayName)
        .select("collection entities", { collection: collA.collection.id }, "collA")
        .select("directionless links", { entity: ["collA", "entity"] }, "links")
        .select("collection entities", { collection: collB.collection.id, entity: ["links", "link"] }, "collB")
        .group([["links", "link"]])
        .aggregate("count", {}, "count")
        .project({ type: ["links", "link"], count: ["count", "count"] })
        .exec();
    var maxRel = { type: "", count: 0 };
    for (var _i = 0, _a = eveRelationship.results; _i < _a.length; _i++) {
        var result = _a[_i];
        if (result.count > maxRel.count)
            maxRel = result;
    }
    // we divide by two because unprojected results pack rows next to eachother
    // and we have two selects.
    var intersectionSize = intersection.unprojected.length / 2;
    if (maxRel.count > intersectionSize) {
        /*
        console.log(eveRelationship)
        let entities = extractFromUnprojected(eveRelationship.unprojected,1,2,"link").filter((e) => e !== undefined);
        let collections = findCommonCollections(entities);
        console.log(entities);
        console.log(collections)
        console.log(findEveCollection(collections[0]));*/
        log(" Direct relationship found");
        var nName = collA.name + "|" + collB.name;
        var nToken = newToken(nName);
        var nNode = newNode(nToken);
        // Create a link eav
        var entity = {
            id: nName,
            displayName: nName,
            variable: collB.collection.variable,
            value: collA.collection.variable,
            project: false,
            entityAttr: false,
            entityVar: true,
            valueVar: true,
            node: nNode,
            handled: false,
        };
        nNode.properties.push(Properties.ENTITY);
        nNode.entity = entity;
        nNode.found = true;
        collB.addChild(nNode);
        var relationship = { type: RelationshipTypes.DIRECT, nodes: [collA, collB] };
        nNode.relationships.push(relationship);
        return relationship;
    }
    else if (intersectionSize > 0) {
        log(" Found Intersection relationship.");
        collA.collection.variable = collB.collection.variable;
        collB.collection.project = true;
        collA.collection.project = false;
        return { type: RelationshipTypes.INTERSECTION, nodes: [collA, collB] };
    }
    else if (maxRel.count === 0 && intersectionSize === 0) {
        log("  No relationship found2");
        return { type: RelationshipTypes.NONE };
    }
    else {
        // @TODO
        log("  No relationship found3");
        return { type: RelationshipTypes.NONE };
    }
}
exports.findCollToCollRelationship = findCollToCollRelationship;
function findCollToAttrRelationship(coll, attr, context) {
    // Finds a direct relationship between collection and attribute
    // e.g. "pets' lengths"" => pet -> length
    log("Finding Coll -> Attr relationship between \"" + coll.name + "\" and \"" + attr.name + "\"...");
    var eveRelationship = app_1.eve.query("")
        .select("collection entities", { collection: coll.collection.id }, "collection")
        .select("entity eavs", { entity: ["collection", "entity"], attribute: attr.attribute.id }, "eav")
        .exec();
    if (eveRelationship.unprojected.length > 0) {
        log("  Found Direct Relationship");
        // Build an attribute node
        var attribute = attr.attribute;
        var varName = (coll.name + "|" + attr.name).replace(/ /g, '');
        attribute.variable = varName;
        attribute.refs = [coll];
        attribute.project = true;
        return { type: RelationshipTypes.DIRECT, nodes: [coll, attr], implicitNodes: [] };
    }
    // Finds a one hop relationship
    // e.g. "department salaries" => department -> employee -> salary
    eveRelationship = app_1.eve.query("")
        .select("collection entities", { collection: coll.collection.id }, "collection")
        .select("directionless links", { entity: ["collection", "entity"] }, "links")
        .select("entity eavs", { entity: ["links", "link"], attribute: attr.attribute.id }, "eav")
        .exec();
    if (eveRelationship.unprojected.length > 0) {
        log("  Found One-Hop Relationship");
        log(eveRelationship);
        // Find the one-hop link
        var entities = extractFromUnprojected(eveRelationship.unprojected, 1, 3, "link");
        var collections = findCommonCollections(entities);
        var linkID;
        if (collections.length > 0) {
            // @HACK Choose the correct collection in a smart way. 
            // Largest collection other than entity or testdata?
            linkID = collections[0];
        }
        // Fill in the attribute
        var foundCollection = findEveCollection(linkID);
        var linkToken = newToken(foundCollection.displayName);
        var linkCollection = newNode(linkToken);
        findCollection(linkCollection, context);
        var attribute = attr.attribute;
        var varName = (linkCollection.name + "|" + attr.name).replace(/ /g, '');
        attribute.variable = varName;
        attribute.refs = [linkCollection];
        attribute.project = true;
        // Build a link attribute node
        var newName = coll.collection.variable;
        var nToken = newToken(newName);
        var nNode = newNode(nToken);
        var nAttribute = {
            id: coll.collection.displayName,
            refs: [linkCollection],
            node: nNode,
            displayName: newName,
            variable: newName,
            project: false,
        };
        nNode.attribute = nAttribute;
        nNode.properties.push(Properties.ATTRIBUTE);
        nNode.found = true;
        // Project what we need to
        linkCollection.collection.project = true;
        coll.collection.project = true;
        var relationship = { type: RelationshipTypes.ONEHOP, nodes: [coll, attr], implicitNodes: [nNode] };
        nNode.relationships.push(relationship);
        linkCollection.relationships.push(relationship);
        return relationship;
    }
    /*
    // Not sure if this one works... using the entity table, a 2 hop link can
    // be found almost anywhere, yielding results like
    // e.g. "Pets heights" => pets -> snake -> entity -> corey -> height
     relationship = eve.query(``)
      .select("collection entities", { collection: coll.id }, "collection")
      .select("directionless links", { entity: ["collection", "entity"] }, "links")
      .select("directionless links", { entity: ["links", "link"] }, "links2")
     .select("entity eavs", { entity: ["links2", "link"], attribute: attr }, "eav")
      .exec();
    if (relationship.unprojected.length > 0) {
      return true;
    }*/
    log("  No relationship found");
    return { type: RelationshipTypes.NONE };
}
// Extracts entities from unprojected results
function extractFromUnprojected(coll, ix, size, field) {
    var results = [];
    for (var i = 0, len = coll.length; i < len; i += size) {
        results.push(coll[i + ix][field]);
    }
    return results;
}
// Find collections that entities have in common
function findCommonCollections(entities) {
    var intersection = entityTocollectionsArray(entities[0]);
    intersection.sort();
    for (var _i = 0, _a = entities.slice(1); _i < _a.length; _i++) {
        var entId = _a[_i];
        var cur = entityTocollectionsArray(entId);
        cur.sort();
        arrayIntersect(intersection, cur);
    }
    intersection.sort(function (a, b) {
        return app_1.eve.findOne("collection", { collection: a })["count"] - app_1.eve.findOne("collection", { collection: b })["count"];
    });
    return intersection;
}
function entityTocollectionsArray(entity) {
    var entities = app_1.eve.find("collection entities", { entity: entity });
    return entities.map(function (a) { return a["collection"]; });
}
function findCollection(node, context) {
    var collection;
    collection = findEveCollection(node.name);
    if (collection !== undefined) {
        context.found.push(node);
        collection.node = node;
        node.collection = collection;
        node.representations.collection = collection;
        node.type = NodeTypes.COLLECTION;
        node.found = true;
        node.properties.push(Properties.COLLECTION);
        return true;
    }
    return false;
}
function findEntity(node, context) {
    var entity;
    entity = findEveEntity(node.name);
    if (entity !== undefined) {
        context.found.push(node);
        entity.node = node;
        node.entity = entity;
        node.representations.entity = entity;
        node.type = NodeTypes.ENTITY;
        node.found = true;
        node.properties.push(Properties.ENTITY);
        return true;
    }
    return false;
}
function findAttribute(node, context) {
    if (node.name === "is a") {
        return false;
    }
    var attribute;
    attribute = findEveAttribute(node.name);
    if (attribute !== undefined) {
        context.found.push(node);
        attribute.node = node;
        node.attribute = attribute;
        node.representations.attribute = attribute;
        node.type = NodeTypes.ATTRIBUTE;
        node.found = true;
        node.properties.push(Properties.ATTRIBUTE);
        return true;
    }
    return false;
}
function addFieldsToProject(projectFields, fields) {
    var field;
    for (var _i = 0; _i < fields.length; _i++) {
        field = fields[_i];
        var matchingFields = projectFields.filter(function (f) { return f.name === field.name; });
        if (matchingFields.length === 0) {
            projectFields.push(field);
        }
    }
}
function negateTerm(term) {
    if (term.table === "entity eavs" && term.fields[2] !== undefined && term.fields[2].name === "value") {
        term.fields.splice(2, 1);
    }
    var negate = newQuery([term]);
    negate.type = "negate";
    return negate;
}
function newQuery(terms, subqueries, projects) {
    if (terms === undefined) {
        terms = [];
    }
    if (subqueries === undefined) {
        subqueries = [];
    }
    if (projects === undefined) {
        projects = [];
    }
    // Dedupe terms
    var termStrings = terms.map(termToString);
    var uniqueTerms = termStrings.map(function (value, index, self) {
        return self.indexOf(value) === index;
    });
    terms = terms.filter(function (term, index) { return uniqueTerms[index]; });
    var query = {
        type: "query",
        terms: terms,
        subqueries: subqueries,
        projects: projects,
        toString: queryToString,
    };
    function queryToString(depth) {
        if (query.terms.length === 0 && query.projects.length === 0) {
            return "";
        }
        if (depth === undefined) {
            depth = 0;
        }
        var indent = Array(depth + 1).join("\t");
        var queryString = indent + "(";
        // Map each term/subquery/project to a string
        var typeString = query.type;
        var termString = query.terms.map(function (term) { return termToString(term, depth + 1); }).join("\n");
        var subqueriesString = query.subqueries.map(function (query) { return query.toString(depth + 1); }).join("\n");
        var projectsString = query.projects.map(function (term) { return termToString(term, depth + 1); }).join("\n");
        // Now compose the query string
        queryString += typeString;
        queryString += termString === "" ? "" : "\n" + termString;
        queryString += subqueriesString === "" ? "" : "\n" + subqueriesString;
        queryString += projectsString === "" ? "" : "\n" + projectsString;
        // Close out the query
        queryString += "\n" + indent + ")";
        return queryString;
    }
    function termToString(term, depth) {
        if (depth === undefined) {
            depth = 0;
        }
        var indent = Array(depth + 1).join("\t");
        var termString = indent + "(";
        termString += term.type + " ";
        termString += "" + (term.table === undefined ? "" : "\"" + term.table + "\" ");
        termString += term.fields.map(function (field) { return (":" + field.name + " " + (field.variable ? field.value : "\"" + field.value + "\"")); }).join(" ");
        termString += ")";
        return termString;
    }
    return query;
}
exports.newQuery = newQuery;
function formQuery(node) {
    var query = newQuery();
    var projectFields = [];
    //--------------------------
    // Handle the children nodes
    //--------------------------
    var childQueries = node.children.map(formQuery);
    // Subsume child queries
    var combinedProjectFields = [];
    for (var _i = 0; _i < childQueries.length; _i++) {
        var cQuery = childQueries[_i];
        query.terms = query.terms.concat(cQuery.terms);
        query.subqueries = query.subqueries.concat(cQuery.subqueries);
        // Combine unnamed projects
        for (var _a = 0, _b = cQuery.projects; _a < _b.length; _a++) {
            var project = _b[_a];
            if (project.table === undefined) {
                addFieldsToProject(combinedProjectFields, project.fields);
            }
        }
    }
    if (combinedProjectFields.length > 0) {
        projectFields = combinedProjectFields;
    }
    // Sort terms
    query.terms = query.terms.sort(function (a, b) {
        var aRank = setRank(a.table);
        var bRank = setRank(b.table);
        function setRank(table) {
            if (table === "entity eavs") {
                return 1;
            }
            else if (table === "directionless links") {
                return 2;
            }
            else if (table === "is a attributes") {
                return 3;
            }
            else {
                return 4;
            }
        }
        return aRank - bRank;
    });
    //-------------------------
    // Handle the current node
    //-------------------------
    // Just return at the root
    if (node.hasProperty(Properties.ROOT) || node.hasProperty(Properties.ARGUMENT)) {
        if (projectFields.length > 0) {
            var project = {
                type: "project!",
                fields: projectFields,
            };
            query.projects.push(project);
        }
        return query;
    }
    // Handle functions -------------------------------
    if (node.hasProperty(Properties.FUNCTION) &&
        node.fxn.type === FunctionTypes.NEGATE) {
        log("Building negate term for: " + node.name);
        var negatedTerm = query.terms.pop();
        var negatedQuery = negateTerm(negatedTerm);
        query.subqueries.push(negatedQuery);
        projectFields = [];
    }
    if (node.hasProperty(Properties.FUNCTION) && (node.fxn.type === FunctionTypes.AGGREGATE ||
        node.fxn.type === FunctionTypes.CALCULATE ||
        node.fxn.type === FunctionTypes.FILTER)) {
        // Collection all input and output nodes which were found
        var allArgsFound = node.children.every(function (child) { return child.found; });
        // If we have the right number of arguments, proceed
        var output;
        if (allArgsFound) {
            log("Building function term for: " + node.name);
            var args = node.children.filter(function (child) { return child.hasProperty(Properties.ARGUMENT); }).map(function (arg) { return arg.children[0]; });
            var fields = args.map(function (arg, i) {
                if (arg.parent.hasProperty(Properties.ROOT)) {
                    return undefined;
                }
                return { name: node.fxn.fields[i].name,
                    value: arg.attribute.variable,
                    variable: arg.attribute.attributeVar !== undefined ? arg.attribute.attributeVar : true
                };
            }).filter(function (f) { return f !== undefined; });
            var term = {
                type: "select",
                table: node.fxn.name,
                fields: fields,
                node: node,
            };
            query.terms.push(term);
            // project output if necessary
            if (node.fxn.project === true) {
                projectFields = args.filter(function (arg) { return arg.parent.hasProperty(Properties.OUTPUT); })
                    .map(function (arg) {
                    return { name: node.fxn.name,
                        value: arg.attribute.variable,
                        variable: true };
                });
                args.map(function (a) {
                    if (a.hasProperty(Properties.ATTRIBUTE)) {
                        a.attribute.project = false;
                        a.attribute.projectedAs = undefined;
                    }
                    else if (a.hasProperty(Properties.COLLECTION)) {
                        a.collection.project = false;
                        a.collection.projectedAs = undefined;
                    }
                });
                query.projects = []; // Clears all previous projects
            }
        }
    }
    if (node.hasProperty(Properties.FUNCTION) && (node.fxn.type === FunctionTypes.GROUP)) {
        var allArgsFound = node.children.every(function (child) { return child.found; });
        if (allArgsFound) {
            log("Building function term for: " + node.name);
            var groupNode = node.children[1].children[0];
            if (groupNode.hasProperty(Properties.COLLECTION)) {
                groupNode.collection.handled = false;
            }
            else if (groupNode.hasProperty(Properties.ATTRIBUTE)) {
                groupNode.attribute.handled = false;
            }
            var subquery = query;
            var query2 = formQuery(groupNode);
            query = newQuery();
            query.subqueries.push(subquery);
            query.terms = query.terms.concat(query2.terms);
        }
    }
    // Handle attributes -------------------------------
    if (node.hasProperty(Properties.ATTRIBUTE) && !node.attribute.handled) {
        log("Building attribute term for: " + node.name);
        var fields = [];
        var attr = node.attribute;
        if (attr.refs !== undefined) {
            for (var _c = 0, _d = attr.refs; _c < _d.length; _c++) {
                var ref = _d[_c];
                var entityVar = ref.entity !== undefined ? ref.entity.id : ref.collection.variable;
                var fieldVar = ref.entity !== undefined && ref.entity.entityAttr === false ? false : true;
                if (fields.length === 0) {
                    var entityField = {
                        name: "entity",
                        value: entityVar,
                        variable: fieldVar,
                    };
                    fields.push(entityField);
                }
                // Build a query for each ref and merge it with the current query
                var refQuery = formQuery(ref);
                query.terms = query.terms.concat(refQuery.terms);
                if (refQuery.projects.length > 0) {
                    addFieldsToProject(projectFields, refQuery.projects[0].fields);
                }
            }
        }
        var attrField = {
            name: "attribute",
            value: attr.id,
            variable: false
        };
        fields.push(attrField);
        var valueField = {
            name: "value",
            value: attr.variable,
            variable: attr.attributeVar !== undefined ? attr.attributeVar : true,
        };
        fields.push(valueField);
        var term = {
            type: "select",
            table: "entity eavs",
            fields: fields,
            node: node,
        };
        query.terms.push(term);
        // project if necessary
        if (node.attribute.project) {
            var projectAttribute = {
                name: attr.displayName.replace(/ /g, ''),
                value: attr.variable,
                variable: true
            };
            attr.projectedAs = projectAttribute.name;
            addFieldsToProject(projectFields, [projectAttribute]);
        }
        node.attribute.handled = true;
    }
    // Handle collections -------------------------------
    if (node.hasProperty(Properties.COLLECTION) && !node.collection.handled) {
        log("Building collection term for: " + node.name);
        var collection = node.collection;
        var entityField = {
            name: "entity",
            value: collection.variable,
            variable: true
        };
        var collectionField = {
            name: "collection",
            value: collection.id,
            variable: false
        };
        var term = {
            type: "select",
            table: "is a attributes",
            fields: [entityField, collectionField],
            node: node,
        };
        query.terms.push(term);
        // project if necessary
        if (node.collection.project) {
            var projectCollection = {
                name: collection.variable.replace(/ /g, ''),
                value: collection.variable,
                variable: true
            };
            collection.projectedAs = projectCollection.name;
            addFieldsToProject(projectFields, [projectCollection]);
        }
        node.collection.handled = true;
    }
    // Handle entities -------------------------------
    if (node.hasProperty(Properties.ENTITY) && !node.entity.handled) {
        log("Building entity term for: " + node.name);
        var entity = node.entity;
        var fields = [];
        var entityField = {
            name: "entity",
            value: entity.entityVar ? entity.variable : entity.id,
            variable: entity.entityVar,
        };
        fields.push(entityField);
        if (entity.entityVar) {
            var valueField = {
                name: entity.entityVar ? "link" : "value",
                value: entity.valueVar ? entity.value : entity.id,
                variable: entity.valueVar,
            };
            fields.push(valueField);
        }
        var term = {
            type: "select",
            table: entity.entityVar ? "directionless links" : "entity eavs",
            fields: fields,
            node: node,
        };
        query.terms.push(term);
        // project if necessary
        if (entity.project === true) {
            var projectEntity = {
                name: entity.displayName.replace(/ /g, ''),
                value: entity.id,
                variable: false
            };
            entity.projectedAs = projectEntity.name;
            addFieldsToProject(projectFields, [projectEntity]);
        }
        node.entity.handled = true;
    }
    // Project something if necessary       
    if (projectFields.length > 0) {
        var project = {
            type: "project!",
            fields: projectFields,
        };
        query.projects.push(project);
    }
    return query;
}
// ----------------------------------------------------------------------------
// Debug utility functions
// ---------------------------------------------------------------------------- 
var divider = "--------------------------------------------------------------------------------";
exports.debug = false;
function log(x) {
    if (exports.debug) {
        console.log(x);
    }
}
function tokenToString(token, s1, s2, s3, s4, s5) {
    var properties = "(" + token.properties.map(function (property) { return Properties[property]; }).join("|") + ")";
    properties = properties.length === 2 ? "" : properties;
    var tokenSpan = token.start === undefined ? " " : " [" + token.start + "-" + token.end + "] ";
    var spacer1 = Array(s1 - ("" + token.ix).length + 1).join(" ");
    var spacer2 = Array(s2 - ("" + token.originalWord).length + 1).join(" ");
    var spacer3 = Array(s3 - ("" + token.normalizedWord).length + 1).join(" ");
    var spacer4 = Array(s4 - ("" + MajorPartsOfSpeech[getMajorPOS(token.POS)]).length + 1).join(" ");
    var spacer5 = Array(s5 - ("" + MinorPartsOfSpeech[token.POS]).length + 1).join(" ");
    var tokenString = token.ix + ":" + spacer1 + " " + token.originalWord + spacer2 + " | " + token.normalizedWord + spacer3 + " | " + MajorPartsOfSpeech[getMajorPOS(token.POS)] + spacer4 + " | " + MinorPartsOfSpeech[token.POS] + spacer5 + " | " + properties;
    return tokenString;
}
function tokenArrayToString(tokens) {
    var s1 = ("" + tokens[tokens.length - 1].ix).length;
    var s2 = tokens.map(function (token) { return token.originalWord.length; }).reduce(function (a, b) {
        if (b > a) {
            return b;
        }
        else {
            return a;
        }
    });
    var s3 = tokens.map(function (token) { return token.normalizedWord.length; }).reduce(function (a, b) {
        if (b > a) {
            return b;
        }
        else {
            return a;
        }
    });
    var s4 = tokens.map(function (token) { return ("" + MajorPartsOfSpeech[getMajorPOS(token.POS)]).length; }).reduce(function (a, b) {
        if (b > a) {
            return b;
        }
        else {
            return a;
        }
    });
    var s5 = tokens.map(function (token) { return ("" + MinorPartsOfSpeech[token.POS]).length; }).reduce(function (a, b) {
        if (b > a) {
            return b;
        }
        else {
            return a;
        }
    });
    var tokenArrayString = tokens.map(function (token) { return tokenToString(token, s1, s2, s3, s4, s5); }).join("\n");
    return divider + "\n" + tokenArrayString + "\n" + divider;
}
exports.tokenArrayToString = tokenArrayToString;
// ----------------------------------------------------------------------------
// Utility functions
// ----------------------------------------------------------------------------
function flattenNestedArray(nestedArray) {
    var flattened = [].concat.apply([], nestedArray);
    return flattened;
}
function onlyUnique(value, index, self) {
    return self.indexOf(value) === index;
}
function arrayIntersect(a, b) {
    var ai = 0;
    var bi = 0;
    var result = [];
    while (ai < a.length && bi < b.length) {
        if (a[ai] < b[bi])
            ai++;
        else if (a[ai] > b[bi])
            bi++;
        else {
            result.push(a[ai]);
            ai++;
            bi++;
        }
    }
    return result;
}
function isNumeric(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
}
function allFound(node) {
    var cFound = node.children.map(allFound).every(function (c) { return c; });
    if (cFound && node.found) {
        return true;
    }
    else {
        return false;
    }
}
window["NLQP"] = exports;

},{"./app":2}],2:[function(require,module,exports){
/// <reference path="microReact.ts" />
/// <reference path="../vendor/marked.d.ts" />
var microReact = require("./microReact");
var runtime = require("./runtime");
var uiRenderer_1 = require("./uiRenderer");
var utils_1 = require("./utils");
exports.syncedTables = ["sourced eav", "view", "action", "action source", "action mapping", "action mapping constant", "action mapping sorted", "action mapping limit"];
exports.eveLocalStorageKey = "eve";
//---------------------------------------------------------
// Renderer
//---------------------------------------------------------
var perfStats;
var perfStatsUi;
var updateStat = 0;
function initRenderer() {
    exports.renderer = new microReact.Renderer();
    exports.uiRenderer = new uiRenderer_1.UIRenderer(exports.eve);
    document.body.appendChild(exports.renderer.content);
    window.addEventListener("resize", render);
    perfStatsUi = document.createElement("div");
    perfStatsUi.id = "perfStats";
    document.body.appendChild(perfStatsUi);
}
if (utils_1.ENV === "browser")
    var performance = window["performance"] || { now: function () { return (new Date()).getTime(); } };
exports.renderRoots = {};
function render() {
    if (!exports.renderer || exports.renderer.queued)
        return;
    exports.renderer.queued = true;
    requestAnimationFrame(function () {
        var stats = {};
        var start = performance.now();
        var trees = [];
        for (var root in exports.renderRoots) {
            trees.push(exports.renderRoots[root]());
        }
        stats.root = (performance.now() - start).toFixed(2);
        if (+stats.root > 10)
            console.info("Slow root: " + stats.root);
        start = performance.now();
        var dynamicUI = exports.eve.find("system ui").map(function (ui) { return ui["template"]; });
        if (utils_1.DEBUG && utils_1.DEBUG.UI_COMPILE) {
            console.info("compiling", dynamicUI);
            console.info("*", exports.uiRenderer.compile(dynamicUI));
        }
        trees.push.apply(trees, exports.uiRenderer.compile(dynamicUI));
        stats.uiCompile = (performance.now() - start).toFixed(2);
        if (+stats.uiCompile > 10)
            console.info("Slow ui compile: " + stats.uiCompile);
        start = performance.now();
        exports.renderer.render(trees);
        stats.render = (performance.now() - start).toFixed(2);
        stats.update = updateStat.toFixed(2);
        var html = "";
        html += "<span>root: " + stats.root + "</span>";
        // html += `<span>ui compile: ${stats.uiCompile}</span>`;
        html += "<span>render: " + stats.render + "</span>";
        html += "<span>update: " + stats.update + "</span>";
        perfStatsUi.innerHTML = html;
        perfStats = stats;
        exports.renderer.queued = false;
    });
}
exports.render = render;
var storeQueued = false;
function storeLocally() {
    if (storeQueued)
        return;
    storeQueued = true;
    setTimeout(function () {
        var serialized = exports.eve.serialize(true);
        if (exports.eveLocalStorageKey === "eve") {
            for (var _i = 0; _i < exports.syncedTables.length; _i++) {
                var synced = exports.syncedTables[_i];
                delete serialized[synced];
            }
        }
        delete serialized["provenance"];
        localStorage[exports.eveLocalStorageKey] = JSON.stringify(serialized);
        storeQueued = false;
    }, 1000);
}
//---------------------------------------------------------
// Dispatch
//---------------------------------------------------------
var dispatches = {};
function handle(event, func) {
    if (dispatches[event]) {
        console.error("Overwriting handler for '" + event + "'");
    }
    dispatches[event] = func;
}
exports.handle = handle;
function dispatch(event, info, dispatchInfo) {
    var result = dispatchInfo;
    if (!result) {
        result = exports.eve.diff();
        result.meta.render = true;
        result.meta.store = true;
    }
    result.dispatch = function (event, info) {
        return dispatch(event, info, result);
    };
    result.commit = function () {
        var start = performance.now();
        // result.remove("builtin entity", {entity: "render performance statistics"});
        // result.add("builtin entity", {entity: "render performance statistics", content: `
        // # Render performance statistics ({is a: system})
        // root: {root: ${perfStats.root}}
        // ui compile: {ui compile: ${perfStats.uiCompile}}
        // render: {render: ${perfStats.render}}
        // update: {update: ${perfStats.update}}
        // Horrible hack, disregard this: {perf stats: render performance statistics}
        // `});
        if (!runtime.INCREMENTAL) {
            exports.eve.applyDiff(result);
        }
        else {
            exports.eve.applyDiffIncremental(result);
        }
        if (result.meta.render) {
            render();
        }
        if (result.meta.store) {
            storeLocally();
            if (exports.eveLocalStorageKey === "eve") {
                sendChangeSet(result);
            }
        }
        updateStat = performance.now() - start;
    };
    if (!event)
        return result;
    var func = dispatches[event];
    if (!func) {
        console.error("No dispatches for '" + event + "' with " + JSON.stringify(info));
    }
    else {
        func(result, info);
    }
    return result;
}
exports.dispatch = dispatch;
// No-op dispatch to trigger a rerender or start a chain.
handle("rerender", function (changes) {
});
//---------------------------------------------------------
// State
//---------------------------------------------------------
exports.eve = runtime.indexer();
exports.initializers = {};
exports.activeSearches = {};
function init(name, func) {
    exports.initializers[name] = func;
}
exports.init = init;
function executeInitializers() {
    for (var initName in exports.initializers) {
        exports.initializers[initName]();
    }
}
//---------------------------------------------------------
// Websocket
//---------------------------------------------------------
var me = utils_1.uuid();
if (this.localStorage) {
    if (localStorage["me"])
        me = localStorage["me"];
    else
        localStorage["me"] = me;
}
function connectToServer() {
    exports.socket = new WebSocket("ws://" + (window.location.hostname || "localhost") + ":8080");
    exports.socket.onerror = function () {
        console.error("Failed to connect to server, falling back to local storage");
        exports.eveLocalStorageKey = "local-eve";
        executeInitializers();
        render();
    };
    exports.socket.onopen = function () {
        sendServer("connect", me);
    };
    exports.socket.onmessage = function (data) {
        var parsed = JSON.parse(data.data);
        console.log("WS MESSAGE:", parsed);
        if (parsed.kind === "load") {
            // eve.load(parsed.data);
            executeInitializers();
            render();
        }
        else if (parsed.kind === "changeset") {
            var diff = exports.eve.diff();
            diff.tables = parsed.data;
            exports.eve.applyDiff(diff);
            render();
        }
    };
}
function sendServer(messageKind, data) {
    if (!exports.socket)
        return;
    exports.socket.send(JSON.stringify({ kind: messageKind, me: me, time: (new Date).getTime(), data: data }));
}
function sendChangeSet(changeset) {
    if (!exports.socket)
        return;
    var changes = {};
    var send = false;
    for (var _i = 0; _i < exports.syncedTables.length; _i++) {
        var table = exports.syncedTables[_i];
        if (changeset.tables[table]) {
            send = true;
            changes[table] = changeset.tables[table];
        }
    }
    if (send)
        sendServer("changeset", changes);
}
//---------------------------------------------------------
// Go
//---------------------------------------------------------
if (utils_1.ENV === "browser") {
    document.addEventListener("DOMContentLoaded", function (event) {
        initRenderer();
        // connectToServer();
        exports.eveLocalStorageKey = "local-eve";
        executeInitializers();
        render();
    });
}
init("load data", function () {
    var stored = localStorage[exports.eveLocalStorageKey];
    if (stored) {
        exports.eve.load(stored);
    }
});
if (utils_1.ENV === "browser")
    window["app"] = exports;

},{"./microReact":4,"./runtime":6,"./uiRenderer":7,"./utils":8}],3:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime = require("./runtime");
var app = require("./app");
var app_1 = require("./app");
var parser_1 = require("./parser");
var NLQueryParser_1 = require("./NLQueryParser");
var uiRenderer_1 = require("./uiRenderer");
exports.ixer = app_1.eve;
//-----------------------------------------------------------------------------
// Utilities
//-----------------------------------------------------------------------------
runtime.define("normalize string", { result: "result" }, function (text) {
    if (typeof text === "string") {
        return { result: NLQueryParser_1.normalizeString(text) };
    }
    return { result: text };
});
// export function UIFromDSL(str:string):UI {
//   function processElem(data:UIElem):UI {
//     let elem = new UI(data.id || uuid());
//     if(data.binding) elem.bind(data.bindingKind === "query" ? parseDSL(data.binding);
//     if(data.embedded) elem.embed(data.embedded);
//     if(data.attributes) elem.attributes(data.attributes);
//     if(data.events) elem.events(data.events);
//     if(data.children) {
//       for(let child of data.children) elem.child(processElem(child));
//     }
//     return elem;
//   }
//   return processElem(parseUI(str));
// }
var BSPhase = (function () {
    function BSPhase(ixer, changeset) {
        if (changeset === void 0) { changeset = ixer.diff(); }
        this.ixer = ixer;
        this.changeset = changeset;
        this._views = {};
        this._viewFields = {};
        this._entities = [];
        this._uis = {};
        this._queries = {};
        this._names = {};
    }
    BSPhase.prototype.viewKind = function (view) {
        return this._views[view];
    };
    BSPhase.prototype.viewFields = function (view) {
        return this._viewFields[view];
    };
    BSPhase.prototype.apply = function (nukeExisting) {
        for (var view in this._views) {
            if (this._views[view] === "table")
                exports.ixer.addTable(view, this._viewFields[view]);
        }
        if (nukeExisting) {
            for (var view in this._views) {
                if (this._views[view] !== "table")
                    this.changeset.merge(runtime.Query.remove(view, this.ixer));
            }
            for (var _i = 0, _a = this._entities; _i < _a.length; _i++) {
                var entity = _a[_i];
                this.changeset.remove("builtin entity", { entity: entity });
            }
            for (var ui in this._uis)
                this.changeset.merge(uiRenderer_1.UI.remove(ui, this.ixer));
        }
        exports.ixer.applyDiff(this.changeset);
    };
    //-----------------------------------------------------------------------------
    // Macros
    //-----------------------------------------------------------------------------
    BSPhase.prototype.addFact = function (table, fact) {
        this.changeset.add(table, fact);
        return this;
    };
    BSPhase.prototype.addEntity = function (entity, name, kinds, attributes, extraContent) {
        entity = utils_1.builtinId(entity);
        this._names[name] = entity;
        this._entities.push(entity);
        this.addFact("display name", { id: entity, name: name });
        var isAs = [];
        for (var _i = 0; _i < kinds.length; _i++) {
            var kind = kinds[_i];
            var sourceId = entity + ",is a," + kind;
            isAs.push("{" + kind + "|rep=link; eav source = " + sourceId + "}");
            var collEntity = utils_1.builtinId(kind);
            this.addFact("display name", { id: collEntity, name: kind });
            this.addFact("sourced eav", { entity: entity, attribute: "is a", value: collEntity, source: sourceId });
        }
        var collectionsText = "";
        if (isAs.length)
            collectionsText = utils_1.titlecase(name) + " is a " + isAs.slice(0, -1).join(", ") + " " + (isAs.length > 1 ? "and" : "") + " " + isAs[isAs.length - 1] + ".";
        var content = (_a = ["\n      ", "\n    "], _a.raw = ["\n      ", "\n    "], utils_1.unpad(6)(_a, collectionsText));
        if (attributes) {
            for (var attr in attributes) {
                var sourceId = entity + "," + attr + "," + attributes[attr];
                var value = this._names[attributes[attr]] || attributes[attr];
                this.addFact("sourced eav", { entity: entity, attribute: attr, value: value, source: sourceId });
            }
        }
        if (extraContent)
            content += "\n" + extraContent;
        var page = entity + "|root";
        this.addFact("page content", { page: page, content: content });
        this.addFact("entity page", { entity: entity, page: page });
        return this;
        var _a;
    };
    BSPhase.prototype.addView = function (view, kind, fields) {
        this._views[view] = kind;
        this._viewFields[view] = fields;
        this.addFact("view", { view: view, kind: kind });
        for (var _i = 0; _i < fields.length; _i++) {
            var field = fields[_i];
            this.addFact("field", { view: view, field: field });
        }
        var entity = view + " view";
        this.addEntity(entity, entity, ["system", kind], undefined, (_a = ["\n      ## Fields\n      ", "\n    "], _a.raw = ["\n      ## Fields\n      ", "\n    "], utils_1.unpad(6)(_a, fields.map(function (field) { return ("* " + field); }).join("\n      "))));
        return this;
        var _a;
    };
    BSPhase.prototype.addTable = function (view, fields) {
        this.addView(view, "table", fields);
        return this;
    };
    BSPhase.prototype.addUnion = function (view, fields, builtin) {
        if (builtin === void 0) { builtin = true; }
        this.addView(view, "union", fields);
        if (builtin) {
            var table = "builtin " + view;
            this.addTable(table, fields);
            this.addUnionMember(view, table);
        }
        return this;
    };
    BSPhase.prototype.addUnionMember = function (union, member, mapping) {
        // apply the natural mapping.
        if (!mapping) {
            if (this.viewKind(union) !== "union")
                throw new Error("Union '" + union + "' must be added before adding members");
            mapping = {};
            for (var _i = 0, _a = this.viewFields(union); _i < _a.length; _i++) {
                var field = _a[_i];
                mapping[field] = field;
            }
        }
        var action = union + " <-- " + member + " <-- " + JSON.stringify(mapping);
        this.addFact("action", { view: union, action: action, kind: "union", ix: 0 })
            .addFact("action source", { action: action, "source view": member });
        for (var field in mapping) {
            var mapped = mapping[field];
            if (mapped.constructor === Array) {
                this.addFact("action mapping constant", { action: action, from: field, "value": mapped[0] });
            }
            else {
                this.addFact("action mapping", { action: action, from: field, "to source": member, "to field": mapped });
            }
        }
        return this;
    };
    BSPhase.prototype.addQuery = function (view, query) {
        query.name = view;
        this._queries[view] = query;
        this.addView(view, "query", Object.keys(query.projectionMap || {}));
        this.changeset.merge(query.changeset(this.ixer));
        return this;
    };
    BSPhase.prototype.addArtifacts = function (artifacts) {
        var views = artifacts.views;
        for (var view in artifacts.views) {
            this._views[view] = "query";
        }
        for (var id in views)
            this.changeset.merge(views[id].changeset(app_1.eve));
        return this;
    };
    BSPhase.prototype.addUI = function (id, ui) {
        ui.id = id;
        this._uis[id] = ui;
        this.addEntity(id, id, ["system", "ui"]);
        this.changeset.merge(ui.changeset(this.ixer));
        return this;
    };
    return BSPhase;
})();
//-----------------------------------------------------------------------------
// Runtime Setup
//-----------------------------------------------------------------------------
app.init("bootstrap", function bootstrap() {
    //-----------------------------------------------------------------------------
    // Entity System
    //-----------------------------------------------------------------------------
    var phase = new BSPhase(app_1.eve);
    phase.changeset.addMany("display name", [{ id: "is a", name: "is a" }, { id: "content", name: "content" }, { id: "artifact", name: "artifact" }]);
    phase.addTable("manual entity", ["entity", "content"]);
    phase.addTable("sourced eav", ["entity", "attribute", "value", "source"]);
    phase.addTable("page content", ["page", "content"]);
    phase.addTable("entity page", ["entity", "page"]);
    phase.addTable("action entity", ["entity", "content", "source"]);
    phase
        .addEntity("entity", "entity", ["system"])
        .addEntity("collection", "collection", ["system"])
        .addEntity("system", "system", ["system", "collection"])
        .addEntity("union", "union", ["system", "collection"])
        .addEntity("query", "query", ["system", "collection"])
        .addEntity("table", "table", ["system", "collection"])
        .addEntity("ui", "ui", ["system", "collection"])
        .addEntity("home", "home", ["system"], undefined, (_a = ["\n      {entity|rep = directory}\n    "], _a.raw = ["\n      {entity|rep = directory}\n    "], utils_1.unpad(6)(_a)));
    phase.addUnion("entity eavs", ["entity", "attribute", "value"], true)
        .addUnionMember("entity eavs", "generated eav", { entity: "entity", attribute: "attribute", value: "value" })
        .addUnionMember("entity eavs", "sourced eav", { entity: "entity", attribute: "attribute", value: "value" })
        .addUnionMember("entity eavs", "added eavs");
    phase.addUnion("entity links", ["entity", "link", "type"])
        .addUnionMember("entity links", "eav entity links")
        .addUnionMember("entity links", "is a attributes", { entity: "entity", link: "collection", type: ["is a"] });
    phase.addUnion("directionless links", ["entity", "link"])
        .addUnionMember("directionless links", "entity links")
        .addUnionMember("directionless links", "entity links", { entity: "link", link: "entity" });
    phase.addUnion("collection entities", ["entity", "collection"])
        .addUnionMember("collection entities", "is a attributes");
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: index name\"\n      (display-name :id id :name raw)\n      (normalize-string :text raw :result name)\n      (project! \"index name\" :id id :name name))\n  "));
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: entity\"\n      (entity-page :entity entity :page page)\n      (page-content :page page :content content)\n      (project! \"entity\" :entity entity :content content))\n  "));
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: unmodified added bits\"\n      (added-bits :entity entity :content content)\n      (negate (manual-entity :entity entity))\n      (project! \"unmodified added bits\" :entity entity :content content))\n  "));
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: is a attributes\"\n      (entity-eavs :attribute \"is a\" :entity entity :value value)\n      (project! \"is a attributes\" :collection value :entity entity))\n  "));
    // @HACK: this view is required because you can't currently join a select on the result of a function.
    // so we create a version of the eavs table that already has everything lowercased.
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: lowercase eavs\"\n      (entity-eavs :entity entity :attribute attribute :value value)\n      (lowercase :text value :result lowercased)\n      (project! \"lowercase eavs\" :entity entity :attribute attribute :value lowercased))\n  "));
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: eav entity links\"\n      (entity-eavs :entity entity :attribute attribute :value value)\n      (entity :entity value)\n      (project! \"eav entity links\" :entity entity :type attribute :link value))\n  "));
    phase.addArtifacts(parser_1.parseDSL("\n    (query :$$view \"bs: collection\"\n      (is-a-attributes :collection entity)\n      (query :$$view \"bs: collection count\"\n        (is-a-attributes :collection entity :entity child)\n        (count :count childCount))\n      (project! \"collection\" :collection entity :count childCount))\n  "));
    phase.addEntity("entity", "entity", ["system"]);
    phase.addEntity("collection", "collection", ["system"]);
    phase.addArtifacts(parser_1.parseDSL((_b = ["\n    (query :$$view \"bs: entity eavs from entities\"\n      (entity :entity entity)\n      (project! \"entity eavs\" :entity entity :attribute \"is a\" :value \"", "\"))\n  "], _b.raw = ["\n    (query :$$view \"bs: entity eavs from entities\"\n      (entity :entity entity)\n      (project! \"entity eavs\" :entity entity :attribute \"is a\" :value \"", "\"))\n  "], utils_1.unpad(4)(_b, utils_1.builtinId("entity")))));
    phase.addArtifacts(parser_1.parseDSL((_c = ["\n    (query :$$view \"bs: entity eavs from collections\"\n      (is-a-attributes :collection coll)\n      (project! \"entity eavs\" :entity coll :attribute \"is a\" :value \"", "\"))\n  "], _c.raw = ["\n    (query :$$view \"bs: entity eavs from collections\"\n      (is-a-attributes :collection coll)\n      (project! \"entity eavs\" :entity coll :attribute \"is a\" :value \"", "\"))\n  "], utils_1.unpad(4)(_c, utils_1.builtinId("collection")))));
    /*  phase.addArtifacts(parseDSL(unpad(4) `
        (query
          (entity :entity entity)
          (negate (query
            (directionless-links :entity entity :link link)
            (!= link "AUTOGENERATED entity THIS SHOULDN'T SHOW UP ANYWHERE")
            (!= link "AUTOGENERATED orphaned THIS SHOULDN'T SHOW UP ANYWHERE")
            ))
          (project! "entity eavs" :entity coll :attribute "is a" :value "AUTOGENERATED collection THIS SHOULDN'T SHOW UP ANYWHERE"))
    `));*/
    phase.addTable("ui pane", ["pane", "kind", "rep", "contains", "params"]);
    if (app_1.eve.find("ui pane").length === 0)
        phase.addFact("ui pane", { pane: "p1", kind: 0, rep: "entity", contains: "", params: "" });
    phase.apply(true);
    //-----------------------------------------------------------------------------
    // UI
    //-----------------------------------------------------------------------------
    phase = new BSPhase(app_1.eve);
    // @FIXME: These should probably be unionized.
    function resolve(table, fields) {
        return fields.map(function (field) { return (table + ": " + field); });
    }
    phase.addTable("ui template", resolve("ui template", ["template", "parent", "ix"]));
    phase.addTable("ui template binding", resolve("ui template binding", ["template", "query"]));
    phase.addTable("ui embed", resolve("ui embed", ["embed", "template", "parent", "ix"]));
    phase.addTable("ui embed scope", resolve("ui embed scope", ["embed", "key", "value"]));
    phase.addTable("ui embed scope binding", resolve("ui embed scope binding", ["embed", "key", "source", "alias"]));
    phase.addTable("ui attribute", resolve("ui attribute", ["template", "property", "value"]));
    phase.addTable("ui attribute binding", resolve("ui attribute binding", ["template", "property", "source", "alias"]));
    phase.addTable("ui event", resolve("ui event", ["template", "event"]));
    phase.addTable("ui event state", resolve("ui event state", ["template", "event", "key", "value"]));
    phase.addTable("ui event state binding", resolve("ui event state binding", ["template", "event", "key", "source", "alias"]));
    phase.addTable("system ui", ["template"]);
    phase.apply(true);
    //-----------------------------------------------------------------------------
    // Testing
    //-----------------------------------------------------------------------------
    phase = new BSPhase(app_1.eve);
    var testData = {
        "test data": [],
        pet: [],
        exotic: [],
        dangerous: [],
        cat: ["pet"],
        dog: ["pet"],
        fish: ["pet"],
        snake: ["pet", "exotic"],
        koala: ["pet", "exotic"],
        sloth: ["pet", "exotic"],
        kangaroo: ["exotic"],
        giraffe: ["exotic"],
        gorilla: ["exotic", "dangerous"],
        company: [],
        kodowa: ["company"],
        department: [],
        engineering: ["department"],
        operations: ["department"],
        magic: ["department"],
        employee: [],
        josh: ["employee"],
        corey: ["employee"],
        chris: ["employee"],
        rob: ["employee"],
        eric: ["employee"],
    };
    var testAttrs = {
        cat: { length: 4 },
        dog: { length: 3 },
        fish: { length: 1 },
        snake: { length: 4 },
        koala: { length: 3 },
        sloth: { length: 3 },
        engineering: { company: "kodowa" },
        operations: { company: "kodowa" },
        magic: { company: "kodowa" },
        josh: { department: "engineering", salary: 7 },
        corey: { department: "engineering", salary: 10 },
        chris: { department: "engineering", salary: 10 },
        eric: { department: "engineering", salary: 7 },
        rob: { department: "operations", salary: 10 },
    };
    for (var entity in testData)
        phase.addEntity(entity, entity, ["test data"].concat(testData[entity]), testAttrs[entity], "");
    // phase.addTable("department", ["department"])
    //   .addFact("department", {department: "engineering"})
    //   .addFact("department", {department: "operations"})
    //   .addFact("department", {department: "magic"});
    // phase.addTable("employee", ["department", "employee", "salary"])
    //   .addFact("employee", {department: "engineering", employee: "josh", salary: 10})
    //   .addFact("employee", {department: "engineering", employee: "corey", salary: 11})
    //   .addFact("employee", {department: "engineering", employee: "chris", salary: 7})
    //   .addFact("employee", {department: "operations", employee: "rob", salary: 7});
    // phase.apply(true);
    window["p"] = phase;
    var _a, _b, _c;
});
window["bootstrap"] = exports;

},{"./NLQueryParser":1,"./app":2,"./parser":5,"./runtime":6,"./uiRenderer":7,"./utils":8}],4:[function(require,module,exports){
function now() {
    if (window.performance) {
        return window.performance.now();
    }
    return (new Date()).getTime();
}
function shallowEquals(a, b) {
    if (a === b)
        return true;
    if (!a || !b)
        return false;
    for (var k in a) {
        if (a[k] !== b[k])
            return false;
    }
    for (var k in b) {
        if (b[k] !== a[k])
            return false;
    }
    return true;
}
function postAnimationRemove(elements) {
    for (var _i = 0; _i < elements.length; _i++) {
        var elem = elements[_i];
        if (elem.parentNode)
            elem.parentNode.removeChild(elem);
    }
}
var Renderer = (function () {
    function Renderer() {
        this.content = document.createElement("div");
        this.content.className = "__root";
        this.elementCache = { "__root": this.content };
        this.prevTree = {};
        this.tree = {};
        this.postRenders = [];
        this.lastDiff = { adds: [], updates: {} };
        var self = this;
        this.handleEvent = function handleEvent(e) {
            var id = (e.currentTarget || e.target)["_id"];
            var elem = self.tree[id];
            if (!elem)
                return;
            var handler = elem[e.type];
            if (handler) {
                handler(e, elem);
            }
        };
    }
    Renderer.compile = function (elem) {
        if (!elem.id)
            throw new Error("Cannot compile element with id " + elem.id);
        var renderer = Renderer._compileRenderer[elem.id];
        if (!renderer)
            renderer = Renderer._compileRenderer[elem.id] = new Renderer();
        renderer.render([elem]);
        return renderer.elementCache[elem.id];
    };
    Renderer.prototype.reset = function () {
        this.prevTree = this.tree;
        this.tree = {};
        this.postRenders = [];
    };
    Renderer.prototype.domify = function () {
        var fakePrev = {}; //create an empty object once instead of every instance of the loop
        var elements = this.tree;
        var prevElements = this.prevTree;
        var diff = this.lastDiff;
        var adds = diff.adds;
        var updates = diff.updates;
        var elemKeys = Object.keys(updates);
        var elementCache = this.elementCache;
        var tempTween = {};
        //Create all the new elements to ensure that they're there when they need to be
        //parented
        for (var i = 0, len = adds.length; i < len; i++) {
            var id = adds[i];
            var cur = elements[id];
            var div;
            if (cur.svg) {
                div = document.createElementNS("http://www.w3.org/2000/svg", cur.t || "rect");
            }
            else {
                div = document.createElement(cur.t || "div");
            }
            div._id = id;
            elementCache[id] = div;
            if (cur.enter) {
                if (cur.enter.delay) {
                    cur.enter.display = "auto";
                    div.style.display = "none";
                }
                Velocity(div, cur.enter, cur.enter);
            }
        }
        for (var i = 0, len = elemKeys.length; i < len; i++) {
            var id = elemKeys[i];
            var cur = elements[id];
            var prev = prevElements[id] || fakePrev;
            var type = updates[id];
            var div;
            if (type === "replaced") {
                var me = elementCache[id];
                if (me.parentNode)
                    me.parentNode.removeChild(me);
                if (cur.svg) {
                    div = document.createElementNS("http://www.w3.org/2000/svg", cur.t || "rect");
                }
                else {
                    div = document.createElement(cur.t || "div");
                }
                prev = fakePrev;
                div._id = id;
                elementCache[id] = div;
            }
            else if (type === "removed") {
                //NOTE: Batching the removes such that you only remove the parent
                //didn't actually make this faster surprisingly. Given that this
                //strategy is much simpler and there's no noticable perf difference
                //we'll just do the dumb thing and remove all the children one by one.
                var me = elementCache[id];
                if (prev.leave) {
                    prev.leave.complete = postAnimationRemove;
                    if (prev.leave.absolute) {
                        me.style.position = "absolute";
                    }
                    Velocity(me, prev.leave, prev.leave);
                }
                else if (me.parentNode)
                    me.parentNode.removeChild(me);
                elementCache[id] = null;
                continue;
            }
            else {
                div = elementCache[id];
            }
            var style = div.style;
            if (cur.c !== prev.c)
                div.className = cur.c;
            if (cur.draggable !== prev.draggable)
                div.draggable = cur.draggable === undefined ? null : "true";
            if (cur.contentEditable !== prev.contentEditable)
                div.contentEditable = cur.contentEditable !== undefined ? JSON.stringify(cur.contentEditable) : "inherit";
            if (cur.colspan !== prev.colspan)
                div.colSpan = cur.colspan;
            if (cur.placeholder !== prev.placeholder)
                div.setAttribute("placeholder", cur.placeholder);
            if (cur.selected !== prev.selected)
                div.selected = cur.selected;
            if ((cur.value !== prev.value || cur.strictText) && div.value !== cur.value)
                div.value = cur.value;
            if (cur.t === "input" && cur.type !== prev.type)
                div.type = cur.type;
            if (cur.t === "input" && cur.checked !== prev.checked)
                div.checked = cur.checked;
            if ((cur.text !== prev.text || cur.strictText) && div.textContent !== cur.text)
                div.textContent = cur.text === undefined ? "" : cur.text;
            if (cur.tabindex !== prev.tabindex)
                div.setAttribute("tabindex", cur.tabindex);
            if (cur.href !== prev.href)
                div.setAttribute("href", cur.href);
            if (cur.src !== prev.src)
                div.setAttribute("src", cur.src);
            if (cur.target !== prev.target)
                div.setAttribute("target", cur.target);
            if (cur.data !== prev.data)
                div.setAttribute("data", cur.data);
            if (cur.download !== prev.download)
                div.setAttribute("download", cur.download);
            if (cur.allowfullscreen !== prev.allowfullscreen)
                div.setAttribute("allowfullscreen", cur.allowfullscreen);
            // animateable properties
            var tween = cur.tween || tempTween;
            if (cur.flex !== prev.flex) {
                if (tween.flex)
                    tempTween.flex = cur.flex;
                else
                    style.flex = cur.flex === undefined ? "" : cur.flex;
            }
            if (cur.left !== prev.left) {
                if (tween.left)
                    tempTween.left = cur.left;
                else
                    style.left = cur.left === undefined ? "" : cur.left;
            }
            if (cur.top !== prev.top) {
                if (tween.top)
                    tempTween.top = cur.top;
                else
                    style.top = cur.top === undefined ? "" : cur.top;
            }
            if (cur.height !== prev.height) {
                if (tween.height)
                    tempTween.height = cur.height;
                else
                    style.height = cur.height === undefined ? "auto" : cur.height;
            }
            if (cur.width !== prev.width) {
                if (tween.width)
                    tempTween.width = cur.width;
                else
                    style.width = cur.width === undefined ? "auto" : cur.width;
            }
            if (cur.zIndex !== prev.zIndex) {
                if (tween.zIndex)
                    tempTween.zIndex = cur.zIndex;
                else
                    style.zIndex = cur.zIndex;
            }
            if (cur.backgroundColor !== prev.backgroundColor) {
                if (tween.backgroundColor)
                    tempTween.backgroundColor = cur.backgroundColor;
                else
                    style.backgroundColor = cur.backgroundColor || "transparent";
            }
            if (cur.borderColor !== prev.borderColor) {
                if (tween.borderColor)
                    tempTween.borderColor = cur.borderColor;
                else
                    style.borderColor = cur.borderColor || "none";
            }
            if (cur.borderWidth !== prev.borderWidth) {
                if (tween.borderWidth)
                    tempTween.borderWidth = cur.borderWidth;
                else
                    style.borderWidth = cur.borderWidth || 0;
            }
            if (cur.borderRadius !== prev.borderRadius) {
                if (tween.borderRadius)
                    tempTween.borderRadius = cur.borderRadius;
                else
                    style.borderRadius = (cur.borderRadius || 0) + "px";
            }
            if (cur.opacity !== prev.opacity) {
                if (tween.opacity)
                    tempTween.opacity = cur.opacity;
                else
                    style.opacity = cur.opacity === undefined ? 1 : cur.opacity;
            }
            if (cur.fontSize !== prev.fontSize) {
                if (tween.fontSize)
                    tempTween.fontSize = cur.fontSize;
                else
                    style.fontSize = cur.fontSize;
            }
            if (cur.color !== prev.color) {
                if (tween.color)
                    tempTween.color = cur.color;
                else
                    style.color = cur.color || "inherit";
            }
            var animKeys = Object.keys(tempTween);
            if (animKeys.length) {
                Velocity(div, tempTween, tween);
                tempTween = {};
            }
            // non-animation style properties
            if (cur.backgroundImage !== prev.backgroundImage)
                style.backgroundImage = "url('" + cur.backgroundImage + "')";
            if (cur.border !== prev.border)
                style.border = cur.border || "none";
            if (cur.textAlign !== prev.textAlign) {
                style.alignItems = cur.textAlign;
                if (cur.textAlign === "center") {
                    style.textAlign = "center";
                }
                else if (cur.textAlign === "flex-end") {
                    style.textAlign = "right";
                }
                else {
                    style.textAlign = "left";
                }
            }
            if (cur.verticalAlign !== prev.verticalAlign)
                style.justifyContent = cur.verticalAlign;
            if (cur.fontFamily !== prev.fontFamily)
                style.fontFamily = cur.fontFamily || "inherit";
            if (cur.transform !== prev.transform)
                style.transform = cur.transform || "none";
            if (cur.style !== prev.style)
                div.setAttribute("style", cur.style);
            if (cur.dangerouslySetInnerHTML !== prev.dangerouslySetInnerHTML)
                div.innerHTML = cur.dangerouslySetInnerHTML;
            // debug/programmatic properties
            if (cur.semantic !== prev.semantic)
                div.setAttribute("data-semantic", cur.semantic);
            if (cur.debug !== prev.debug)
                div.setAttribute("data-debug", cur.debug);
            // SVG properties
            if (cur.svg) {
                if (cur.fill !== prev.fill)
                    div.setAttributeNS(null, "fill", cur.fill);
                if (cur.stroke !== prev.stroke)
                    div.setAttributeNS(null, "stroke", cur.stroke);
                if (cur.strokeWidth !== prev.strokeWidth)
                    div.setAttributeNS(null, "stroke-width", cur.strokeWidth);
                if (cur.d !== prev.d)
                    div.setAttributeNS(null, "d", cur.d);
                if (cur.c !== prev.c)
                    div.setAttributeNS(null, "class", cur.c);
                if (cur.x !== prev.x)
                    div.setAttributeNS(null, "x", cur.x);
                if (cur.y !== prev.y)
                    div.setAttributeNS(null, "y", cur.y);
                if (cur.dx !== prev.dx)
                    div.setAttributeNS(null, "dx", cur.dx);
                if (cur.dy !== prev.dy)
                    div.setAttributeNS(null, "dy", cur.dy);
                if (cur.cx !== prev.cx)
                    div.setAttributeNS(null, "cx", cur.cx);
                if (cur.cy !== prev.cy)
                    div.setAttributeNS(null, "cy", cur.cy);
                if (cur.r !== prev.r)
                    div.setAttributeNS(null, "r", cur.r);
                if (cur.height !== prev.height)
                    div.setAttributeNS(null, "height", cur.height);
                if (cur.width !== prev.width)
                    div.setAttributeNS(null, "width", cur.width);
                if (cur.xlinkhref !== prev.xlinkhref)
                    div.setAttributeNS('http://www.w3.org/1999/xlink', "href", cur.xlinkhref);
                if (cur.startOffset !== prev.startOffset)
                    div.setAttributeNS(null, "startOffset", cur.startOffset);
                if (cur.id !== prev.id)
                    div.setAttributeNS(null, "id", cur.id);
                if (cur.viewBox !== prev.viewBox)
                    div.setAttributeNS(null, "viewBox", cur.viewBox);
                if (cur.transform !== prev.transform)
                    div.setAttributeNS(null, "transform", cur.transform);
                if (cur.draggable !== prev.draggable)
                    div.setAttributeNS(null, "draggable", cur.draggable);
                if (cur.textAnchor !== prev.textAnchor)
                    div.setAttributeNS(null, "text-anchor", cur.textAnchor);
            }
            //events
            if (cur.dblclick !== prev.dblclick)
                div.ondblclick = cur.dblclick !== undefined ? this.handleEvent : undefined;
            if (cur.click !== prev.click)
                div.onclick = cur.click !== undefined ? this.handleEvent : undefined;
            if (cur.contextmenu !== prev.contextmenu)
                div.oncontextmenu = cur.contextmenu !== undefined ? this.handleEvent : undefined;
            if (cur.mousedown !== prev.mousedown)
                div.onmousedown = cur.mousedown !== undefined ? this.handleEvent : undefined;
            if (cur.mousemove !== prev.mousemove)
                div.onmousemove = cur.mousemove !== undefined ? this.handleEvent : undefined;
            if (cur.mouseup !== prev.mouseup)
                div.onmouseup = cur.mouseup !== undefined ? this.handleEvent : undefined;
            if (cur.mouseover !== prev.mouseover)
                div.onmouseover = cur.mouseover !== undefined ? this.handleEvent : undefined;
            if (cur.mouseout !== prev.mouseout)
                div.onmouseout = cur.mouseout !== undefined ? this.handleEvent : undefined;
            if (cur.mouseleave !== prev.mouseleave)
                div.onmouseleave = cur.mouseleave !== undefined ? this.handleEvent : undefined;
            if (cur.mousewheel !== prev.mousewheel)
                div.onmouseheel = cur.mousewheel !== undefined ? this.handleEvent : undefined;
            if (cur.dragover !== prev.dragover)
                div.ondragover = cur.dragover !== undefined ? this.handleEvent : undefined;
            if (cur.dragstart !== prev.dragstart)
                div.ondragstart = cur.dragstart !== undefined ? this.handleEvent : undefined;
            if (cur.dragend !== prev.dragend)
                div.ondragend = cur.dragend !== undefined ? this.handleEvent : undefined;
            if (cur.drag !== prev.drag)
                div.ondrag = cur.drag !== undefined ? this.handleEvent : undefined;
            if (cur.drop !== prev.drop)
                div.ondrop = cur.drop !== undefined ? this.handleEvent : undefined;
            if (cur.scroll !== prev.scroll)
                div.onscroll = cur.scroll !== undefined ? this.handleEvent : undefined;
            if (cur.focus !== prev.focus)
                div.onfocus = cur.focus !== undefined ? this.handleEvent : undefined;
            if (cur.blur !== prev.blur)
                div.onblur = cur.blur !== undefined ? this.handleEvent : undefined;
            if (cur.input !== prev.input)
                div.oninput = cur.input !== undefined ? this.handleEvent : undefined;
            if (cur.change !== prev.change)
                div.onchange = cur.change !== undefined ? this.handleEvent : undefined;
            if (cur.keyup !== prev.keyup)
                div.onkeyup = cur.keyup !== undefined ? this.handleEvent : undefined;
            if (cur.keydown !== prev.keydown)
                div.onkeydown = cur.keydown !== undefined ? this.handleEvent : undefined;
            if (type === "added" || type === "replaced" || type === "moved") {
                var parentEl = elementCache[cur.parent];
                if (parentEl) {
                    if (cur.ix >= parentEl.children.length) {
                        parentEl.appendChild(div);
                    }
                    else {
                        parentEl.insertBefore(div, parentEl.children[cur.ix]);
                    }
                }
            }
        }
    };
    Renderer.prototype.diff = function () {
        var a = this.prevTree;
        var b = this.tree;
        var as = Object.keys(a);
        var bs = Object.keys(b);
        var updated = {};
        var adds = [];
        for (var i = 0, len = as.length; i < len; i++) {
            var id = as[i];
            var curA = a[id];
            var curB = b[id];
            if (curB === undefined) {
                updated[id] = "removed";
                continue;
            }
            if (curA.t !== curB.t) {
                updated[id] = "replaced";
                continue;
            }
            if (curA.ix !== curB.ix || curA.parent !== curB.parent) {
                updated[id] = "moved";
                continue;
            }
            if (!curB.dirty
                && curA.c === curB.c
                && curA.key === curB.key
                && curA.dangerouslySetInnerHTML === curB.dangerouslySetInnerHTML
                && curA.tabindex === curB.tabindex
                && curA.href === curB.href
                && curA.src === curB.src
                && curA.data === curB.data
                && curA.download === curB.download
                && curA.allowfullscreen === curB.allowfullscreen
                && curA.placeholder === curB.placeholder
                && curA.selected === curB.selected
                && curA.draggable === curB.draggable
                && curA.contentEditable === curB.contentEditable
                && curA.value === curB.value
                && curA.target === curB.target
                && curA.type === curB.type
                && curA.checked === curB.checked
                && curA.text === curB.text
                && curA.top === curB.top
                && curA.flex === curB.flex
                && curA.left === curB.left
                && curA.width === curB.width
                && curA.height === curB.height
                && curA.zIndex === curB.zIndex
                && curA.backgroundColor === curB.backgroundColor
                && curA.backgroundImage === curB.backgroundImage
                && curA.color === curB.color
                && curA.colspan === curB.colspan
                && curA.border === curB.border
                && curA.borderColor === curB.borderColor
                && curA.borderWidth === curB.borderWidth
                && curA.borderRadius === curB.borderRadius
                && curA.opacity === curB.opacity
                && curA.fontFamily === curB.fontFamily
                && curA.fontSize === curB.fontSize
                && curA.textAlign === curB.textAlign
                && curA.transform === curB.transform
                && curA.verticalAlign === curB.verticalAlign
                && curA.semantic === curB.semantic
                && curA.debug === curB.debug
                && curA.style === curB.style
                && (curB.svg === undefined || (curA.x === curB.x
                    && curA.y === curB.y
                    && curA.dx === curB.dx
                    && curA.dy === curB.dy
                    && curA.cx === curB.cx
                    && curA.cy === curB.cy
                    && curA.r === curB.r
                    && curA.d === curB.d
                    && curA.fill === curB.fill
                    && curA.stroke === curB.stroke
                    && curA.strokeWidth === curB.strokeWidth
                    && curA.startOffset === curB.startOffset
                    && curA.textAnchor === curB.textAnchor
                    && curA.viewBox === curB.viewBox
                    && curA.xlinkhref === curB.xlinkhref))) {
                continue;
            }
            updated[id] = "updated";
        }
        for (var i = 0, len = bs.length; i < len; i++) {
            var id = bs[i];
            var curA = a[id];
            if (curA === undefined) {
                adds.push(id);
                updated[id] = "added";
                continue;
            }
        }
        this.lastDiff = { adds: adds, updates: updated };
        return this.lastDiff;
    };
    Renderer.prototype.prepare = function (root) {
        var elemLen = 1;
        var tree = this.tree;
        var elements = [root];
        var elem;
        for (var elemIx = 0; elemIx < elemLen; elemIx++) {
            elem = elements[elemIx];
            if (elem.parent === undefined)
                elem.parent = "__root";
            if (elem.id === undefined)
                elem.id = "__root__" + elemIx;
            tree[elem.id] = elem;
            if (elem.postRender !== undefined) {
                this.postRenders.push(elem);
            }
            var children = elem.children;
            if (children !== undefined) {
                for (var childIx = 0, len = children.length; childIx < len; childIx++) {
                    var child = children[childIx];
                    if (child === undefined)
                        continue;
                    if (child.id === undefined) {
                        child.id = elem.id + "__" + childIx;
                    }
                    if (child.ix === undefined) {
                        child.ix = childIx;
                    }
                    if (child.parent === undefined) {
                        child.parent = elem.id;
                    }
                    elements.push(child);
                    elemLen++;
                }
            }
        }
        return tree;
    };
    Renderer.prototype.postDomify = function () {
        var postRenders = this.postRenders;
        var diff = this.lastDiff.updates;
        var elementCache = this.elementCache;
        for (var i = 0, len = postRenders.length; i < len; i++) {
            var elem = postRenders[i];
            var id = elem.id;
            if (diff[id] === "updated" || diff[id] === "added" || diff[id] === "replaced" || elem.dirty || diff[id] === "moved") {
                elem.postRender(elementCache[elem.id], elem);
            }
        }
    };
    Renderer.prototype.render = function (elems) {
        this.reset();
        // We sort elements by depth to allow them to be self referential.
        elems.sort(function (a, b) { return (a.parent ? a.parent.split("__").length : 0) - (b.parent ? b.parent.split("__").length : 0); });
        var start = now();
        for (var _i = 0; _i < elems.length; _i++) {
            var elem = elems[_i];
            var post = this.prepare(elem);
        }
        var prepare = now();
        var d = this.diff();
        var diff = now();
        this.domify();
        var domify = now();
        this.postDomify();
        var postDomify = now();
        var time = now() - start;
        if (time > 5) {
            console.log("slow render (> 5ms): ", time, {
                prepare: prepare - start,
                diff: diff - prepare,
                domify: domify - diff,
                postDomify: postDomify - domify
            });
        }
    };
    // @TODO: A more performant implementation would have a way of rendering subtrees and just have a lambda Renderer to compile into
    Renderer._compileRenderer = {};
    return Renderer;
})();
exports.Renderer = Renderer;

},{}],5:[function(require,module,exports){
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var utils_1 = require("./utils");
var runtime = require("./runtime");
var app_1 = require("./app");
var ParseError = (function (_super) {
    __extends(ParseError, _super);
    function ParseError(message, line, lineIx, charIx, length) {
        if (charIx === void 0) { charIx = 0; }
        if (length === void 0) { length = line && (line.length - charIx); }
        _super.call(this, message);
        this.message = message;
        this.line = line;
        this.lineIx = lineIx;
        this.charIx = charIx;
        this.length = length;
        this.name = "Parse Error";
    }
    ParseError.prototype.toString = function () {
        return (_a = ["\n      ", ": ", "\n      ", "\n      ", "\n      ", "\n    "], _a.raw = ["\n      ", ": ", "\n      ", "\n      ", "\n      ", "\n    "], utils_1.unpad(6)(_a, this.name, this.message, this.lineIx !== undefined ? "On line " + (this.lineIx + 1) + ":" + this.charIx : "", this.line, utils_1.underline(this.charIx, this.length)));
        var _a;
    };
    return ParseError;
})(Error);
function readWhile(str, pattern, startIx) {
    var endIx = startIx;
    while (str[endIx] !== undefined && str[endIx].match(pattern))
        endIx++;
    return str.slice(startIx, endIx);
}
function readUntil(str, sentinel, startIx, unsatisfiedErr) {
    var endIx = str.indexOf(sentinel, startIx);
    if (endIx === -1) {
        if (unsatisfiedErr)
            return unsatisfiedErr;
        return str.slice(startIx);
    }
    return str.slice(startIx, endIx);
}
function readUntilAny(str, sentinels, startIx, unsatisfiedErr) {
    var endIx = -1;
    for (var _i = 0; _i < sentinels.length; _i++) {
        var sentinel = sentinels[_i];
        var ix = str.indexOf(sentinel, startIx);
        if (ix === -1 || endIx !== -1 && ix > endIx)
            continue;
        endIx = ix;
    }
    if (endIx === -1) {
        if (unsatisfiedErr)
            return unsatisfiedErr;
        return str.slice(startIx);
    }
    return str.slice(startIx, endIx);
}
// export function parseUI(str:string):UIElem {
//   let root:UIElem = {};
//   let errors = [];
//   let lineIx = 0;
//   let lines = str.split("\n");
//   let stack:{indent: number, elem: UIElem}[] = [{indent: -2, elem: root}];
//   // @FIXME: Chunk into element chunks instead of lines to enable in-argument continuation.
//   for(let line of lines) {
//     let charIx = 0;
//     while(line[charIx] === " ") charIx++;
//     let indent = charIx;
//     if(line[charIx] === undefined)  continue;
//     let parent:UIElem;
//     for(let stackIx = stack.length - 1; stackIx >= 0; stackIx--) {
//       if(indent > stack[stackIx].indent) {
//         parent = stack[stackIx].elem;
//         break;
//       } else stack.pop();
//     }
//     let keyword = readUntil(line, " ", charIx);
//     charIx += keyword.length;
//     if(keyword[0] === "~" || keyword[0] === "%") { // Handle binding
//       charIx -= keyword.length - 1;
//       let kind = keyword[0] === "~" ? "plan" : "query";
//       if(!parent.binding) {
//         parent.binding = line.slice(charIx);
//         parent.bindingKind = kind;
//       } else if(kind === parent.bindingKind) parent.binding += "\n" + line.slice(charIx);
//       else {
//         errors.push(new ParseError(`UI must be bound to a single type of query.`, line, lineIx));
//         continue;
//       }
//       charIx = line.length;
//     } else if(keyword[0] === "@") { // Handle event
//       charIx -= keyword.length - 1;
//       let err;
//       while(line[charIx] === " ") charIx++;
//       let lastIx = charIx;
//       let eventRaw = readUntil(line, "{", charIx);
//       charIx += eventRaw.length;
//       let event = eventRaw.trim();
//       if(!event) err = new ParseError(`UI event must specify a valid event name`, line, lineIx, lastIx, eventRaw.length);
//       let state;
//       [state, charIx] = getMapArgs(line, lineIx, charIx);
//       if(state instanceof Error && !err) err = state;
//       if(err) {
//         errors.push(err);
//         lineIx++;
//         continue;
//       }
//       if(!parent.events) parent.events = {};
//       parent.events[event] = state;
//     } else if(keyword[0] === ">") { // Handle embed
//       charIx -= keyword.length - 1;
//       let err;
//       while(line[charIx] === " ") charIx++;
//       let lastIx = charIx;
//       let embedIdRaw = readUntil(line, "{", charIx);
//       charIx += embedIdRaw.length;
//       let embedId = embedIdRaw.trim();
//       if(!embedId) err = new ParseError(`UI embed must specify a valid element id`, line, lineIx, lastIx, embedIdRaw.length);
//       let scope;
//       [scope = {}, charIx] = getMapArgs(line, lineIx, charIx);
//       if(scope instanceof Error && !err) err = scope;
//       if(err) {
//         errors.push(err);
//         lineIx++;
//         continue;
//       }
//       let elem = {embedded: scope, id: embedId};
//       if(!parent.children) parent.children = [];
//       parent.children.push(elem);
//       stack.push({indent, elem});
//     } else { // Handle element
//       let err;
//       if(!keyword) err = new ParseError(`UI element must specify a valid tag name`, line, lineIx, charIx, 0);
//       while(line[charIx] === " ") charIx++;
//       let classesRaw = readUntil(line, "{", charIx);
//       charIx += classesRaw.length;
//       let classes = classesRaw.trim();
//       let attributes;
//       [attributes = {}, charIx] = getMapArgs(line, lineIx, charIx);
//       if(attributes instanceof Error && !err) err = attributes;
//       if(err) {
//         errors.push(err);
//         lineIx++;
//         continue;
//       }
//       attributes["t"] = keyword;
//       if(classes) attributes["c"] = classes;
//       let elem:UIElem = {id: attributes["id"], attributes};
//       if(!parent.children) parent.children = [];
//       parent.children.push(elem);
//       stack.push({indent, elem});
//     }
//     lineIx++;
//   }
//   if(errors.length) {
//     for(let err of errors) {
//       console.error(err);
//     }
//   }
//   return root;
// }
//-----------------------------------------------------------------------------
// Eve DSL Parser
//-----------------------------------------------------------------------------
var TOKEN_TYPE;
(function (TOKEN_TYPE) {
    TOKEN_TYPE[TOKEN_TYPE["EXPR"] = 0] = "EXPR";
    TOKEN_TYPE[TOKEN_TYPE["IDENTIFIER"] = 1] = "IDENTIFIER";
    TOKEN_TYPE[TOKEN_TYPE["KEYWORD"] = 2] = "KEYWORD";
    TOKEN_TYPE[TOKEN_TYPE["STRING"] = 3] = "STRING";
    TOKEN_TYPE[TOKEN_TYPE["LITERAL"] = 4] = "LITERAL";
})(TOKEN_TYPE || (TOKEN_TYPE = {}));
;
var Token = (function () {
    function Token(type, value, lineIx, charIx) {
        this.type = type;
        this.value = value;
        this.lineIx = lineIx;
        this.charIx = charIx;
    }
    Token.identifier = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.IDENTIFIER, value, lineIx, charIx);
    };
    Token.keyword = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.KEYWORD, value, lineIx, charIx);
    };
    Token.string = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.STRING, value, lineIx, charIx);
    };
    Token.literal = function (value, lineIx, charIx) {
        return new Token(Token.TYPE.LITERAL, value, lineIx, charIx);
    };
    Token.prototype.toString = function () {
        if (this.type === Token.TYPE.KEYWORD)
            return ":" + this.value;
        else if (this.type === Token.TYPE.STRING)
            return "\"" + this.value + "\"";
        else
            return this.value.toString();
    };
    Token.TYPE = TOKEN_TYPE;
    return Token;
})();
exports.Token = Token;
var Sexpr = (function () {
    function Sexpr(val, lineIx, charIx, syntax) {
        if (syntax === void 0) { syntax = "expr"; }
        this.lineIx = lineIx;
        this.charIx = charIx;
        this.syntax = syntax;
        this.type = Token.TYPE.EXPR;
        if (val)
            this.value = val.slice();
    }
    Sexpr.list = function (value, lineIx, charIx, syntax) {
        if (value === void 0) { value = []; }
        value = value.slice();
        value.unshift(Token.identifier("list", lineIx, charIx ? charIx + 1 : undefined));
        return new Sexpr(value, lineIx, charIx, syntax ? "list" : undefined);
    };
    Sexpr.hash = function (value, lineIx, charIx, syntax) {
        if (value === void 0) { value = []; }
        value = value.slice();
        value.unshift(Token.identifier("hash", lineIx, charIx ? charIx + 1 : undefined));
        return new Sexpr(value, lineIx, charIx, syntax ? "hash" : undefined);
    };
    Sexpr.asSexprs = function (values) {
        for (var _i = 0; _i < values.length; _i++) {
            var raw = values[_i];
            if (!(raw instanceof Sexpr))
                throw new ParseError("All top level entries must be expressions (got " + raw + ")", undefined, raw.lineIx, raw.charIx);
            else {
                var op = raw.operator;
                if (op.type !== Token.TYPE.IDENTIFIER)
                    throw new ParseError("All expressions must begin with an identifier", undefined, raw.lineIx, raw.charIx);
            }
        }
        return values;
    };
    Sexpr.prototype.toString = function () {
        var content = this.value && this.value.map(function (token) { return token.toString(); }).join(" ");
        var argsContent = this.value && this.arguments.map(function (token) { return token.toString(); }).join(" ");
        if (this.syntax === "hash")
            return "{" + argsContent + "}";
        else if (this.syntax === "list")
            return "[" + argsContent + "]";
        else
            return "(" + content + ")";
    };
    Sexpr.prototype.push = function (val) {
        this.value = this.value || [];
        return this.value.push(val);
    };
    Sexpr.prototype.nth = function (n, val) {
        if (val) {
            this.value = this.value || [];
            return this.value[n] = val;
        }
        return this.value && this.value[n];
    };
    Object.defineProperty(Sexpr.prototype, "operator", {
        get: function () {
            return this.value && this.value[0];
        },
        set: function (op) {
            this.value = this.value || [];
            this.value[0] = op;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Sexpr.prototype, "arguments", {
        get: function () {
            return this.value && this.value.slice(1);
        },
        set: function (args) {
            this.value = this.value || [];
            this.value.length = 1;
            this.value.push.apply(this.value, args);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Sexpr.prototype, "length", {
        get: function () {
            return this.value && this.value.length;
        },
        enumerable: true,
        configurable: true
    });
    return Sexpr;
})();
exports.Sexpr = Sexpr;
var TOKEN_TO_TYPE = {
    "(": "expr",
    ")": "expr",
    "[": "list",
    "]": "list",
    "{": "hash",
    "}": "hash"
};
var hygienicSymbolCounter = 0;
function readSexprs(text) {
    var root = Sexpr.list();
    var token;
    var sexpr = root;
    var sexprs = [root];
    var lines = text.split("\n");
    var lineIx = 0;
    var mode;
    for (var _i = 0; _i < lines.length; _i++) {
        var line = lines[_i];
        var line_1 = lines[lineIx];
        var charIx = 0;
        if (mode === "string")
            token.value += "\n";
        while (charIx < line_1.length) {
            if (mode === "string") {
                if (line_1[charIx] === "\"" && line_1[charIx - 1] !== "\\") {
                    sexpr.push(token);
                    token = mode = undefined;
                    charIx++;
                }
                else
                    token.value += line_1[charIx++];
                continue;
            }
            var padding = readWhile(line_1, /\s/, charIx);
            charIx += padding.length;
            if (padding.length) {
                if (token)
                    sexpr.push(token);
                token = undefined;
            }
            if (charIx >= line_1.length)
                continue;
            if (line_1[charIx] === ";") {
                charIx = line_1.length;
            }
            else if (line_1[charIx] === "\"") {
                if (!sexpr.length)
                    throw new ParseError("Literal must be an argument in a sexpr.", line_1, lineIx, charIx);
                mode = "string";
                token = Token.string("", lineIx, charIx);
                charIx++;
            }
            else if (line_1[charIx] === ":") {
                if (!sexpr.length)
                    throw new ParseError("Literal must be an argument in a sexpr.", line_1, lineIx, charIx);
                var keyword = readUntilAny(line_1, [" ", ")", "]", "}"], ++charIx);
                sexpr.push(Token.keyword(keyword, lineIx, charIx - 1));
                charIx += keyword.length;
            }
            else if (line_1[charIx] === "(" || line_1[charIx] === "[" || line_1[charIx] === "{") {
                if (token)
                    throw new ParseError("Sexpr arguments must be space separated.", line_1, lineIx, charIx);
                var type = TOKEN_TO_TYPE[line_1[charIx]];
                if (type === "hash")
                    sexpr = Sexpr.hash(undefined, lineIx, charIx);
                else if (type === "list")
                    sexpr = Sexpr.list(undefined, lineIx, charIx);
                else
                    sexpr = new Sexpr(undefined, lineIx, charIx);
                sexpr.syntax = type;
                sexprs.push(sexpr);
                charIx++;
            }
            else if (line_1[charIx] === ")" || line_1[charIx] === "]" || line_1[charIx] === "}") {
                var child = sexprs.pop();
                var type = TOKEN_TO_TYPE[line_1[charIx]];
                if (child.syntax !== type)
                    throw new ParseError("Must terminate " + child.syntax + " before terminating " + type, line_1, lineIx, charIx);
                sexpr = sexprs[sexprs.length - 1];
                if (!sexpr)
                    throw new ParseError("Too many closing parens", line_1, lineIx, charIx);
                sexpr.push(child);
                charIx++;
            }
            else {
                var literal = readUntilAny(line_1, [" ", ")", "]", "}"], charIx);
                var length_1 = literal.length;
                literal = utils_1.coerceInput(literal);
                var type = typeof literal === "string" ? "identifier" : "literal";
                if (!sexpr.length && type !== "identifier")
                    throw new ParseError("Expr must begin with identifier.", line_1, lineIx, charIx);
                if (type === "identifier") {
                    var dotIx = literal.indexOf(".");
                    if (dotIx !== -1) {
                        var child = new Sexpr([
                            Token.identifier("get", lineIx, charIx + 1),
                            Token.identifier(literal.slice(0, dotIx), lineIx, charIx + 3),
                            Token.string(literal.slice(dotIx + 1), lineIx, charIx + 5 + dotIx)
                        ], lineIx, charIx);
                        sexpr.push(child);
                    }
                    else
                        sexpr.push(Token.identifier(literal, lineIx, charIx));
                }
                else
                    sexpr.push(Token.literal(literal, lineIx, charIx));
                charIx += length_1;
            }
        }
        lineIx++;
    }
    if (token)
        throw new ParseError("Unterminated " + TOKEN_TYPE[token.type] + " token", lines[lineIx - 1], lineIx - 1);
    var lastIx = lines.length - 1;
    if (sexprs.length > 1)
        throw new ParseError("Too few closing parens", lines[lastIx], lastIx, lines[lastIx].length);
    return root;
}
exports.readSexprs = readSexprs;
function macroexpandDSL(sexpr) {
    // @TODO: Implement me.
    var op = sexpr.operator;
    if (op.value === "eav") {
        throw new Error("@TODO: Implement me!");
    }
    else if (op.value === "one-of") {
        // (one-of (query ...body) (query ...body) ...) =>
        // (union
        //   (def q1 (query ...body1))
        //   (def q2 (query (negate q1) ...body2)))
        throw new Error("@TODO: Implement me!");
    }
    else if (op.value === "negate") {
        if (sexpr.length > 2)
            throw new ParseError("Negate only takes a single body", undefined, sexpr.lineIx, sexpr.charIx);
        var select = macroexpandDSL(Sexpr.asSexprs(sexpr.arguments)[0]);
        select.push(Token.keyword("$$negated"));
        select.push(Token.literal(true));
        return select;
    }
    else if (["hash", "list", "get", "def", "query", "union", "select", "member", "project!", "insert!", "remove!", "load!"].indexOf(op.value) === -1) {
        // (foo-bar :a 5) => (select "foo bar" :a 5)
        var source = op;
        source.type = Token.TYPE.STRING;
        source.value = source.value.replace(/(.?)-(.)/g, "$1 $2");
        var args = sexpr.arguments;
        args.unshift(source);
        sexpr.arguments = args;
        sexpr.operator = Token.identifier("select");
    }
    return sexpr;
}
exports.macroexpandDSL = macroexpandDSL;
var VALUE;
(function (VALUE) {
    VALUE[VALUE["NULL"] = 0] = "NULL";
    VALUE[VALUE["SCALAR"] = 1] = "SCALAR";
    VALUE[VALUE["SET"] = 2] = "SET";
    VALUE[VALUE["VIEW"] = 3] = "VIEW";
})(VALUE || (VALUE = {}));
;
function parseDSL(text) {
    var artifacts = { views: {} };
    var lines = text.split("\n");
    var root = readSexprs(text);
    for (var _i = 0, _a = Sexpr.asSexprs(root.arguments); _i < _a.length; _i++) {
        var raw = _a[_i];
        parseDSLSexpr(raw, artifacts);
    }
    return artifacts;
}
exports.parseDSL = parseDSL;
function parseDSLSexpr(raw, artifacts, context, parent, resultVariable) {
    if (parent instanceof runtime.Query)
        var query = parent;
    else
        var union = parent;
    var sexpr = macroexpandDSL(raw);
    var op = sexpr.operator;
    if (op.type !== Token.TYPE.IDENTIFIER)
        throw new ParseError("Evaluated sexpr must begin with an identifier ('" + op + "' is a " + Token.TYPE[op.type] + ")", "", raw.lineIx, raw.charIx);
    if (op.value === "list") {
        var $$body = parseArguments(sexpr, undefined, "$$body").$$body;
        return { type: VALUE.SCALAR, value: $$body.map(function (token, ix) { return resolveTokenValue("list item " + ix, token, context); }) };
    }
    if (op.value === "hash") {
        var args = parseArguments(sexpr);
        for (var arg in args)
            args[arg] = resolveTokenValue("hash item " + arg, args[arg], context);
        return { type: VALUE.SET, value: args };
    }
    if (op.value === "insert!") {
        var changeset = artifacts.changeset || app_1.eve.diff();
        for (var _i = 0, _a = sexpr.arguments; _i < _a.length; _i++) {
            var arg = _a[_i];
            var table = arg.value[0];
            var fact = {};
            for (var ix = 1; ix < arg.value.length; ix += 2) {
                var key = arg.value[ix];
                var value = arg.value[ix + 1];
                fact[key.value] = value.value;
            }
            changeset.add(table.value, fact);
        }
        artifacts.changeset = changeset;
        return;
    }
    if (op.value === "remove!") {
        var changeset = artifacts.changeset || app_1.eve.diff();
        for (var _b = 0, _c = sexpr.arguments; _b < _c.length; _b++) {
            var arg = _c[_b];
            var table = arg.value[0];
            var fact = {};
            for (var ix = 1; ix < arg.value.length; ix += 2) {
                var key = arg.value[ix];
                var value = arg.value[ix + 1];
                fact[key.value] = value.value;
            }
            changeset.remove(table.value, fact);
        }
        artifacts.changeset = changeset;
        return;
    }
    if (op.value === "load!") {
        throw new Error("(load! ..) has not been implemented yet");
    }
    if (op.value === "query") {
        var neueContext = [];
        var _d = parseArguments(sexpr, undefined, "$$body"), $$view = _d.$$view, $$negated = _d.$$negated, $$body = _d.$$body;
        var queryId = $$view ? resolveTokenValue("view", $$view, context, VALUE.SCALAR) : utils_1.uuid();
        var neue = new runtime.Query(app_1.eve, queryId);
        neue["displayName"] = sexpr.toString();
        if (utils_1.DEBUG.instrumentQuery)
            instrumentQuery(neue, utils_1.DEBUG.instrumentQuery);
        artifacts.views[queryId] = neue;
        var aggregated = false;
        for (var _e = 0, _f = Sexpr.asSexprs($$body); _e < _f.length; _e++) {
            var raw_1 = _f[_e];
            var state = parseDSLSexpr(raw_1, artifacts, neueContext, neue);
            if (state && state.aggregated)
                aggregated = true;
        }
        var projectionMap = neue.projectionMap;
        var projected = true;
        if (!projectionMap) {
            projectionMap = {};
            projected = false;
            for (var _g = 0; _g < neueContext.length; _g++) {
                var variable = neueContext[_g];
                projectionMap[variable.name] = variable.value;
            }
        }
        if (Object.keys(projectionMap).length)
            neue.project(projectionMap);
        // Join subquery to parent.
        if (parent) {
            var select = new Sexpr([Token.identifier(query ? "select" : "member"), Token.string(queryId)], raw.lineIx, raw.charIx);
            var groups = [];
            for (var _h = 0; _h < neueContext.length; _h++) {
                var variable = neueContext[_h];
                if (projected && !variable.projection)
                    continue;
                var field = variable.projection || variable.name;
                select.push(Token.keyword(field));
                if (query)
                    select.push(Token.identifier(variable.name));
                else
                    select.push(Sexpr.list([Token.string(field)]));
                if (context) {
                    for (var _j = 0; _j < context.length; _j++) {
                        var parentVar = context[_j];
                        if (parentVar.name === variable.name)
                            groups.push(variable.value);
                    }
                }
            }
            if ($$negated) {
                select.push(Token.keyword("$$negated"));
                select.push($$negated);
            }
            if (groups.length && aggregated)
                neue.group(groups);
            parseDSLSexpr(select, artifacts, context, parent);
        }
        return { value: queryId, type: VALUE.VIEW, projected: projected, context: neueContext };
    }
    if (op.value === "union") {
        var _k = parseArguments(sexpr, undefined, "$$body"), $$view = _k.$$view, $$body = _k.$$body, $$negated = _k.$$negated;
        var unionId = $$view ? resolveTokenValue("view", $$view, context, VALUE.SCALAR) : utils_1.uuid();
        var neue = new runtime.Union(app_1.eve, unionId);
        if (utils_1.DEBUG.instrumentQuery)
            instrumentQuery(neue, utils_1.DEBUG.instrumentQuery);
        artifacts.views[unionId] = neue;
        var mappings = {};
        for (var _l = 0, _m = Sexpr.asSexprs($$body); _l < _m.length; _l++) {
            var raw_2 = _m[_l];
            var child = macroexpandDSL(raw_2);
            if (child.operator.value !== "query" && child.operator.value !== "union")
                throw new ParseError("Unions may only contain queries", "", raw_2.lineIx, raw_2.charIx);
            var res = parseDSLSexpr(child, artifacts, context, neue);
            for (var _o = 0, _p = res.context; _o < _p.length; _o++) {
                var variable = _p[_o];
                if (res.projected && !variable.projection)
                    continue;
                var field = variable.projection || variable.name;
                if (!mappings[field])
                    mappings[field] = {};
                mappings[field][variable.name] = true;
            }
        }
        // Join subunion to parent
        if (parent) {
            var select = new Sexpr([Token.identifier(query ? "select" : "member"), Token.string(unionId)], raw.lineIx, raw.charIx);
            for (var field in mappings) {
                var mappingVariables = Object.keys(mappings[field]);
                if (mappingVariables.length > 1)
                    throw new ParseError("All variables projected to a single union field must have the same name. Field '" + field + "' has " + mappingVariables.length + " fields (" + mappingVariables.join(", ") + ")", "", raw.lineIx, raw.charIx);
                select.push(Token.keyword(field));
                select.push(Token.identifier(mappingVariables[0]));
            }
            console.log("union select", select.toString());
            parseDSLSexpr(select, artifacts, context, parent);
        }
        return { type: VALUE.VIEW, value: unionId, mappings: mappings };
    }
    if (op.value === "member") {
        if (!union)
            throw new ParseError("Cannot add member to non-union parent", "", raw.lineIx, raw.charIx);
        var args = parseArguments(sexpr, ["$$view"]);
        var $$view = args.$$view, $$negated = args.$$negated;
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined)
            throw new ParseError("Must specify a view to be unioned", "", raw.lineIx, raw.charIx);
        var join = {};
        for (var arg in args) {
            if (arg === "$$view" || arg === "$$negated")
                continue;
            join[arg] = resolveTokenValue("member field", args[arg], context);
        }
        if (runtime.QueryFunctions[view])
            throw new ParseError("Cannot union primitive view '" + view + "'", "", raw.lineIx, raw.charIx);
        union.union(view, join);
        return;
    }
    if (!parent)
        throw new ParseError("Non-query or union sexprs must be contained within a query or union", "", raw.lineIx, raw.charIx);
    if (op.value === "select") {
        if (!query)
            throw new ParseError("Cannot add select to non-query parent", "", raw.lineIx, raw.charIx);
        var selectId = utils_1.uuid();
        var $$view = getArgument(sexpr, "$$view", ["$$view"]);
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined)
            throw new ParseError("Must specify a view to be selected", "", raw.lineIx, raw.charIx);
        var primitive = runtime.QueryFunctions[view];
        //@TODO: Move this to an eve table to allow user defined defaults
        var args = parseArguments(sexpr, ["$$view"].concat(getDefaults(view)));
        var $$negated = args.$$negated;
        var join = {};
        for (var arg in args) {
            var value = args[arg];
            var variable = void 0;
            if (arg === "$$view" || arg === "$$negated")
                continue;
            if (value instanceof Token && value.type !== Token.TYPE.IDENTIFIER) {
                join[arg] = args[arg].value;
                continue;
            }
            if (value instanceof Sexpr) {
                var result = parseDSLSexpr(value, artifacts, context, parent, "$$temp-" + hygienicSymbolCounter++ + "-" + arg);
                if (!result || result.type === VALUE.NULL)
                    throw new Error("Cannot set parameter '" + arg + "' to null value '" + value.toString() + "'");
                if (result.type === VALUE.VIEW) {
                    var view_1 = result.value;
                    var resultField_1 = getResult(view_1);
                    if (!resultField_1)
                        throw new Error("Cannot set parameter '" + arg + "' to select without default result field");
                    for (var _q = 0; _q < context.length; _q++) {
                        var curVar = context[_q];
                        for (var _r = 0, _s = curVar.constraints; _r < _s.length; _r++) {
                            var constraint = _s[_r];
                            if (constraint[0] === view_1 && constraint[1] === resultField_1) {
                                variable = curVar;
                                break;
                            }
                        }
                    }
                }
            }
            else
                variable = getDSLVariable(value.value, context);
            if (variable) {
                join[arg] = variable.value;
                variable.constraints.push([view, arg]);
            }
            else if ($$negated && $$negated.value)
                throw new ParseError("Cannot bind field in negated select to undefined variable '" + value.value + "'", "", raw.lineIx, raw.charIx);
            else
                context.push({ name: value.value, type: VALUE.SCALAR, value: [selectId, arg], constraints: [[view, arg]] }); // @TODO: does this not need to add to the join map?
        }
        var resultField = getResult(view);
        if (resultVariable && resultField && !join[resultField]) {
            join[resultField] = [selectId, resultField];
            context.push({ name: resultVariable, type: VALUE.SCALAR, value: [selectId, resultField], constraints: [[view, resultField]] });
        }
        if (primitive) {
            if ($$negated) {
                if (primitive.inverse)
                    view = primitive.inverse;
                else
                    throw new ParseError("Cannot invert primitive calculation '" + view + "'", "", raw.lineIx, raw.charIx);
            }
            if (primitive.aggregate)
                query.aggregate(view, join, selectId);
            else
                query.calculate(view, join, selectId);
        }
        else if ($$negated)
            query.deselect(view, join);
        else
            query.select(view, join, selectId);
        return {
            type: VALUE.VIEW,
            value: view,
            aggregated: primitive && primitive.aggregate
        };
    }
    if (op.value === "project!") {
        var args = parseArguments(sexpr, ["$$view"]);
        var $$view = args.$$view, $$negated = args.$$negated;
        var projectionMap = {};
        for (var arg in args) {
            var value = args[arg];
            if (arg === "$$view" || arg === "$$negated")
                continue;
            if (value.type !== Token.TYPE.IDENTIFIER) {
                projectionMap[arg] = args[arg].value;
                continue;
            }
            var variable = getDSLVariable(value.value, context);
            if (variable) {
                if (variable.static)
                    projectionMap[arg] = variable.value;
                else if (!$$view) {
                    variable.projection = arg;
                    projectionMap[arg] = variable.value;
                }
                else
                    projectionMap[arg] = [variable.name];
            }
            else
                throw new ParseError("Cannot bind projected field to undefined variable '" + value.value + "'", "", raw.lineIx, raw.charIx);
        }
        var view = resolveTokenValue("view", $$view, context, VALUE.SCALAR);
        if (view === undefined) {
            if (query.projectionMap)
                throw new ParseError("Query can only self-project once", "", raw.lineIx, raw.charIx);
            if ($$negated && $$negated.value)
                throw new ParseError("Cannot negate self-projection", "", raw.lineIx, raw.charIx);
            // Project self
            query.project(projectionMap);
        }
        else {
            var union_1 = artifacts.views[view] || new runtime.Union(app_1.eve, view);
            if (utils_1.DEBUG.instrumentQuery && !artifacts.views[view])
                instrumentQuery(union_1, utils_1.DEBUG.instrumentQuery);
            artifacts.views[view] = union_1;
            // if($$negated && $$negated.value) union.ununion(queryId, projectionMap);
            if ($$negated && $$negated.value)
                throw new ParseError("Union projections may not be negated in the current runtime", "", raw.lineIx, raw.charIx);
            else
                union_1.union(query.name, projectionMap);
        }
        return;
    }
    throw new ParseError("Unknown DSL operator '" + op.value + "'", "", raw.lineIx, raw.charIx);
}
function resolveTokenValue(name, token, context, type) {
    if (!token)
        return;
    if (token instanceof Sexpr)
        return parseDSLSexpr(token, undefined, context);
    if (token instanceof Token && token.type === Token.TYPE.IDENTIFIER) {
        var variable = getDSLVariable(token.value, context, VALUE.SCALAR);
        if (!variable)
            throw new Error("Cannot bind " + name + " to undefined variable '" + token.value + "'");
        if (!variable.static)
            throw new Error("Cannot bind " + name + " to dynamic variable '" + token.value + "'");
        return variable.value;
    }
    return token.value;
}
function getDSLVariable(name, context, type) {
    if (!context)
        return;
    for (var _i = 0; _i < context.length; _i++) {
        var variable = context[_i];
        if (variable.name === name) {
            if (variable.static === false)
                throw new Error("Cannot statically look up dynamic variable '" + name + "'");
            if (type !== undefined && variable.type !== type)
                throw new Error("Expected variable '" + name + "' to have type '" + type + "', but instead has type '" + variable.type + "'");
            return variable;
        }
    }
}
function getDefaults(view) {
    return (runtime.QueryFunctions[view] && runtime.QueryFunctions[view].params) || [];
}
function getResult(view) {
    return runtime.QueryFunctions[view] && runtime.QueryFunctions[view].result;
}
function getArgument(root, param, defaults) {
    var ix = 1;
    var defaultIx = 0;
    for (var ix_1 = 1, cur = root.nth(ix_1); ix_1 < root.length; ix_1++) {
        if (cur.type === Token.TYPE.KEYWORD) {
            if (cur.value === param)
                return root.nth(ix_1 + 1);
            else
                ix_1 + 1;
        }
        else {
            if (defaults && defaultIx < defaults.length) {
                var keyword = defaults[defaultIx++];
                if (keyword === param)
                    return cur;
                else
                    ix_1 + 1;
            }
            throw new Error("Param '" + param + "' not in sexpr " + root.toString());
        }
    }
    throw new Error("Param '" + param + "' not in sexpr " + root.toString());
}
exports.getArgument = getArgument;
function parseArguments(root, defaults, rest) {
    var args = {};
    var defaultIx = 0;
    var keyword;
    var kwarg = false;
    for (var _i = 0, _a = root.arguments; _i < _a.length; _i++) {
        var raw = _a[_i];
        if (raw.type === Token.TYPE.KEYWORD) {
            if (keyword)
                throw new Error("Keywords may not be values '" + raw + "'");
            else
                keyword = raw.value;
        }
        else if (keyword) {
            if (args[keyword] === undefined) {
                args[keyword] = raw;
            }
            else {
                if (!(args[keyword] instanceof Array))
                    args[keyword] = [args[keyword]];
                args[keyword].push(raw);
            }
            keyword = undefined;
            defaultIx = defaults ? defaults.length : 0;
            kwarg = true;
        }
        else if (defaults && defaultIx < defaults.length) {
            args[defaults[defaultIx++]] = raw;
        }
        else if (rest) {
            args[rest] = args[rest] || [];
            args[rest].push(raw);
        }
        else {
            if (kwarg)
                throw new Error("Cannot specify an arg after a kwarg");
            else if (defaultIx)
                throw new Error("Too many args, expected: " + defaults.length + ", got: " + (defaultIx + 1));
            else
                throw new Error("Cannot specify an arg without default keys specified");
        }
    }
    return args;
}
exports.parseArguments = parseArguments;
if (utils_1.ENV === "browser")
    window["parser"] = exports;
function instrumentQuery(q, instrument) {
    var instrumentation = instrument;
    if (!instrument || instrument === true)
        instrumentation = function (fn, args) { return console.log("*", fn, ":", args); };
    var keys = [];
    for (var key in q)
        keys.push(key);
    keys.forEach(function (fn) {
        if (!q.constructor.prototype.hasOwnProperty(fn) || typeof q[fn] !== "function")
            return;
        var old = q[fn];
        q[fn] = function () {
            instrumentation(fn, arguments);
            return old.apply(this, arguments);
        };
    });
    return q;
}
exports.instrumentQuery = instrumentQuery;
function asDiff(ixer, artifacts) {
    var views = artifacts.views;
    var diff = ixer.diff();
    for (var id in views)
        diff.merge(views[id].changeset(app_1.eve));
    return diff;
}
exports.asDiff = asDiff;
function applyAsDiffs(artifacts) {
    var views = artifacts.views;
    for (var id in views)
        app_1.eve.applyDiff(views[id].changeset(app_1.eve));
    console.log("Applied diffs for:");
    for (var id in views)
        console.log("  * ", views[id] instanceof runtime.Query ? "Query" : "Union", views[id].name);
    return artifacts;
}
exports.applyAsDiffs = applyAsDiffs;
function logArtifacts(artifacts) {
    for (var view in artifacts.views)
        console.log(view, "\n", app_1.eve.find(view));
}
exports.logArtifacts = logArtifacts;

},{"./app":2,"./runtime":6,"./utils":8}],6:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime = exports;
exports.MAX_NUMBER = 9007199254740991;
exports.INCREMENTAL = false;
function objectsIdentical(a, b) {
    var aKeys = Object.keys(a);
    for (var _i = 0; _i < aKeys.length; _i++) {
        var key = aKeys[_i];
        //TODO: handle non-scalar values
        if (a[key] !== b[key])
            return false;
    }
    return true;
}
function indexOfFact(haystack, needle) {
    var ix = 0;
    for (var _i = 0; _i < haystack.length; _i++) {
        var fact = haystack[_i];
        if (fact.__id === needle.__id) {
            return ix;
        }
        ix++;
    }
    return -1;
}
function removeFact(haystack, needle) {
    var ix = indexOfFact(haystack, needle);
    if (ix > -1)
        haystack.splice(ix, 1);
    return haystack;
}
exports.removeFact = removeFact;
function diffAddsAndRemoves(adds, removes) {
    var localHash = {};
    var hashToFact = {};
    var hashes = [];
    for (var _i = 0; _i < adds.length; _i++) {
        var add = adds[_i];
        var hash = add.__id;
        if (localHash[hash] === undefined) {
            localHash[hash] = 1;
            hashToFact[hash] = add;
            hashes.push(hash);
        }
        else {
            localHash[hash]++;
        }
        add.__id = hash;
    }
    for (var _a = 0; _a < removes.length; _a++) {
        var remove = removes[_a];
        var hash = remove.__id;
        if (localHash[hash] === undefined) {
            localHash[hash] = -1;
            hashToFact[hash] = remove;
            hashes.push(hash);
        }
        else {
            localHash[hash]--;
        }
        remove.__id = hash;
    }
    var realAdds = [];
    var realRemoves = [];
    for (var _b = 0; _b < hashes.length; _b++) {
        var hash = hashes[_b];
        var count = localHash[hash];
        if (count > 0) {
            var fact = hashToFact[hash];
            realAdds.push(fact);
        }
        else if (count < 0) {
            var fact = hashToFact[hash];
            realRemoves.push(fact);
        }
    }
    return { adds: realAdds, removes: realRemoves };
}
function generateEqualityFn(keys) {
    return new Function("a", "b", "return " + keys.map(function (key, ix) {
        if (key.constructor === Array) {
            return "a['" + key[0] + "']['" + key[1] + "'] === b['" + key[0] + "']['" + key[1] + "']";
        }
        else {
            return "a[\"" + key + "\"] === b[\"" + key + "\"]";
        }
    }).join(" && ") + ";");
}
function generateStringFn(keys) {
    var keyStrings = [];
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            keyStrings.push("a['" + key[0] + "']['" + key[1] + "']");
        }
        else {
            keyStrings.push("a['" + key + "']");
        }
    }
    var final = keyStrings.join(' + "|" + ');
    return new Function("a", "return " + final + ";");
}
function generateUnprojectedSorterCode(unprojectedSize, sorts) {
    var conditions = [];
    var path = [];
    var distance = unprojectedSize;
    for (var _i = 0; _i < sorts.length; _i++) {
        var sort = sorts[_i];
        var condition = "";
        for (var _a = 0; _a < path.length; _a++) {
            var prev = path[_a];
            var table_1 = prev[0], key_1 = prev[1];
            condition += "unprojected[j-" + (distance - table_1) + "]['" + key_1 + "'] === item" + table_1 + "['" + key_1 + "'] && ";
        }
        var table = sort[0], key = sort[1], dir = sort[2];
        var op = ">";
        if (dir === "descending") {
            op = "<";
        }
        condition += "unprojected[j-" + (distance - table) + "]['" + key + "'] " + op + " item" + table + "['" + key + "']";
        conditions.push(condition);
        path.push(sort);
    }
    var items = [];
    var repositioned = [];
    var itemAssignments = [];
    for (var ix = 0; ix < distance; ix++) {
        items.push("item" + ix + " = unprojected[j+" + ix + "]");
        repositioned.push("unprojected[j+" + ix + "] = unprojected[j - " + (distance - ix) + "]");
        itemAssignments.push(("unprojected[j+" + ix + "] = item" + ix));
    }
    return "for (var i = 0, len = unprojected.length; i < len; i += " + distance + ") {\n      var j = i, " + items.join(", ") + ";\n      for(; j > " + (distance - 1) + " && (" + conditions.join(" || ") + "); j -= " + distance + ") {\n        " + repositioned.join(";\n") + "\n      }\n      " + itemAssignments.join(";\n") + "\n  }";
}
function generateCollector(keys) {
    var code = "var runtime = this;\n";
    var ix = 0;
    var checks = "";
    var removes = "var cur = index";
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            removes += "[remove['" + key[0] + "']['" + key[1] + "']]";
        }
        else {
            removes += "[remove['" + key + "']]";
        }
    }
    removes += ";\nruntime.removeFact(cur, remove);";
    for (var _a = 0; _a < keys.length; _a++) {
        var key = keys[_a];
        ix++;
        if (key.constructor === Array) {
            checks += "value = add['" + key[0] + "']['" + key[1] + "']\n";
        }
        else {
            checks += "value = add['" + key + "']\n";
        }
        var path = "cursor[value]";
        checks += "if(!" + path + ") " + path + " = ";
        if (ix === keys.length) {
            checks += "[]\n";
        }
        else {
            checks += "{}\n";
        }
        checks += "cursor = " + path + "\n";
    }
    code += "\nfor(var ix = 0, len = removes.length; ix < len; ix++) {\nvar remove = removes[ix];\n" + removes + "\n}\nfor(var ix = 0, len = adds.length; ix < len; ix++) {\nvar add = adds[ix];\nvar cursor = index;\nvar value;\n" + checks + "  cursor.push(add);\n}\nreturn index;";
    return (new Function("index", "adds", "removes", code)).bind(runtime);
}
function generateCollector2(keys) {
    var hashParts = [];
    for (var _i = 0; _i < keys.length; _i++) {
        var key = keys[_i];
        if (key.constructor === Array) {
            hashParts.push("add['" + key[0] + "']['" + key[1] + "']");
        }
        else {
            hashParts.push("add['" + key + "']");
        }
    }
    var code = "\n    var ixCache = cache.ix;\n    var idCache = cache.id;\n    for(var ix = 0, len = removes.length; ix < len; ix++) {\n      var remove = removes[ix];\n      var id = remove.__id;\n      var key = idCache[id];\n      var factIx = ixCache[id];\n      var facts = index[key];\n      //swap the last fact with this one to prevent holes\n      var lastFact = facts.pop();\n      if(lastFact && lastFact.__id !== remove.__id) {\n        facts[factIx] = lastFact;\n        ixCache[lastFact.__id] = factIx;\n      } else if(facts.length === 0) {\n        delete index[key];\n      }\n      delete idCache[id];\n      delete ixCache[id];\n    }\n    for(var ix = 0, len = adds.length; ix < len; ix++) {\n      var add = adds[ix];\n      var id = add.__id;\n      var key = idCache[id] = " + hashParts.join(" + '|' + ") + ";\n      if(index[key] === undefined) index[key] = [];\n      var arr = index[key];\n      ixCache[id] = arr.length;\n      arr.push(add);\n    }\n    return index;";
    return new Function("index", "adds", "removes", "cache", code);
}
function mergeArrays(as, bs) {
    var ix = as.length;
    var start = ix;
    for (var _i = 0; _i < bs.length; _i++) {
        var b = bs[_i];
        as[ix] = bs[ix - start];
        ix++;
    }
    return as;
}
var Diff = (function () {
    function Diff(ixer) {
        this.ixer = ixer;
        this.tables = {};
        this.length = 0;
        this.meta = {};
    }
    Diff.prototype.ensureTable = function (table) {
        var tableDiff = this.tables[table];
        if (!tableDiff) {
            tableDiff = this.tables[table] = { adds: [], removes: [] };
        }
        return tableDiff;
    };
    Diff.prototype.add = function (table, obj) {
        var tableDiff = this.ensureTable(table);
        this.length++;
        tableDiff.adds.push(obj);
        return this;
    };
    Diff.prototype.addMany = function (table, objs) {
        var tableDiff = this.ensureTable(table);
        this.length += objs.length;
        mergeArrays(tableDiff.adds, objs);
        return this;
    };
    Diff.prototype.removeFacts = function (table, objs) {
        var tableDiff = this.ensureTable(table);
        this.length += objs.length;
        mergeArrays(tableDiff.removes, objs);
        return this;
    };
    Diff.prototype.remove = function (table, query) {
        var tableDiff = this.ensureTable(table);
        var found = this.ixer.find(table, query);
        this.length += found.length;
        mergeArrays(tableDiff.removes, found);
        return this;
    };
    Diff.prototype.merge = function (diff) {
        for (var table in diff.tables) {
            var tableDiff = diff.tables[table];
            this.addMany(table, tableDiff.adds);
            this.removeFacts(table, tableDiff.removes);
        }
        return this;
    };
    Diff.prototype.reverse = function () {
        var reversed = new Diff(this.ixer);
        for (var table in this.tables) {
            var diff = this.tables[table];
            reversed.addMany(table, diff.removes);
            reversed.removeFacts(table, diff.adds);
        }
        return reversed;
    };
    return Diff;
})();
exports.Diff = Diff;
var Indexer = (function () {
    function Indexer() {
        this.tables = {};
        this.globalCount = 0;
        this.edbTables = {};
    }
    Indexer.prototype.addTable = function (name, keys) {
        if (keys === void 0) { keys = []; }
        var table = this.tables[name];
        keys = keys.filter(function (key) { return key !== "__id"; });
        if (table && keys.length) {
            table.fields = keys;
            table.stringify = generateStringFn(keys);
        }
        else {
            table = this.tables[name] = { table: [], hashToIx: {}, factHash: {}, indexes: {}, triggers: {}, fields: keys, stringify: generateStringFn(keys), keyLookup: {} };
            this.edbTables[name] = true;
        }
        for (var _i = 0; _i < keys.length; _i++) {
            var key = keys[_i];
            if (key.constructor === Array) {
                table.keyLookup[key[0]] = key;
            }
            else {
                table.keyLookup[key] = key;
            }
        }
        return table;
    };
    Indexer.prototype.clearTable = function (name) {
        var table = this.tables[name];
        if (!table)
            return;
        table.table = [];
        table.factHash = {};
        for (var indexName in table.indexes) {
            table.indexes[indexName].index = {};
            table.indexes[indexName].cache = { id: {}, ix: {} };
        }
    };
    Indexer.prototype.updateTable = function (tableId, adds, removes) {
        var table = this.tables[tableId];
        if (!table || !table.fields.length) {
            var example = adds[0] || removes[0];
            table = this.addTable(tableId, Object.keys(example));
        }
        var stringify = table.stringify;
        var facts = table.table;
        var factHash = table.factHash;
        var hashToIx = table.hashToIx;
        var localHash = {};
        var hashToFact = {};
        var hashes = [];
        for (var _i = 0; _i < adds.length; _i++) {
            var add = adds[_i];
            var hash = add.__id || stringify(add);
            if (localHash[hash] === undefined) {
                localHash[hash] = 1;
                hashToFact[hash] = add;
                hashes.push(hash);
            }
            else {
                localHash[hash]++;
            }
            add.__id = hash;
        }
        for (var _a = 0; _a < removes.length; _a++) {
            var remove = removes[_a];
            var hash = remove.__id || stringify(remove);
            if (localHash[hash] === undefined) {
                localHash[hash] = -1;
                hashToFact[hash] = remove;
                hashes.push(hash);
            }
            else {
                localHash[hash]--;
            }
            remove.__id = hash;
        }
        var realAdds = [];
        var realRemoves = [];
        for (var _b = 0; _b < hashes.length; _b++) {
            var hash = hashes[_b];
            var count = localHash[hash];
            if (count > 0 && !factHash[hash]) {
                var fact = hashToFact[hash];
                realAdds.push(fact);
                facts.push(fact);
                factHash[hash] = fact;
                hashToIx[hash] = facts.length - 1;
            }
            else if (count < 0 && factHash[hash]) {
                var fact = hashToFact[hash];
                var ix = hashToIx[hash];
                //swap the last fact with this one to prevent holes
                var lastFact = facts.pop();
                if (lastFact && lastFact.__id !== fact.__id) {
                    facts[ix] = lastFact;
                    hashToIx[lastFact.__id] = ix;
                }
                realRemoves.push(fact);
                delete factHash[hash];
                delete hashToIx[hash];
            }
        }
        return { adds: realAdds, removes: realRemoves };
    };
    Indexer.prototype.collector = function (keys) {
        return {
            index: {},
            cache: { id: {}, ix: {} },
            hasher: generateStringFn(keys),
            collect: generateCollector2(keys),
        };
    };
    Indexer.prototype.factToIndex = function (table, fact) {
        var keys = Object.keys(fact);
        if (!keys.length)
            return table.table.slice();
        var index = this.index(table, keys);
        var result = index.index[index.hasher(fact)];
        if (result) {
            return result.slice();
        }
        return [];
    };
    Indexer.prototype.execDiff = function (diff) {
        var triggers = {};
        var realDiffs = {};
        var tableIds = Object.keys(diff.tables);
        for (var _i = 0; _i < tableIds.length; _i++) {
            var tableId = tableIds[_i];
            var tableDiff = diff.tables[tableId];
            if (tableDiff.adds.length === 0 && tableDiff.removes.length === 0)
                continue;
            var realDiff = this.updateTable(tableId, tableDiff.adds, tableDiff.removes);
            // go through all the indexes and update them.
            var table = this.tables[tableId];
            var indexes = Object.keys(table.indexes);
            for (var _a = 0; _a < indexes.length; _a++) {
                var indexName = indexes[_a];
                var index = table.indexes[indexName];
                index.collect(index.index, realDiff.adds, realDiff.removes, index.cache);
            }
            var curTriggers = Object.keys(table.triggers);
            for (var _b = 0; _b < curTriggers.length; _b++) {
                var triggerName = curTriggers[_b];
                var trigger = table.triggers[triggerName];
                triggers[triggerName] = trigger;
            }
            realDiffs[tableId] = realDiff;
        }
        return { triggers: triggers, realDiffs: realDiffs };
    };
    Indexer.prototype.execTrigger = function (trigger) {
        var table = this.table(trigger.name);
        // since views might be changed during the triggering process, we want to favor
        // just using the view itself as the trigger if it is one. Otherwise, we use the
        // trigger's exec function. This ensures that if a view is recompiled and added
        // that any already queued triggers will use the updated version of the view instead
        // of the old queued one.
        var _a = (table.view ? table.view.exec() : trigger.exec(this)) || {}, _b = _a.results, results = _b === void 0 ? undefined : _b, _c = _a.unprojected, unprojected = _c === void 0 ? undefined : _c;
        if (!results)
            return;
        var prevResults = table.factHash;
        var prevHashes = Object.keys(prevResults);
        table.unprojected = unprojected;
        if (results) {
            var diff = new Diff(this);
            this.clearTable(trigger.name);
            diff.addMany(trigger.name, results);
            var triggers = this.execDiff(diff).triggers;
            var newHashes = table.factHash;
            if (prevHashes.length === Object.keys(newHashes).length) {
                var same = true;
                for (var _i = 0; _i < prevHashes.length; _i++) {
                    var hash = prevHashes[_i];
                    if (!newHashes[hash]) {
                        same = false;
                        break;
                    }
                }
                return same ? undefined : triggers;
            }
            else {
                return triggers;
            }
        }
        return;
    };
    Indexer.prototype.transitivelyClearTriggers = function (startingTriggers) {
        var cleared = {};
        var remaining = Object.keys(startingTriggers);
        for (var ix = 0; ix < remaining.length; ix++) {
            var trigger = remaining[ix];
            if (cleared[trigger])
                continue;
            this.clearTable(trigger);
            cleared[trigger] = true;
            remaining.push.apply(remaining, Object.keys(this.table(trigger).triggers));
        }
        return cleared;
    };
    Indexer.prototype.execTriggers = function (triggers) {
        var newTriggers = {};
        var retrigger = false;
        for (var triggerName in triggers) {
            // console.log("Calling:", triggerName);
            var trigger = triggers[triggerName];
            var nextRound = this.execTrigger(trigger);
            if (nextRound) {
                retrigger = true;
                for (var trigger_1 in nextRound) {
                    // console.log("Queuing:", trigger);
                    newTriggers[trigger_1] = nextRound[trigger_1];
                }
            }
        }
        if (retrigger) {
            return newTriggers;
        }
    };
    //---------------------------------------------------------
    // Indexer Public API
    //---------------------------------------------------------
    Indexer.prototype.deleteDB = function () {
        for (var table in this.tables) {
            this.removeView(table);
            this.clearTable(table);
        }
    };
    Indexer.prototype.serialize = function (asObject) {
        var dump = {};
        for (var tableName in this.tables) {
            var table = this.tables[tableName];
            if (!table.isView) {
                dump[tableName] = table.table;
            }
        }
        if (asObject) {
            return dump;
        }
        return JSON.stringify(dump);
    };
    Indexer.prototype.load = function (serialized) {
        var dump = JSON.parse(serialized);
        var diff = this.diff();
        for (var tableName in dump) {
            diff.addMany(tableName, dump[tableName]);
        }
        if (exports.INCREMENTAL) {
            this.applyDiffIncremental(diff);
        }
        else {
            this.applyDiff(diff);
        }
    };
    Indexer.prototype.diff = function () {
        return new Diff(this);
    };
    Indexer.prototype.applyDiff = function (diff) {
        if (exports.INCREMENTAL) {
            return this.applyDiffIncremental(diff);
        }
        var _a = this.execDiff(diff), triggers = _a.triggers, realDiffs = _a.realDiffs;
        var cleared;
        var round = 0;
        if (triggers)
            cleared = this.transitivelyClearTriggers(triggers);
        while (triggers) {
            for (var trigger in triggers) {
                cleared[trigger] = false;
            }
            // console.group(`ROUND ${round}`);
            triggers = this.execTriggers(triggers);
            round++;
        }
        for (var _i = 0, _b = Object.keys(cleared); _i < _b.length; _i++) {
            var trigger = _b[_i];
            if (!cleared[trigger])
                continue;
            var view = this.table(trigger).view;
            if (view) {
                this.execTrigger(view);
            }
        }
    };
    Indexer.prototype.table = function (tableId) {
        var table = this.tables[tableId];
        if (table)
            return table;
        return this.addTable(tableId);
    };
    Indexer.prototype.index = function (tableOrId, keys) {
        var table;
        if (typeof tableOrId === "string")
            table = this.table(tableOrId);
        else
            table = tableOrId;
        keys.sort();
        var indexName = keys.filter(function (key) { return key !== "__id"; }).join("|");
        var index = table.indexes[indexName];
        if (!index) {
            var tableKeys = [];
            for (var _i = 0; _i < keys.length; _i++) {
                var key = keys[_i];
                tableKeys.push(table.keyLookup[key] || key);
            }
            index = table.indexes[indexName] = this.collector(tableKeys);
            index.collect(index.index, table.table, [], index.cache);
        }
        return index;
    };
    Indexer.prototype.find = function (tableId, query) {
        var table = this.tables[tableId];
        if (!table) {
            return [];
        }
        else if (!query) {
            return table.table.slice();
        }
        else {
            return this.factToIndex(table, query);
        }
    };
    Indexer.prototype.findOne = function (tableId, query) {
        return this.find(tableId, query)[0];
    };
    Indexer.prototype.query = function (name) {
        if (name === void 0) { name = "unknown"; }
        return new Query(this, name);
    };
    Indexer.prototype.union = function (name) {
        return new Union(this, name);
    };
    Indexer.prototype.trigger = function (name, table, exec, execIncremental) {
        var tables = (typeof table === "string") ? [table] : table;
        var trigger = { name: name, tables: tables, exec: exec, execIncremental: execIncremental };
        for (var _i = 0; _i < tables.length; _i++) {
            var tableId = tables[_i];
            var table_2 = this.table(tableId);
            table_2.triggers[name] = trigger;
        }
        if (!exports.INCREMENTAL) {
            var nextRound = this.execTrigger(trigger);
            while (nextRound) {
                nextRound = this.execTriggers(nextRound);
            }
            ;
        }
        else {
            if (!tables.length) {
                return exec(this);
            }
            var initial = (_a = {}, _a[tables[0]] = { adds: this.tables[tables[0]].table, removes: [] }, _a);
            var _b = this.execTriggerIncremental(trigger, initial), triggers = _b.triggers, changes = _b.changes;
            while (triggers) {
                var results = this.execTriggersIncremental(triggers, changes);
                if (!results)
                    break;
                triggers = results.triggers;
                changes = results.changes;
            }
        }
        var _a;
    };
    Indexer.prototype.asView = function (query) {
        var name = query.name;
        if (this.tables[name]) {
            this.removeView(name);
        }
        var view = this.table(name);
        this.edbTables[name] = false;
        view.view = query;
        view.isView = true;
        this.trigger(name, query.tables, query.exec.bind(query), query.execIncremental.bind(query));
    };
    Indexer.prototype.removeView = function (id) {
        for (var _i = 0, _a = this.tables; _i < _a.length; _i++) {
            var table = _a[_i];
            delete table.triggers[id];
        }
    };
    Indexer.prototype.totalFacts = function () {
        var total = 0;
        for (var tableName in this.tables) {
            total += this.tables[tableName].table.length;
        }
        return total;
    };
    Indexer.prototype.factsPerTable = function () {
        var info = {};
        for (var tableName in this.tables) {
            info[tableName] = this.tables[tableName].table.length;
        }
        return info;
    };
    Indexer.prototype.applyDiffIncremental = function (diff) {
        if (diff.length === 0)
            return;
        // console.log("DIFF SIZE: ", diff.length, diff);
        var _a = this.execDiff(diff), triggers = _a.triggers, realDiffs = _a.realDiffs;
        var round = 0;
        var changes = realDiffs;
        while (triggers) {
            // console.group(`ROUND ${round}`);
            // console.log("CHANGES: ", changes);
            var results = this.execTriggersIncremental(triggers, changes);
            // console.groupEnd();
            if (!results)
                break;
            triggers = results.triggers;
            changes = results.changes;
            round++;
        }
    };
    Indexer.prototype.execTriggerIncremental = function (trigger, changes) {
        var table = this.table(trigger.name);
        var adds, provenance, removes, info;
        if (trigger.execIncremental) {
            info = trigger.execIncremental(changes, table) || {};
            adds = info.adds;
            removes = info.removes;
        }
        else {
            trigger.exec();
            return;
        }
        var diff = new runtime.Diff(this);
        if (adds.length) {
            diff.addMany(trigger.name, adds);
        }
        if (removes.length) {
            diff.removeFacts(trigger.name, removes);
        }
        var updated = this.execDiff(diff);
        var realDiffs = updated.realDiffs;
        if (realDiffs[trigger.name] && (realDiffs[trigger.name].adds.length || realDiffs[trigger.name].removes)) {
            return { changes: realDiffs[trigger.name], triggers: updated.triggers };
        }
        else {
            return {};
        }
    };
    Indexer.prototype.execTriggersIncremental = function (triggers, changes) {
        var newTriggers = {};
        var nextChanges = {};
        var retrigger = false;
        var triggerKeys = Object.keys(triggers);
        for (var _i = 0; _i < triggerKeys.length; _i++) {
            var triggerName = triggerKeys[_i];
            // console.log("Calling:", triggerName);
            var trigger = triggers[triggerName];
            var nextRound = this.execTriggerIncremental(trigger, changes);
            if (nextRound && nextRound.changes) {
                nextChanges[triggerName] = nextRound.changes;
                if (nextRound.triggers) {
                    var nextRoundKeys = Object.keys(nextRound.triggers);
                    for (var _a = 0; _a < nextRoundKeys.length; _a++) {
                        var trigger_2 = nextRoundKeys[_a];
                        if (trigger_2 && nextRound.triggers[trigger_2]) {
                            retrigger = true;
                            // console.log("Queuing:", trigger);
                            newTriggers[trigger_2] = nextRound.triggers[trigger_2];
                        }
                    }
                }
            }
        }
        if (retrigger) {
            return { changes: nextChanges, triggers: newTriggers };
        }
    };
    return Indexer;
})();
exports.Indexer = Indexer;
function addProvenanceTable(ixer) {
    var table = ixer.addTable("provenance", ["table", ["row", "__id"], "row instance", "source", ["source row", "__id"]]);
    // generate some indexes that we know we're going to need upfront
    ixer.index("provenance", ["table", "row"]);
    ixer.index("provenance", ["table", "row instance"]);
    ixer.index("provenance", ["table", "source", "source row"]);
    ixer.index("provenance", ["table"]);
    return ixer;
}
exports.addProvenanceTable = addProvenanceTable;
function mappingToDiff(diff, action, mapping, aliases, reverseLookup) {
    for (var from in mapping) {
        var to = mapping[from];
        if (to.constructor === Array) {
            var source = to[0];
            if (typeof source === "number") {
                source = aliases[reverseLookup[source]];
            }
            else {
                source = aliases[source];
            }
            diff.add("action mapping", { action: action, from: from, "to source": source, "to field": to[1] });
        }
        else {
            diff.add("action mapping constant", { action: action, from: from, value: to });
        }
    }
    return diff;
}
exports.QueryFunctions = {};
var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;
var ARGUMENT_NAMES = /([^\s,]+)/g;
function getParamNames(func) {
    var fnStr = func.toString().replace(STRIP_COMMENTS, '');
    var result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);
    if (result === null)
        result = [];
    return result;
}
function define(name, opts, func) {
    var params = getParamNames(func);
    opts.name = name;
    opts.params = params;
    opts.func = func;
    exports.QueryFunctions[name] = opts;
}
exports.define = define;
var Query = (function () {
    function Query(ixer, name) {
        if (name === void 0) { name = "unknown"; }
        this.name = name;
        this.ixer = ixer;
        this.dirty = true;
        this.tables = [];
        this.joins = [];
        this.aliases = {};
        this.funcs = [];
        this.aggregates = [];
        this.unprojectedSize = 0;
        this.hasOrdinal = false;
    }
    Query.remove = function (view, ixer) {
        var diff = ixer.diff();
        diff.remove("view", { view: view });
        for (var _i = 0, _a = ixer.find("action", { view: view }); _i < _a.length; _i++) {
            var actionItem = _a[_i];
            var action = actionItem.action;
            diff.remove("action", { action: action });
            diff.remove("action source", { action: action });
            diff.remove("action mapping", { action: action });
            diff.remove("action mapping constant", { action: action });
            diff.remove("action mapping sorted", { action: action });
            diff.remove("action mapping limit", { action: action });
        }
        return diff;
    };
    Query.prototype.changeset = function (ixer) {
        var diff = ixer.diff();
        var aliases = {};
        var reverseLookup = {};
        for (var alias in this.aliases) {
            reverseLookup[this.aliases[alias]] = alias;
        }
        var view = this.name;
        diff.add("view", { view: view, kind: "query" });
        //joins
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var action = utils_1.uuid();
            aliases[join.as] = action;
            if (!join.negated) {
                diff.add("action", { view: view, action: action, kind: "select", ix: join.ix });
            }
            else {
                diff.add("action", { view: view, action: action, kind: "deselect", ix: join.ix });
            }
            diff.add("action source", { action: action, "source view": join.table });
            mappingToDiff(diff, action, join.join, aliases, reverseLookup);
        }
        //functions
        for (var _b = 0, _c = this.funcs; _b < _c.length; _b++) {
            var func = _c[_b];
            var action = utils_1.uuid();
            aliases[func.as] = action;
            diff.add("action", { view: view, action: action, kind: "calculate", ix: func.ix });
            diff.add("action source", { action: action, "source view": func.name });
            mappingToDiff(diff, action, func.args, aliases, reverseLookup);
        }
        //aggregates
        for (var _d = 0, _e = this.aggregates; _d < _e.length; _d++) {
            var agg = _e[_d];
            var action = utils_1.uuid();
            aliases[agg.as] = action;
            diff.add("action", { view: view, action: action, kind: "aggregate", ix: agg.ix });
            diff.add("action source", { action: action, "source view": agg.name });
            mappingToDiff(diff, action, agg.args, aliases, reverseLookup);
        }
        //sort
        if (this.sorts) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "sort", ix: exports.MAX_NUMBER });
            var ix = 0;
            for (var _f = 0, _g = this.sorts; _f < _g.length; _f++) {
                var sort = _g[_f];
                var source = sort[0], field = sort[1], direction = sort[2];
                if (typeof source === "number") {
                    source = aliases[reverseLookup[source]];
                }
                else {
                    source = aliases[source];
                }
                diff.add("action mapping sorted", { action: action, ix: ix, source: source, field: field, direction: direction });
                ix++;
            }
        }
        //group
        if (this.groups) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "group", ix: exports.MAX_NUMBER });
            var ix = 0;
            for (var _h = 0, _j = this.groups; _h < _j.length; _h++) {
                var group = _j[_h];
                var source = group[0], field = group[1];
                if (typeof source === "number") {
                    source = aliases[reverseLookup[source]];
                }
                else {
                    source = aliases[source];
                }
                diff.add("action mapping sorted", { action: action, ix: ix, source: source, field: field, direction: "ascending" });
                ix++;
            }
        }
        //limit
        if (this.limitInfo) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "limit", ix: exports.MAX_NUMBER });
            for (var limitType in this.limitInfo) {
                diff.add("action mapping limit", { action: action, "limit type": limitType, value: this.limitInfo[limitType] });
            }
        }
        //projection
        if (this.projectionMap) {
            var action = utils_1.uuid();
            diff.add("action", { view: view, action: action, kind: "project", ix: exports.MAX_NUMBER });
            mappingToDiff(diff, action, this.projectionMap, aliases, reverseLookup);
        }
        return diff;
    };
    Query.prototype.validateFields = function (tableName, joinObject) {
        var table = this.ixer.table(tableName);
        for (var field in joinObject) {
            if (table.fields.length && !table.keyLookup[field]) {
                throw new Error("Table '" + tableName + "' doesn't have a field '" + field + "'.\n\nAvailable fields: " + table.fields.join(", "));
            }
            var joinInfo = joinObject[field];
            if (joinInfo.constructor === Array) {
                var joinNumber = joinInfo[0], referencedField = joinInfo[1];
                if (typeof joinNumber !== "number") {
                    joinNumber = this.aliases[joinNumber];
                }
                var join = this.joins[joinNumber];
                if (join && join.ix === joinNumber) {
                    var referencedTable = this.ixer.table(join.table);
                    if (!referencedTable.fields.length)
                        continue;
                    if (!referencedTable.keyLookup[referencedField]) {
                        throw new Error("Table '" + join.table + "' doesn't have a field '" + referencedField + "'.\n\nAvailable fields: " + referencedTable.fields.join(", "));
                    }
                }
            }
        }
    };
    Query.prototype.select = function (table, join, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        this.unprojectedSize++;
        this.tables.push(table);
        this.validateFields(table, join);
        this.joins.push({ negated: false, table: table, join: join, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.deselect = function (table, join) {
        this.dirty = true;
        this.tables.push(table);
        this.validateFields(table, join);
        this.joins.push({ negated: true, table: table, join: join, ix: this.joins.length * 1000 });
        return this;
    };
    Query.prototype.calculate = function (funcName, args, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        if (!exports.QueryFunctions[funcName].filter) {
            this.unprojectedSize++;
        }
        this.funcs.push({ name: funcName, args: args, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.project = function (projectionMap) {
        this.projectionMap = projectionMap;
        this.validateFields(undefined, projectionMap);
        return this;
    };
    Query.prototype.group = function (groups) {
        this.dirty = true;
        if (groups[0] && groups[0].constructor === Array) {
            this.groups = groups;
        }
        else {
            if (!this.groups)
                this.groups = [];
            this.groups.push(groups);
        }
        return this;
    };
    Query.prototype.sort = function (sorts) {
        this.dirty = true;
        if (sorts[0] && sorts[0].constructor === Array) {
            this.sorts = sorts;
        }
        else {
            if (!this.sorts)
                this.sorts = [];
            this.sorts.push(sorts);
        }
        return this;
    };
    Query.prototype.limit = function (limitInfo) {
        this.dirty = true;
        if (!this.limitInfo) {
            this.limitInfo = {};
        }
        for (var key in limitInfo) {
            this.limitInfo[key] = limitInfo[key];
        }
        return this;
    };
    Query.prototype.aggregate = function (funcName, args, as) {
        this.dirty = true;
        if (as) {
            this.aliases[as] = Object.keys(this.aliases).length;
        }
        this.unprojectedSize++;
        this.aggregates.push({ name: funcName, args: args, as: as, ix: this.aliases[as] });
        return this;
    };
    Query.prototype.ordinal = function () {
        this.dirty = true;
        this.hasOrdinal = true;
        this.unprojectedSize++;
        return this;
    };
    Query.prototype.applyAliases = function (joinMap) {
        for (var field in joinMap) {
            var joinInfo = joinMap[field];
            if (joinInfo.constructor !== Array || typeof joinInfo[0] === "number")
                continue;
            var joinTable = joinInfo[0];
            if (joinTable === "ordinal") {
                joinInfo[0] = this.unprojectedSize - 1;
            }
            else if (this.aliases[joinTable] !== undefined) {
                joinInfo[0] = this.aliases[joinTable];
            }
            else {
                throw new Error("Invalid alias used: " + joinTable);
            }
        }
    };
    Query.prototype.toAST = function () {
        var cursor = { type: "query",
            children: [] };
        var root = cursor;
        var results = [];
        // by default the only thing we return are the unprojected results
        var returns = ["unprojected", "provenance"];
        // we need an array to store our unprojected results
        root.children.push({ type: "declaration", var: "unprojected", value: "[]" });
        root.children.push({ type: "declaration", var: "provenance", value: "[]" });
        root.children.push({ type: "declaration", var: "projected", value: "{}" });
        // run through each table nested in the order they were given doing pairwise
        // joins along the way.
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var table = join.table, ix = join.ix, negated = join.negated;
            var cur = {
                type: "select",
                table: table,
                passed: ix === 0,
                ix: ix,
                negated: negated,
                children: [],
                join: false,
            };
            // we only want to eat the cost of dealing with indexes
            // if we are actually joining on something
            var joinMap = join.join;
            this.applyAliases(joinMap);
            if (joinMap && Object.keys(joinMap).length !== 0) {
                root.children.unshift({ type: "declaration", var: "query" + ix, value: "{}" });
                cur.join = joinMap;
            }
            cursor.children.push(cur);
            if (!negated) {
                results.push({ type: "select", ix: ix });
            }
            cursor = cur;
        }
        // at the bottom of the joins, we calculate all the functions based on the values
        // collected
        for (var _b = 0, _c = this.funcs; _b < _c.length; _b++) {
            var func = _c[_b];
            var args = func.args, name_1 = func.name, ix = func.ix;
            var funcInfo = exports.QueryFunctions[name_1];
            this.applyAliases(args);
            root.children.unshift({ type: "functionDeclaration", ix: ix, info: funcInfo });
            if (funcInfo.multi || funcInfo.filter) {
                var node = { type: "functionCallMultiReturn", ix: ix, args: args, info: funcInfo, children: [] };
                cursor.children.push(node);
                cursor = node;
            }
            else {
                cursor.children.push({ type: "functionCall", ix: ix, args: args, info: funcInfo, children: [] });
            }
            if (!funcInfo.noReturn && !funcInfo.filter) {
                results.push({ type: "function", ix: ix });
            }
        }
        // now that we're at the bottom of the join, store the unprojected result
        cursor.children.push({ type: "result", results: results });
        //Aggregation
        //sort the unprojected results based on groupings and the given sorts
        var sorts = [];
        var alreadySorted = {};
        if (this.groups) {
            this.applyAliases(this.groups);
            for (var _d = 0, _e = this.groups; _d < _e.length; _d++) {
                var group = _e[_d];
                var table = group[0], field = group[1];
                sorts.push(group);
                alreadySorted[(table + "|" + field)] = true;
            }
        }
        if (this.sorts) {
            this.applyAliases(this.sorts);
            for (var _f = 0, _g = this.sorts; _f < _g.length; _f++) {
                var sort = _g[_f];
                var table = sort[0], field = sort[1];
                if (!alreadySorted[(table + "|" + field)]) {
                    sorts.push(sort);
                }
            }
        }
        var size = this.unprojectedSize;
        if (sorts.length) {
            root.children.push({ type: "sort", sorts: sorts, size: size, children: [] });
        }
        //then we need to run through the sorted items and do the aggregate as a fold.
        if (this.aggregates.length || sorts.length || this.limitInfo || this.hasOrdinal) {
            // we need to store group info for post processing of the unprojected results
            // this will indicate what group number, if any, that each unprojected result belongs to
            root.children.unshift({ type: "declaration", var: "groupInfo", value: "[]" });
            returns.push("groupInfo");
            var aggregateChildren = [];
            for (var _h = 0, _j = this.aggregates; _h < _j.length; _h++) {
                var func = _j[_h];
                var args = func.args, name_2 = func.name, ix = func.ix;
                var funcInfo = exports.QueryFunctions[name_2];
                this.applyAliases(args);
                root.children.unshift({ type: "functionDeclaration", ix: ix, info: funcInfo });
                aggregateChildren.push({ type: "functionCall", ix: ix, resultsIx: results.length, args: args, info: funcInfo, unprojected: true, children: [] });
                results.push({ type: "placeholder" });
            }
            if (this.hasOrdinal === true) {
                aggregateChildren.push({ type: "ordinal" });
                results.push({ type: "placeholder" });
            }
            var aggregate = { type: "aggregate loop", groups: this.groups, limit: this.limitInfo, size: size, children: aggregateChildren };
            root.children.push(aggregate);
            cursor = aggregate;
        }
        if (this.projectionMap) {
            this.applyAliases(this.projectionMap);
            root.children.unshift({ type: "declaration", var: "results", value: "[]" });
            if (exports.INCREMENTAL) {
                cursor.children.push({ type: "provenance" });
            }
            cursor.children.push({ type: "projection", projectionMap: this.projectionMap, unprojected: this.aggregates.length });
            returns.push("results");
        }
        root.children.push({ type: "return", vars: returns });
        return root;
    };
    Query.prototype.compileParamString = function (funcInfo, args, unprojected) {
        if (unprojected === void 0) { unprojected = false; }
        var code = "";
        var params = funcInfo.params;
        if (unprojected)
            params = params.slice(1);
        for (var _i = 0; _i < params.length; _i++) {
            var param = params[_i];
            var arg = args[param];
            var argCode = void 0;
            if (arg.constructor === Array) {
                var property = "";
                if (arg[1]) {
                    property = "['" + arg[1] + "']";
                }
                if (!unprojected) {
                    argCode = "row" + arg[0] + property;
                }
                else {
                    argCode = "unprojected[ix + " + arg[0] + "]" + property;
                }
            }
            else {
                argCode = JSON.stringify(arg);
            }
            code += argCode + ", ";
        }
        return code.substring(0, code.length - 2);
    };
    Query.prototype.compileAST = function (root) {
        var code = "";
        var type = root.type;
        switch (type) {
            case "query":
                for (var _i = 0, _a = root.children; _i < _a.length; _i++) {
                    var child = _a[_i];
                    code += this.compileAST(child);
                }
                break;
            case "declaration":
                code += "var " + root.var + " = " + root.value + ";\n";
                break;
            case "functionDeclaration":
                code += "var func" + root.ix + " = QueryFunctions['" + root.info.name + "'].func;\n";
                break;
            case "functionCall":
                var ix = root.ix;
                var prev = "";
                if (root.unprojected) {
                    prev = "row" + ix;
                    if (root.info.params.length > 1)
                        prev += ",";
                }
                code += "var row" + ix + " = func" + ix + "(" + prev + this.compileParamString(root.info, root.args, root.unprojected) + ");\n";
                break;
            case "functionCallMultiReturn":
                var ix = root.ix;
                code += "var rows" + ix + " = func" + ix + "(" + this.compileParamString(root.info, root.args) + ");\n";
                code += "for(var funcResultIx" + ix + " = 0, funcLen" + ix + " = rows" + ix + ".length; funcResultIx" + ix + " < funcLen" + ix + "; funcResultIx" + ix + "++) {\n";
                code += "var row" + ix + " = rows" + ix + "[funcResultIx" + ix + "];\n";
                for (var _b = 0, _c = root.children; _b < _c.length; _b++) {
                    var child = _c[_b];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "select":
                var ix = root.ix;
                if (root.passed) {
                    code += "var rows" + ix + " = rootRows;\n";
                }
                else if (root.join) {
                    for (var key in root.join) {
                        var mapping = root.join[key];
                        if (mapping.constructor === Array) {
                            var tableIx = mapping[0], value = mapping[1];
                            code += "query" + ix + "['" + key + "'] = row" + tableIx + "['" + value + "'];\n";
                        }
                        else {
                            code += "query" + ix + "['" + key + "'] = " + JSON.stringify(mapping) + ";\n";
                        }
                    }
                    code += "var rows" + ix + " = ixer.factToIndex(ixer.table('" + root.table + "'), query" + ix + ");\n";
                }
                else {
                    code += "var rows" + ix + " = ixer.table('" + root.table + "').table;\n";
                }
                if (!root.negated) {
                    code += "for(var rowIx" + ix + " = 0, rowsLen" + ix + " = rows" + ix + ".length; rowIx" + ix + " < rowsLen" + ix + "; rowIx" + ix + "++) {\n";
                    code += "var row" + ix + " = rows" + ix + "[rowIx" + ix + "];\n";
                }
                else {
                    code += "if(!rows" + ix + ".length) {\n";
                }
                for (var _d = 0, _e = root.children; _d < _e.length; _d++) {
                    var child = _e[_d];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "result":
                var results = [];
                for (var _f = 0, _g = root.results; _f < _g.length; _f++) {
                    var result = _g[_f];
                    if (result.type === "placeholder") {
                        results.push("undefined");
                    }
                    else {
                        var ix_1 = result.ix;
                        results.push("row" + ix_1);
                    }
                }
                code += "unprojected.push(" + results.join(", ") + ");\n";
                break;
            case "sort":
                code += generateUnprojectedSorterCode(root.size, root.sorts) + "\n";
                break;
            case "aggregate loop":
                var projection = "";
                var aggregateCalls = [];
                var aggregateStates = [];
                var aggregateResets = [];
                var unprojected = {};
                var ordinal = false;
                var provenanceCode;
                for (var _h = 0, _j = root.children; _h < _j.length; _h++) {
                    var agg = _j[_h];
                    if (agg.type === "functionCall") {
                        unprojected[agg.ix] = true;
                        var compiled = this.compileAST(agg);
                        compiled += "\nunprojected[ix + " + agg.resultsIx + "] = row" + agg.ix + ";\n";
                        aggregateCalls.push(compiled);
                        aggregateStates.push("var row" + agg.ix + " = {};");
                        aggregateResets.push("row" + agg.ix + " = {};");
                    }
                    else if (agg.type === "projection") {
                        agg.unprojected = unprojected;
                        projection = this.compileAST(agg);
                    }
                    else if (agg.type === "ordinal") {
                        ordinal = "unprojected[ix+" + (this.unprojectedSize - 1) + "] = resultCount;\n";
                    }
                    else if (agg.type === "provenance") {
                        provenanceCode = this.compileAST(agg);
                    }
                }
                var aggregateCallsCode = aggregateCalls.join("");
                var differentGroupChecks = [];
                var groupCheck = "false";
                if (root.groups) {
                    for (var _k = 0, _l = root.groups; _k < _l.length; _k++) {
                        var group = _l[_k];
                        var table = group[0], field = group[1];
                        differentGroupChecks.push("unprojected[nextIx + " + table + "]['" + field + "'] !== unprojected[ix + " + table + "]['" + field + "']");
                    }
                    groupCheck = "(" + differentGroupChecks.join(" || ") + ")";
                }
                var resultsCheck = "";
                if (root.limit && root.limit.results) {
                    var limitValue = root.limit.results;
                    var offset = root.limit.offset;
                    if (offset) {
                        limitValue += offset;
                        projection = "if(resultCount >= " + offset + ") {\n              " + projection + "\n            }";
                    }
                    resultsCheck = "if(resultCount === " + limitValue + ") break;";
                }
                var groupLimitCheck = "";
                if (root.limit && root.limit.perGroup && root.groups) {
                    var limitValue = root.limit.perGroup;
                    var offset = root.limit.offset;
                    if (offset) {
                        limitValue += offset;
                        aggregateCallsCode = "if(perGroupCount >= " + offset + ") {\n              " + aggregateCallsCode + "\n            }";
                    }
                    groupLimitCheck = "if(perGroupCount === " + limitValue + ") {\n            while(!differentGroup) {\n              nextIx += " + root.size + ";\n              if(nextIx >= len) break;\n              groupInfo[nextIx] = undefined;\n              differentGroup = " + groupCheck + ";\n            }\n          }";
                }
                var groupDifference = "";
                var groupInfo = "";
                if (this.groups) {
                    groupInfo = "groupInfo[ix] = resultCount;";
                    var groupProjection = projection + "resultCount++;";
                    if (root.limit && root.limit.offset) {
                        groupProjection = "if(perGroupCount > " + root.limit.offset + ") {\n              " + groupProjection + "\n            }";
                        groupInfo = "if(perGroupCount >= " + root.limit.offset + ") {\n              " + groupInfo + "\n            }";
                    }
                    groupDifference = "\n          perGroupCount++\n          var differentGroup = " + groupCheck + ";\n          " + groupLimitCheck + "\n          if(differentGroup) {\n            " + groupProjection + "\n            " + aggregateResets.join("\n") + "\n            perGroupCount = 0;\n          }\n";
                }
                else {
                    groupDifference = "resultCount++;\n";
                    groupInfo = "groupInfo[ix] = 0;";
                }
                // if there are neither aggregates to calculate nor groups to build,
                // then we just need to worry about limiting
                if (!this.groups && aggregateCalls.length === 0) {
                    code = "var ix = 0;\n                  var resultCount = 0;\n                  var len = unprojected.length;\n                  while(ix < len) {\n                    " + resultsCheck + "\n                    " + (ordinal || "") + "\n                    " + provenanceCode + "\n                    " + projection + "\n                    groupInfo[ix] = resultCount;\n                    resultCount++;\n                    ix += " + root.size + ";\n                  }\n";
                    break;
                }
                code = "var resultCount = 0;\n                var perGroupCount = 0;\n                var ix = 0;\n                var nextIx = 0;\n                var len = unprojected.length;\n                " + aggregateStates.join("\n") + "\n                while(ix < len) {\n                  " + aggregateCallsCode + "\n                  " + groupInfo + "\n                  " + (ordinal || "") + "\n                  " + provenanceCode + "\n                  if(ix + " + root.size + " === len) {\n                    " + projection + "\n                    break;\n                  }\n                  nextIx += " + root.size + ";\n                  " + groupDifference + "\n                  " + resultsCheck + "\n                  ix = nextIx;\n                }\n";
                break;
            case "projection":
                var projectedVars = [];
                var idStringParts = [];
                for (var newField in root.projectionMap) {
                    var mapping = root.projectionMap[newField];
                    var value = "";
                    if (mapping.constructor === Array) {
                        if (mapping[1] === undefined) {
                            value = "unprojected[ix + " + mapping[0] + "]";
                        }
                        else if (!root.unprojected || root.unprojected[mapping[0]]) {
                            value = "row" + mapping[0] + "['" + mapping[1] + "']";
                        }
                        else {
                            value = "unprojected[ix + " + mapping[0] + "]['" + mapping[1] + "']";
                        }
                    }
                    else {
                        value = JSON.stringify(mapping);
                    }
                    projectedVars.push("projected['" + newField.replace(/'/g, "\\'") + "'] = " + value);
                    idStringParts.push(value);
                }
                code += projectedVars.join(";\n") + "\n";
                code += "projected.__id = " + idStringParts.join(" + \"|\" + ") + ";\n";
                code += "results.push(projected);\n";
                code += "projected = {};\n";
                break;
            case "provenance":
                var provenance = "var provenance__id = '';\n";
                var ids = [];
                for (var _m = 0, _o = this.joins; _m < _o.length; _m++) {
                    var join = _o[_m];
                    if (join.negated)
                        continue;
                    provenance += "provenance__id = tableId + '|' + projected.__id + '|' + rowInstance + '|" + join.table + "|' + row" + join.ix + ".__id; \n";
                    provenance += "provenance.push({table: tableId, row: projected, \"row instance\": rowInstance, source: \"" + join.table + "\", \"source row\": row" + join.ix + "});\n";
                    ids.push("row" + join.ix + ".__id");
                }
                code = "var rowInstance = " + ids.join(" + '|' + ") + ";\n        " + provenance;
                break;
            case "return":
                var returns = [];
                for (var _p = 0, _q = root.vars; _p < _q.length; _p++) {
                    var curVar = _q[_p];
                    returns.push(curVar + ": " + curVar);
                }
                code += "return {" + returns.join(", ") + "};";
                break;
        }
        return code;
    };
    // given a set of changes and a join order, determine the root facts that need
    // to be joined again to cover all the adds
    Query.prototype.reverseJoin = function (joins) {
        var changed = joins[0];
        var reverseJoinMap = {};
        // collect all the constraints and reverse them
        for (var _i = 0; _i < joins.length; _i++) {
            var join = joins[_i];
            for (var key in join.join) {
                var _a = join.join[key], source = _a[0], field = _a[1];
                if (source <= changed.ix) {
                    if (!reverseJoinMap[source]) {
                        reverseJoinMap[source] = {};
                    }
                    if (!reverseJoinMap[source][field])
                        reverseJoinMap[source][field] = [join.ix, key];
                }
            }
        }
        var recurse = function (joins, joinIx) {
            var code = "";
            if (joinIx >= joins.length) {
                return "others.push(row0)";
            }
            var _a = joins[joinIx], table = _a.table, ix = _a.ix, negated = _a.negated;
            var joinMap = joins[joinIx].join;
            // we only care about this guy if he's joined with at least one thing
            if (!reverseJoinMap[ix] && joinIx < joins.length - 1)
                return recurse(joins, joinIx + 1);
            else if (!reverseJoinMap)
                return "";
            var mappings = [];
            for (var key in reverseJoinMap[ix]) {
                var _b = reverseJoinMap[ix][key], sourceIx = _b[0], field = _b[1];
                if (sourceIx === changed.ix || reverseJoinMap[sourceIx] !== undefined) {
                    mappings.push("'" + key + "': row" + sourceIx + "['" + field + "']");
                }
            }
            for (var key in joinMap) {
                var value = joinMap[key];
                if (value.constructor !== Array) {
                    mappings.push("'" + key + "': " + JSON.stringify(value));
                }
            }
            if (negated) {
            }
            code += "\n            var rows" + ix + " = eve.find('" + table + "', {" + mappings.join(", ") + "});\n            for(var rowsIx" + ix + " = 0, rowsLen" + ix + " = rows" + ix + ".length; rowsIx" + ix + " < rowsLen" + ix + "; rowsIx" + ix + "++) {\n                var row" + ix + " = rows" + ix + "[rowsIx" + ix + "];\n                " + recurse(joins, joinIx + 1) + "\n            }\n            ";
            return code;
        };
        return recurse(joins, 1);
    };
    Query.prototype.compileIncrementalRowFinderCode = function () {
        var code = "var others = [];\n";
        var reversed = this.joins.slice().reverse();
        var checks = [];
        var ix = 0;
        for (var _i = 0; _i < reversed.length; _i++) {
            var join = reversed[_i];
            // we don't want to do this for the root
            if (ix === reversed.length - 1)
                break;
            checks.push("\n\t\t\tif(changes[\"" + join.table + "\"] && changes[\"" + join.table + "\"].adds) {\n                var curChanges" + join.ix + " = changes[\"" + join.table + "\"].adds;\n                for(var changeIx" + join.ix + " = 0, changeLen" + join.ix + " = curChanges" + join.ix + ".length; changeIx" + join.ix + " < changeLen" + join.ix + "; changeIx" + join.ix + "++) {\n                    var row" + join.ix + " = curChanges" + join.ix + "[changeIx" + join.ix + "];\n\t\t\t\t\t" + this.reverseJoin(reversed.slice(ix)) + "\n\t\t\t\t}\n\t\t\t}");
            ix++;
        }
        code += checks.join(" else");
        var last = reversed[ix];
        code += "\n\t\t\tif(changes[\"" + last.table + "\"] && changes[\"" + last.table + "\"].adds) {\n                var curChanges = changes[\"" + last.table + "\"].adds;\n\t\t\t\tfor(var changeIx = 0, changeLen = curChanges.length; changeIx < changeLen; changeIx++) {\n\t\t\t\t\tothers.push(curChanges[changeIx]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn others;";
        return code;
    };
    Query.prototype.incrementalRemove = function (changes) {
        var ixer = this.ixer;
        var rowsToPostCheck = [];
        var provenanceDiff = this.ixer.diff();
        var removes = [];
        var indexes = ixer.table("provenance").indexes;
        var sourceRowLookup = indexes["source|source row|table"].index;
        var rowInstanceLookup = indexes["row instance|table"].index;
        var tableRowLookup = indexes["row|table"].index;
        var provenanceRemoves = [];
        var visited = {};
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            var change = changes[join.table];
            if (!visited[join.table] && change && change.removes.length) {
                visited[join.table] = true;
                for (var _b = 0, _c = change.removes; _b < _c.length; _b++) {
                    var remove = _c[_b];
                    var provenances = sourceRowLookup[join.table + '|' + remove.__id + '|' + this.name];
                    if (provenances) {
                        for (var _d = 0; _d < provenances.length; _d++) {
                            var provenance = provenances[_d];
                            if (!visited[provenance["row instance"]]) {
                                visited[provenance["row instance"]] = true;
                                var relatedProvenance = rowInstanceLookup[provenance["row instance"] + '|' + provenance.table];
                                for (var _e = 0; _e < relatedProvenance.length; _e++) {
                                    var related = relatedProvenance[_e];
                                    provenanceRemoves.push(related);
                                }
                            }
                            rowsToPostCheck.push(provenance);
                        }
                    }
                }
            }
        }
        provenanceDiff.removeFacts("provenance", provenanceRemoves);
        ixer.applyDiffIncremental(provenanceDiff);
        var isEdb = ixer.edbTables;
        for (var _f = 0; _f < rowsToPostCheck.length; _f++) {
            var row = rowsToPostCheck[_f];
            var supports = tableRowLookup[row.row.__id + '|' + row.table];
            if (!supports || supports.length === 0) {
                removes.push(row.row);
            }
        }
        return removes;
    };
    Query.prototype.canBeIncremental = function () {
        if (this.aggregates.length)
            return false;
        if (this.sorts)
            return false;
        if (this.groups)
            return false;
        if (this.limitInfo)
            return false;
        for (var _i = 0, _a = this.joins; _i < _a.length; _i++) {
            var join = _a[_i];
            if (join.negated)
                return false;
        }
        if (!this.joins.length)
            return false;
        return true;
    };
    Query.prototype.compile = function () {
        var ast = this.toAST();
        var code = this.compileAST(ast);
        this.compiled = new Function("ixer", "QueryFunctions", "tableId", "rootRows", code);
        if (this.canBeIncremental()) {
            this.incrementalRowFinder = new Function("changes", this.compileIncrementalRowFinderCode());
        }
        else {
            this.incrementalRowFinder = undefined;
        }
        this.dirty = false;
        return this;
    };
    Query.prototype.exec = function () {
        if (this.dirty) {
            this.compile();
        }
        var root = this.joins[0];
        var rows;
        if (root) {
            rows = this.ixer.find(root.table, root.join);
        }
        else {
            rows = [];
        }
        return this.compiled(this.ixer, exports.QueryFunctions, this.name, rows);
    };
    Query.prototype.execIncremental = function (changes, table) {
        if (this.dirty) {
            this.compile();
        }
        if (this.incrementalRowFinder) {
            var potentialRows = this.incrementalRowFinder(changes);
            // if the root select has some constant filters, then
            // the above rows need to be filtered down to only those that
            // match.
            var rows = [];
            var root = this.joins[0];
            var rootKeys = Object.keys(root.join);
            if (rootKeys.length > 0) {
                rowLoop: for (var _i = 0; _i < potentialRows.length; _i++) {
                    var row = potentialRows[_i];
                    for (var _a = 0; _a < rootKeys.length; _a++) {
                        var key = rootKeys[_a];
                        if (row[key] !== root.join[key])
                            continue rowLoop;
                    }
                    rows.push(row);
                }
            }
            else {
                rows = potentialRows;
            }
            var results = this.compiled(this.ixer, exports.QueryFunctions, this.name, rows);
            var adds = [];
            var prevHashes = table.factHash;
            var prevKeys = Object.keys(prevHashes);
            var suggestedRemoves = this.incrementalRemove(changes);
            var realDiff = diffAddsAndRemoves(results.results, suggestedRemoves);
            for (var _b = 0, _c = realDiff.adds; _b < _c.length; _b++) {
                var result = _c[_b];
                var id = result.__id;
                if (prevHashes[id] === undefined) {
                    adds.push(result);
                }
            }
            var diff = this.ixer.diff();
            diff.addMany("provenance", results.provenance);
            this.ixer.applyDiffIncremental(diff);
            // console.log("INC PROV DIFF", this.name, diff.length);
            return { provenance: results.provenance, adds: adds, removes: realDiff.removes };
        }
        else {
            var results = this.exec();
            var adds = [];
            var removes = [];
            var prevHashes = table.factHash;
            var prevKeys = Object.keys(prevHashes);
            var newHashes = {};
            for (var _d = 0, _e = results.results; _d < _e.length; _d++) {
                var result = _e[_d];
                var id = result.__id;
                newHashes[id] = result;
                if (prevHashes[id] === undefined) {
                    adds.push(result);
                }
            }
            for (var _f = 0; _f < prevKeys.length; _f++) {
                var hash = prevKeys[_f];
                var value = newHashes[hash];
                if (value === undefined) {
                    removes.push(prevHashes[hash]);
                }
            }
            var realDiff = diffAddsAndRemoves(adds, removes);
            var diff = this.ixer.diff();
            diff.remove("provenance", { table: this.name });
            diff.addMany("provenance", results.provenance);
            this.ixer.applyDiffIncremental(diff);
            // console.log("FULL PROV SIZE", this.name, diff.length);
            return { provenance: results.provenance, adds: realDiff.adds, removes: realDiff.removes };
        }
    };
    Query.prototype.debug = function () {
        console.log(this.compileAST(this.toAST()));
        console.time("exec");
        var results = this.exec();
        console.timeEnd("exec");
        console.log(results);
        return results;
    };
    return Query;
})();
exports.Query = Query;
var Union = (function () {
    function Union(ixer, name) {
        if (name === void 0) { name = "unknown"; }
        this.name = name;
        this.ixer = ixer;
        this.tables = [];
        this.sources = [];
        this.isStateful = false;
        this.prev = { results: [], hashes: {} };
        this.dirty = true;
    }
    Union.prototype.changeset = function (ixer) {
        var diff = ixer.diff();
        diff.add("view", { view: this.name, kind: "union" });
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            if (source.type === "+") {
                var action = utils_1.uuid();
                diff.add("action", { view: this.name, action: action, kind: "union", ix: 0 });
                diff.add("action source", { action: action, "source view": source.table });
                for (var field in source.mapping) {
                    var mapped = source.mapping[field];
                    if (mapped.constructor === Array)
                        diff.add("action mapping", { action: action, from: field, "to source": source.table, "to field": mapped[0] });
                    else
                        diff.add("action mapping constant", { action: action, from: field, value: mapped });
                }
            }
            else
                throw new Error("Unknown source type: '" + source.type + "'");
        }
        return diff;
    };
    Union.prototype.ensureHasher = function (mapping) {
        if (!this.hasher) {
            this.hasher = generateStringFn(Object.keys(mapping));
        }
    };
    Union.prototype.union = function (tableName, mapping) {
        this.dirty = true;
        this.ensureHasher(mapping);
        this.tables.push(tableName);
        this.sources.push({ type: "+", table: tableName, mapping: mapping });
        return this;
    };
    Union.prototype.toAST = function () {
        var root = { type: "union", children: [] };
        root.children.push({ type: "declaration", var: "results", value: "[]" });
        root.children.push({ type: "declaration", var: "provenance", value: "[]" });
        var hashesValue = "{}";
        if (this.isStateful) {
            hashesValue = "prevHashes";
        }
        root.children.push({ type: "declaration", var: "hashes", value: hashesValue });
        var ix = 0;
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var action = void 0;
            if (source.type === "+") {
                action = { type: "result", ix: ix, children: [{ type: "provenance", source: source, ix: ix }] };
            }
            root.children.push({
                type: "source",
                ix: ix,
                table: source.table,
                mapping: source.mapping,
                children: [action],
            });
            ix++;
        }
        root.children.push({ type: "hashesToResults" });
        root.children.push({ type: "return", vars: ["results", "hashes", "provenance"] });
        return root;
    };
    Union.prototype.compileAST = function (root) {
        var code = "";
        var type = root.type;
        switch (type) {
            case "union":
                for (var _i = 0, _a = root.children; _i < _a.length; _i++) {
                    var child = _a[_i];
                    code += this.compileAST(child);
                }
                break;
            case "declaration":
                code += "var " + root.var + " = " + root.value + ";\n";
                break;
            case "source":
                var ix = root.ix;
                var mappingItems = [];
                for (var key in root.mapping) {
                    var mapping = root.mapping[key];
                    var value = void 0;
                    if (mapping.constructor === Array && mapping.length === 1) {
                        var field = mapping[0];
                        value = "sourceRow" + ix + "['" + field + "']";
                    }
                    else if (mapping.constructor === Array && mapping.length === 2) {
                        var _ = mapping[0], field = mapping[1];
                        value = "sourceRow" + ix + "['" + field + "']";
                    }
                    else {
                        value = JSON.stringify(mapping);
                    }
                    mappingItems.push("'" + key + "': " + value);
                }
                code += "var sourceRows" + ix + " = changes['" + root.table.replace(/'/g, "\\'") + "'];\n";
                code += "for(var rowIx" + ix + " = 0, rowsLen" + ix + " = sourceRows" + ix + ".length; rowIx" + ix + " < rowsLen" + ix + "; rowIx" + ix + "++) {\n";
                code += "var sourceRow" + ix + " = sourceRows" + ix + "[rowIx" + ix + "];\n";
                code += "var mappedRow" + ix + " = {" + mappingItems.join(", ") + "};\n";
                for (var _b = 0, _c = root.children; _b < _c.length; _b++) {
                    var child = _c[_b];
                    code += this.compileAST(child);
                }
                code += "}\n";
                break;
            case "result":
                var ix = root.ix;
                code += "var hash" + ix + " = hasher(mappedRow" + ix + ");\n";
                code += "mappedRow" + ix + ".__id = hash" + ix + ";\n";
                code += "hashes[hash" + ix + "] = mappedRow" + ix + ";\n";
                for (var _d = 0, _e = root.children; _d < _e.length; _d++) {
                    var child = _e[_d];
                    code += this.compileAST(child);
                }
                break;
            case "removeResult":
                var ix = root.ix;
                code += "hashes[hasher(mappedRow" + ix + ")] = false;\n";
                break;
            case "hashesToResults":
                code += "var hashKeys = Object.keys(hashes);\n";
                code += "for(var hashKeyIx = 0, hashKeyLen = hashKeys.length; hashKeyIx < hashKeyLen; hashKeyIx++) {\n";
                code += "var curHashKey = hashKeys[hashKeyIx];";
                code += "var value = hashes[curHashKey];\n";
                code += "if(value !== false) {\n";
                code += "value.__id = curHashKey;\n";
                code += "results.push(value);\n";
                code += "}\n";
                code += "}\n";
                break;
            case "provenance":
                var source = root.source.table;
                var ix = root.ix;
                var provenance = "var provenance__id = '';\n";
                provenance += "provenance__id = '" + this.name.replace(/'/g, "\\'") + "|' + mappedRow" + ix + ".__id + '|' + rowInstance + '|" + source.replace(/'/g, "\\'") + "|' + sourceRow" + ix + ".__id; \n";
                provenance += "provenance.push({table: '" + this.name.replace(/'/g, "\\'") + "', row: mappedRow" + ix + ", \"row instance\": rowInstance, source: \"" + source.replace(/'/g, "\\'") + "\", \"source row\": sourceRow" + ix + "});\n";
                code = "var rowInstance = \"" + source.replace(/'/g, "\\'") + "|\" + mappedRow" + ix + ".__id;\n        " + provenance;
                break;
            case "return":
                code += "return {" + root.vars.map(function (name) { return (name + ": " + name); }).join(", ") + "};";
                break;
        }
        return code;
    };
    Union.prototype.compile = function () {
        var ast = this.toAST();
        var code = this.compileAST(ast);
        this.compiled = new Function("ixer", "hasher", "changes", code);
        this.dirty = false;
        return this;
    };
    Union.prototype.debug = function () {
        var code = this.compileAST(this.toAST());
        console.log(code);
        return code;
    };
    Union.prototype.exec = function () {
        if (this.dirty) {
            this.compile();
        }
        var changes = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            changes[source.table] = this.ixer.table(source.table).table;
        }
        var results = this.compiled(this.ixer, this.hasher, changes);
        return results;
    };
    Union.prototype.incrementalRemove = function (changes) {
        var ixer = this.ixer;
        var rowsToPostCheck = [];
        var provenanceDiff = this.ixer.diff();
        var removes = [];
        var indexes = ixer.table("provenance").indexes;
        var sourceRowLookup = indexes["source|source row|table"].index;
        var rowInstanceLookup = indexes["row instance|table"].index;
        var tableRowLookup = indexes["row|table"].index;
        var provenanceRemoves = [];
        var visited = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var change = changes[source.table];
            if (!visited[source.table] && change && change.removes.length) {
                visited[source.table] = true;
                for (var _b = 0, _c = change.removes; _b < _c.length; _b++) {
                    var remove = _c[_b];
                    var provenances = sourceRowLookup[source.table + '|' + remove.__id + '|' + this.name];
                    if (provenances) {
                        for (var _d = 0; _d < provenances.length; _d++) {
                            var provenance = provenances[_d];
                            if (!visited[provenance["row instance"]]) {
                                visited[provenance["row instance"]] = true;
                                var relatedProvenance = rowInstanceLookup[provenance["row instance"] + '|' + provenance.table];
                                for (var _e = 0; _e < relatedProvenance.length; _e++) {
                                    var related = relatedProvenance[_e];
                                    provenanceRemoves.push(related);
                                }
                            }
                            rowsToPostCheck.push(provenance);
                        }
                    }
                }
            }
        }
        provenanceDiff.removeFacts("provenance", provenanceRemoves);
        ixer.applyDiffIncremental(provenanceDiff);
        var isEdb = ixer.edbTables;
        for (var _f = 0; _f < rowsToPostCheck.length; _f++) {
            var row = rowsToPostCheck[_f];
            var supports = tableRowLookup[row.row.__id + '|' + row.table];
            if (!supports || supports.length === 0) {
                removes.push(row.row);
            }
            else if (this.sources.length > 2) {
                var supportsToRemove = [];
                // otherwise if there are supports, then we need to walk the support
                // graph backwards and make sure every supporting row terminates at an
                // edb value. If not, then that support also needs to be removed
                for (var _g = 0; _g < supports.length; _g++) {
                    var support = supports[_g];
                    // if the support is already an edb, we're good to go.
                    if (isEdb[support.source])
                        continue;
                    if (!tableRowLookup[support["source row"].__id + '|' + support.source]) {
                        supportsToRemove.push(support);
                        continue;
                    }
                    // get all the supports for this support
                    var nodes = tableRowLookup[support["source row"].__id + '|' + support.source].slice();
                    var nodeIx = 0;
                    // iterate through all the nodes, if they have further supports then
                    // assume this node is ok and add those supports to the list of nodes to
                    // check. If we run into a node with no supports it must either be an edb
                    // or it's unsupported and this row instance needs to be removed.
                    while (nodeIx < nodes.length) {
                        var node = nodes[nodeIx];
                        if (isEdb[node.source]) {
                            nodeIx++;
                            continue;
                        }
                        var nodeSupports = tableRowLookup[node["source row"].__id + '|' + node.source];
                        if (!nodeSupports || nodeSupports.length === 0) {
                            supportsToRemove.push(support);
                            break;
                        }
                        else {
                            for (var _h = 0; _h < nodeSupports.length; _h++) {
                                var nodeSupport = nodeSupports[_h];
                                nodes.push(nodeSupport);
                            }
                            nodeIx++;
                        }
                    }
                }
                if (supportsToRemove.length) {
                    // we need to remove all the supports
                    var provenanceRemoves_1 = [];
                    for (var _j = 0; _j < supportsToRemove.length; _j++) {
                        var support = supportsToRemove[_j];
                        var relatedProvenance = rowInstanceLookup[support["row instance"] + '|' + support.table];
                        for (var _k = 0; _k < relatedProvenance.length; _k++) {
                            var related = relatedProvenance[_k];
                            provenanceRemoves_1.push(related);
                        }
                    }
                    var diff = ixer.diff();
                    diff.removeFacts("provenance", provenanceRemoves_1);
                    ixer.applyDiffIncremental(diff);
                    // now that all the unsupported provenances have been removed, check if there's anything
                    // left.
                    if (!tableRowLookup[row.row.__id + '|' + row.table] || tableRowLookup[row.row.__id + '|' + row.table].length === 0) {
                        removes.push(row.row);
                    }
                }
            }
        }
        return removes;
    };
    Union.prototype.execIncremental = function (changes, table) {
        if (this.dirty) {
            this.compile();
        }
        var sourceChanges = {};
        for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {
            var source = _a[_i];
            var value = void 0;
            if (!changes[source.table]) {
                value = [];
            }
            else {
                value = changes[source.table].adds;
            }
            sourceChanges[source.table] = value;
        }
        var results = this.compiled(this.ixer, this.hasher, sourceChanges);
        var adds = [];
        var prevHashes = table.factHash;
        var prevKeys = Object.keys(prevHashes);
        var suggestedRemoves = this.incrementalRemove(changes);
        var realDiff = diffAddsAndRemoves(results.results, suggestedRemoves);
        for (var _b = 0, _c = realDiff.adds; _b < _c.length; _b++) {
            var result = _c[_b];
            var id = result.__id;
            if (prevHashes[id] === undefined) {
                adds.push(result);
            }
        }
        var diff = this.ixer.diff();
        diff.addMany("provenance", results.provenance);
        this.ixer.applyDiffIncremental(diff);
        return { provenance: results.provenance, adds: adds, removes: realDiff.removes };
    };
    return Union;
})();
exports.Union = Union;
//---------------------------------------------------------
// Builtin Primitives
//---------------------------------------------------------
runtime.define("count", { aggregate: true, result: "count" }, function (prev) {
    if (!prev.count) {
        prev.count = 0;
    }
    prev.count++;
    return prev;
});
runtime.define("sum", { aggregate: true, result: "sum" }, function (prev, value) {
    if (!prev.sum) {
        prev.sum = 0;
    }
    prev.sum += value;
    return prev;
});
runtime.define("average", { aggregate: true, result: "average" }, function (prev, value) {
    if (!prev.sum) {
        prev.sum = 0;
        prev.count = 0;
    }
    prev.count++;
    prev.sum += value;
    prev.average = prev.sum / prev.count;
    return prev;
});
runtime.define("lowercase", { result: "result" }, function (text) {
    if (typeof text === "string") {
        return { result: text.toLowerCase() };
    }
    return { result: text };
});
runtime.define("=", { filter: true, inverse: "!=" }, function (a, b) {
    return a === b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("!=", { filter: true, inverse: "=" }, function (a, b) {
    return a !== b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define(">", { filter: true, inverse: "<=" }, function (a, b) {
    return a > b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("<", { filter: true, inverse: ">=" }, function (a, b) {
    return a < b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define(">=", { filter: true, inverse: "<" }, function (a, b) {
    return a >= b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("<=", { filter: true, inverse: ">" }, function (a, b) {
    return a <= b ? runtime.SUCCEED : runtime.FAIL;
});
runtime.define("+", { result: "result" }, function (a, b) {
    return { result: a + b };
});
runtime.define("-", { result: "result" }, function (a, b) {
    return { result: a - b };
});
runtime.define("*", { result: "result" }, function (a, b) {
    return { result: a * b };
});
runtime.define("/", { result: "result" }, function (a, b) {
    return { result: a / b };
});
runtime.define("^", { result: "result" }, function (a, b) {
    return { result: Math.pow(a, b) };
});
//---------------------------------------------------------
// AST and compiler
//---------------------------------------------------------
// view: view, kind[union|query|table]
// action: view, action, kind[select|calculate|project|union|ununion|stateful|limit|sort|group|aggregate], ix
// action source: action, source view
// action mapping: action, from, to source, to field
// action mapping constant: action, from, value
function addRecompileTriggers(eve) {
    var recompileTrigger = {
        exec: function (ixer) {
            for (var _i = 0, _a = ixer.find("view"); _i < _a.length; _i++) {
                var view = _a[_i];
                if (view.kind === "table")
                    continue;
                try {
                    var query = compile(ixer, view.view);
                    ixer.asView(query);
                }
                catch (e) {
                    console.error("BAD QUERY IN THE DB :(");
                    console.error("View Id: " + view.view);
                    console.log(e.stack);
                    ixer.applyDiff(Query.remove(view.view, ixer));
                }
            }
            return {};
        }
    };
    eve.addTable("view", ["view", "kind"]);
    eve.addTable("action", ["view", "action", "kind", "ix"]);
    eve.addTable("action source", ["action", "source view"]);
    eve.addTable("action mapping", ["action", "from", "to source", "to field"]);
    eve.addTable("action mapping constant", ["action", "from", "value"]);
    eve.addTable("action mapping sorted", ["action", "ix", "source", "field", "direction"]);
    eve.addTable("action mapping limit", ["action", "limit type", "value"]);
    eve.table("view").triggers["recompile"] = recompileTrigger;
    eve.table("action").triggers["recompile"] = recompileTrigger;
    eve.table("action source").triggers["recompile"] = recompileTrigger;
    eve.table("action mapping").triggers["recompile"] = recompileTrigger;
    eve.table("action mapping constant").triggers["recompile"] = recompileTrigger;
    eve.table("action mapping sorted").triggers["recompile"] = recompileTrigger;
    eve.table("action mapping limit").triggers["recompile"] = recompileTrigger;
    return eve;
}
function compile(ixer, viewId) {
    var view = ixer.findOne("view", { view: viewId });
    if (!view) {
        throw new Error("No view found for " + viewId + ".");
    }
    var compiled = ixer[view.kind](viewId);
    var actions = ixer.find("action", { view: viewId });
    if (!actions) {
        throw new Error("View " + viewId + " has no actions.");
    }
    // sort actions by ix
    actions.sort(function (a, b) { return a.ix - b.ix; });
    for (var _i = 0; _i < actions.length; _i++) {
        var action = actions[_i];
        var actionKind = action.kind;
        if (actionKind === "limit") {
            var limit = {};
            for (var _a = 0, _b = ixer.find("action mapping limit", { action: action.action }); _a < _b.length; _a++) {
                var limitMapping = _b[_a];
                limit[limitMapping["limit type"]] = limitMapping["value"];
            }
            compiled.limit(limit);
        }
        else if (actionKind === "sort" || actionKind === "group") {
            var sorted = [];
            var mappings = ixer.find("action mapping sorted", { action: action.action });
            mappings.sort(function (a, b) { return a.ix - b.ix; });
            for (var _c = 0; _c < mappings.length; _c++) {
                var mapping = mappings[_c];
                sorted.push([mapping["source"], mapping["field"], mapping["direction"]]);
            }
            if (sorted.length) {
                compiled[actionKind](sorted);
            }
            else {
                throw new Error(actionKind + " without any mappings: " + action.action);
            }
        }
        else {
            var mappings = ixer.find("action mapping", { action: action.action });
            var mappingObject = {};
            for (var _d = 0; _d < mappings.length; _d++) {
                var mapping = mappings[_d];
                var source_1 = mapping["to source"];
                var field = mapping["to field"];
                if (actionKind === "union" || actionKind === "ununion") {
                    mappingObject[mapping.from] = [field];
                }
                else {
                    mappingObject[mapping.from] = [source_1, field];
                }
            }
            var constants = ixer.find("action mapping constant", { action: action.action });
            for (var _e = 0; _e < constants.length; _e++) {
                var constant = constants[_e];
                mappingObject[constant.from] = constant.value;
            }
            var source = ixer.findOne("action source", { action: action.action });
            if (!source && actionKind !== "project") {
                throw new Error(actionKind + " action without a source in '" + viewId + "'");
            }
            if (actionKind !== "project") {
                compiled[actionKind](source["source view"], mappingObject, action.action);
            }
            else {
                compiled[actionKind](mappingObject);
            }
        }
    }
    return compiled;
}
exports.compile = compile;
//---------------------------------------------------------
// Public API
//---------------------------------------------------------
exports.SUCCEED = [{ success: true }];
exports.FAIL = [];
function indexer() {
    var ixer = new Indexer();
    addProvenanceTable(ixer);
    addRecompileTriggers(ixer);
    return ixer;
}
exports.indexer = indexer;
function clearAllQueries(eve) {
    var finalDiff = eve.diff();
    for (var _i = 0, _a = eve.find("query to id"); _i < _a.length; _i++) {
        var query = _a[_i];
        finalDiff.merge(Query.remove(query.id, eve));
    }
    finalDiff.remove("query to id", {});
    eve.applyDiff(finalDiff);
}
exports.clearAllQueries = clearAllQueries;
if (utils_1.ENV === "browser")
    window["runtime"] = exports;

},{"./utils":8}],7:[function(require,module,exports){
var utils_1 = require("./utils");
var runtime_1 = require("./runtime");
function resolve(table, fact) {
    var neue = {};
    for (var field in fact)
        neue[(table + ": " + field)] = fact[field];
    return neue;
}
function humanize(table, fact) {
    var neue = {};
    for (var field in fact)
        neue[field.slice(table.length + 2)] = fact[field];
    return neue;
}
function resolvedAdd(changeset, table, fact) {
    return changeset.add(table, resolve(table, fact));
}
function resolvedRemove(changeset, table, fact) {
    return changeset.remove(table, resolve(table, fact));
}
function humanizedFind(ixer, table, query) {
    var results = [];
    for (var _i = 0, _a = ixer.find(table, resolve(table, query)); _i < _a.length; _i++) {
        var fact = _a[_i];
        results.push(humanize(table, fact));
    }
    var diag = {};
    for (var table_1 in ixer.tables)
        diag[table_1] = ixer.tables[table_1].table.length;
    return results;
}
var UI = (function () {
    function UI(id) {
        this.id = id;
        this._children = [];
        this._attributes = {};
        this._events = {};
    }
    UI.remove = function (template, ixer) {
        var changeset = ixer.diff();
        resolvedRemove(changeset, "ui template", { template: template });
        resolvedRemove(changeset, "ui template binding", { template: template });
        var bindings = humanizedFind(ixer, "ui template binding", { template: template });
        for (var _i = 0; _i < bindings.length; _i++) {
            var binding = bindings[_i];
            changeset.merge(runtime_1.Query.remove(binding.binding, ixer));
        }
        resolvedRemove(changeset, "ui embed", { template: template });
        var embeds = humanizedFind(ixer, "ui embed", { template: template });
        for (var _a = 0; _a < embeds.length; _a++) {
            var embed = embeds[_a];
            resolvedRemove(changeset, "ui embed scope", { template: template, embed: embed.embed });
            resolvedRemove(changeset, "ui embed scope binding", { template: template, embed: embed.embed });
        }
        resolvedRemove(changeset, "ui attribute", { template: template });
        resolvedRemove(changeset, "ui attribute binding", { template: template });
        resolvedRemove(changeset, "ui event", { template: template });
        var events = humanizedFind(ixer, "ui event", { template: template });
        for (var _b = 0; _b < events.length; _b++) {
            var event_1 = events[_b];
            resolvedRemove(changeset, "ui event state", { template: template, event: event_1.event });
            resolvedRemove(changeset, "ui event state binding", { template: template, event: event_1.event });
        }
        for (var _c = 0, _d = humanizedFind(ixer, "ui template", { parent: template }); _c < _d.length; _c++) {
            var child = _d[_c];
            changeset.merge(UI.remove(child.template, ixer));
        }
        return changeset;
    };
    UI.prototype.copy = function () {
        var neue = new UI(this.id);
        neue._binding = this._binding;
        neue._embedded = this._embedded;
        neue._children = this._children;
        neue._attributes = this._attributes;
        neue._events = this._events;
        neue._parent = this._parent;
        return neue;
    };
    UI.prototype.changeset = function (ixer) {
        var changeset = ixer.diff();
        var parent = this._attributes["parent"] || (this._parent && this._parent.id) || "";
        var ix = this._attributes["ix"];
        if (ix === undefined)
            ix = (this._parent && this._parent._children.indexOf(this));
        if (ix === -1 || ix === undefined)
            ix = "";
        if (this._embedded)
            parent = "";
        resolvedAdd(changeset, "ui template", { template: this.id, parent: parent, ix: ix });
        if (this._binding) {
            if (!this._binding.name || this._binding.name === "unknown")
                this._binding.name = "bound view " + this.id;
            changeset.merge(this._binding.changeset(ixer));
            resolvedAdd(changeset, "ui template binding", { template: this.id, binding: this._binding.name });
        }
        if (this._embedded) {
            var embed = utils_1.uuid();
            resolvedAdd(changeset, "ui embed", { embed: embed, template: this.id, parent: (this._parent || {}).id, ix: ix });
            for (var key in this._embedded) {
                var value = this._attributes[key];
                if (value instanceof Array)
                    resolvedAdd(changeset, "ui embed scope binding", { embed: embed, key: key, source: value[0], alias: value[1] });
                else
                    resolvedAdd(changeset, "ui embed scope", { embed: embed, key: key, value: value });
            }
        }
        for (var property in this._attributes) {
            var value = this._attributes[property];
            if (value instanceof Array)
                resolvedAdd(changeset, "ui attribute binding", { template: this.id, property: property, source: value[0], alias: value[1] });
            else
                resolvedAdd(changeset, "ui attribute", { template: this.id, property: property, value: value });
        }
        for (var event_2 in this._events) {
            resolvedAdd(changeset, "ui event", { template: this.id, event: event_2 });
            var state = this._events[event_2];
            for (var key in state) {
                var value = state[key];
                if (value instanceof Array)
                    resolvedAdd(changeset, "ui event state binding", { template: this.id, event: event_2, key: key, source: value[0], alias: value[1] });
                else
                    resolvedAdd(changeset, "ui event state", { template: this.id, event: event_2, key: key, value: value });
            }
        }
        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {
            var child = _a[_i];
            changeset.merge(child.changeset(ixer));
        }
        return changeset;
    };
    UI.prototype.load = function (template, ixer, parent) {
        var fact = humanizedFind(ixer, "ui template", { template: template })[0];
        if (!fact)
            return this;
        if (parent || fact.parent)
            this._parent = parent || new UI(this._parent);
        var binding = humanizedFind(ixer, "ui template binding", { template: template })[0];
        if (binding)
            this.bind((new runtime_1.Query(ixer, binding.binding)));
        var embed = humanizedFind(ixer, "ui embed", { template: template, parent: this._parent ? this._parent.id : "" })[0];
        if (embed) {
            var scope = {};
            for (var _i = 0, _a = humanizedFind(ixer, "ui embed scope", { embed: embed.embed }); _i < _a.length; _i++) {
                var attr = _a[_i];
                scope[attr.key] = attr.value;
            }
            for (var _b = 0, _c = humanizedFind(ixer, "ui embed scope binding", { embed: embed.embed }); _b < _c.length; _b++) {
                var attr = _c[_b];
                scope[attr.key] = [attr.source, attr.alias];
            }
            this.embed(scope);
        }
        for (var _d = 0, _e = humanizedFind(ixer, "ui attribute", { template: template }); _d < _e.length; _d++) {
            var attr = _e[_d];
            this.attribute(attr.property, attr.value);
        }
        for (var _f = 0, _g = humanizedFind(ixer, "ui attribute binding", { template: template }); _f < _g.length; _f++) {
            var attr = _g[_f];
            this.attribute(attr.property, [attr.source, attr.alias]);
        }
        for (var _h = 0, _j = humanizedFind(ixer, "ui event", { template: template }); _h < _j.length; _h++) {
            var event_3 = _j[_h];
            var state = {};
            for (var _k = 0, _l = humanizedFind(ixer, "ui event state", { template: template, event: event_3.event }); _k < _l.length; _k++) {
                var attr = _l[_k];
                state[event_3.key] = event_3.value;
            }
            for (var _m = 0, _o = humanizedFind(ixer, "ui event state binding", { template: template, event: event_3.event }); _m < _o.length; _m++) {
                var attr = _o[_m];
                state[event_3.key] = [event_3.source, event_3.alias];
            }
            this.event(event_3.event, state);
        }
        for (var _p = 0, _q = humanizedFind(ixer, "ui template", { parent: template }); _p < _q.length; _p++) {
            var child = _q[_p];
            this.child((new UI(child.template)).load(child.template, ixer, this));
        }
        return this;
    };
    UI.prototype.children = function (neue, append) {
        if (append === void 0) { append = false; }
        if (!neue)
            return this._children;
        if (!append)
            this._children.length = 0;
        for (var _i = 0; _i < neue.length; _i++) {
            var child = neue[_i];
            var copied = child.copy();
            copied._parent = this;
            this._children.push(copied);
        }
        return this._children;
    };
    UI.prototype.child = function (child, ix, embed) {
        child = child.copy();
        child._parent = this;
        if (embed)
            child.embed(embed);
        if (!ix)
            this._children.push(child);
        else
            this._children.splice(ix, 0, child);
        return child;
    };
    UI.prototype.removeChild = function (ix) {
        return this._children.splice(ix, 1);
    };
    UI.prototype.attributes = function (properties, merge) {
        if (merge === void 0) { merge = false; }
        if (!properties)
            return this._attributes;
        if (!merge) {
            for (var prop in this._attributes)
                delete this._attributes[prop];
        }
        for (var prop in properties)
            this._attributes[prop] = properties[prop];
        return this;
    };
    UI.prototype.attribute = function (property, value) {
        if (value === undefined)
            return this._attributes[property];
        this._attributes[property] = value;
        return this;
    };
    UI.prototype.removeAttribute = function (property) {
        delete this._attributes[property];
        return this;
    };
    UI.prototype.events = function (events, merge) {
        if (merge === void 0) { merge = false; }
        if (!events)
            return this._events;
        if (!merge) {
            for (var event_4 in this._events)
                delete this._events[event_4];
        }
        for (var event_5 in events)
            this._events[event_5] = events[event_5];
        return this;
    };
    UI.prototype.event = function (event, state) {
        if (state === undefined)
            return this._events[event];
        this._attributes[event] = state;
        return this;
    };
    UI.prototype.removeEvent = function (event) {
        delete this._events[event];
        return this;
    };
    UI.prototype.embed = function (scope) {
        if (scope === void 0) { scope = {}; }
        if (!scope) {
            this._embedded = undefined;
            return this;
        }
        if (scope === true)
            scope = {};
        this._embedded = scope;
        return this;
    };
    UI.prototype.bind = function (binding) {
        this._binding = binding;
        return this;
    };
    return UI;
})();
exports.UI = UI;
// @TODO: Finish reference impl.
// @TODO: Then build bit-generating version
var UIRenderer = (function () {
    function UIRenderer(ixer) {
        this.ixer = ixer;
        this.compiled = 0;
        this._tagCompilers = {};
        this._handlers = [];
    }
    UIRenderer.prototype.compile = function (roots) {
        if (utils_1.DEBUG.RENDERER)
            console.group("ui compile");
        var compiledElems = [];
        for (var _i = 0; _i < roots.length; _i++) {
            var root = roots[_i];
            // @TODO: reparent dynamic roots if needed.
            if (typeof root === "string") {
                var elems = this._compileWrapper(root, compiledElems.length);
                compiledElems.push.apply(compiledElems, elems);
                var base = this.ixer.findOne("ui template", { "ui template: template": root });
                if (!base)
                    continue;
                var parent_1 = base["ui template: parent"];
                if (parent_1) {
                    for (var _a = 0; _a < elems.length; _a++) {
                        var elem = elems[_a];
                        elem.parent = parent_1;
                    }
                }
            }
            else {
                if (!root.ix)
                    root.ix = compiledElems.length;
                compiledElems.push(root);
            }
        }
        if (utils_1.DEBUG.RENDERER)
            console.groupEnd();
        return compiledElems;
    };
    UIRenderer.prototype._compileWrapper = function (template, baseIx, constraints, bindingStack, depth) {
        if (constraints === void 0) { constraints = {}; }
        if (bindingStack === void 0) { bindingStack = []; }
        if (depth === void 0) { depth = 0; }
        var elems = [];
        var binding = this.ixer.findOne("ui template binding", { "ui template binding: template": template });
        if (!binding) {
            var elem = this._compileElement(template, bindingStack, depth);
            if (elem)
                elems[0] = elem;
        }
        else {
            var boundQuery = binding["ui template binding: binding"];
            var facts = this.getBoundFacts(boundQuery, constraints);
            var ix = 0;
            for (var _i = 0; _i < facts.length; _i++) {
                var fact = facts[_i];
                bindingStack.push(fact);
                var elem = this._compileElement(template, bindingStack, depth);
                bindingStack.pop();
                if (elem)
                    elems.push(elem);
            }
        }
        elems.sort(function (a, b) { return a.ix - b.ix; });
        var prevIx = undefined;
        for (var _a = 0; _a < elems.length; _a++) {
            var elem = elems[_a];
            elem.ix = elem.ix ? elem.ix + baseIx : baseIx;
            if (elem.ix === prevIx)
                elem.ix++;
            prevIx = elem.ix;
        }
        return elems;
    };
    UIRenderer.prototype._compileElement = function (template, bindingStack, depth) {
        if (utils_1.DEBUG.RENDERER)
            console.log(utils_1.repeat("  ", depth) + "* compile", template);
        var elementToChildren = this.ixer.index("ui template", ["ui template: parent"]);
        var elementToEmbeds = this.ixer.index("ui embed", ["ui embed: parent"]);
        var embedToScope = this.ixer.index("ui embed scope", ["ui embed scope: embed"]);
        var embedToScopeBinding = this.ixer.index("ui embed scope binding", ["ui embed scope binding: embed"]);
        var elementToAttrs = this.ixer.index("ui attribute", ["ui attribute: template"]);
        var elementToAttrBindings = this.ixer.index("ui attribute binding", ["ui attribute binding: template"]);
        var elementToEvents = this.ixer.index("ui event", ["ui event: template"]);
        this.compiled++;
        var base = this.ixer.findOne("ui template", { "ui template: template": template });
        if (!base) {
            console.warn("ui template " + template + " does not exist. Ignoring.");
            return undefined;
        }
        var attrs = elementToAttrs[template];
        var boundAttrs = elementToAttrBindings[template];
        var events = elementToEvents[template];
        // Handle meta properties
        var elem = { _template: template, ix: base["ui template: ix"] };
        // Handle static properties
        if (attrs) {
            for (var _i = 0; _i < attrs.length; _i++) {
                var _a = attrs[_i], prop = _a["ui attribute: property"], val = _a["ui attribute: value"];
                elem[prop] = val;
            }
        }
        // Handle bound properties
        if (boundAttrs) {
            // @FIXME: What do with source?
            for (var _b = 0; _b < boundAttrs.length; _b++) {
                var _c = boundAttrs[_b], prop = _c["ui attribute binding: property"], source = _c["ui attribute binding: source"], alias = _c["ui attribute binding: alias"];
                elem[prop] = this.getBoundValue(source, alias, bindingStack);
            }
        }
        // Attach event handlers
        if (events) {
            for (var _d = 0; _d < events.length; _d++) {
                var event_6 = events[_d]["ui event: event"];
                elem[event_6] = this.generateEventHandler(elem, event_6, bindingStack);
            }
        }
        // Compile children
        var children = elementToChildren[template] || [];
        var embeds = elementToEmbeds[template] || [];
        if (children.length || embeds.length) {
            elem.children = [];
            var childIx = 0, embedIx = 0;
            while (childIx < children.length || embedIx < embeds.length) {
                var child = children[childIx];
                var embed = embeds[embedIx];
                var add = void 0, constraints = {}, childBindingStack = bindingStack;
                if (!embed || child && child.ix <= embed.ix) {
                    add = children[childIx++]["ui template: template"];
                    // Resolve bound aliases into constraints
                    constraints = this.getBoundScope(bindingStack);
                }
                else {
                    add = embeds[embedIx++]["ui embed: template"];
                    for (var _e = 0, _f = embedToScope[embed["ui embed: embed"]] || []; _e < _f.length; _e++) {
                        var scope = _f[_e];
                        constraints[scope["ui embed scope: key"]] = scope["ui embed scope: value"];
                    }
                    for (var _g = 0, _h = embedToScopeBinding[embed["ui embed: embed"]] || []; _g < _h.length; _g++) {
                        var scope = _h[_g];
                        // @FIXME: What do about source?
                        var key = scope["ui embed scope binding: key"], source = scope["ui embed scope binding: source"], alias = scope["ui embed scope binding: alias"];
                        constraints[key] = this.getBoundValue(source, alias, bindingStack);
                    }
                    childBindingStack = [constraints];
                }
                elem.children.push.apply(elem.children, this._compileWrapper(add, elem.children.length, constraints, childBindingStack, depth + 1));
            }
        }
        if (this._tagCompilers[elem.t]) {
            try {
                this._tagCompilers[elem.t](elem);
            }
            catch (err) {
                console.warn("Failed to compile template: '" + template + "' due to '" + err + "' for element '" + JSON.stringify(elem) + "'");
                elem.t = "ui-error";
            }
        }
        return elem;
    };
    UIRenderer.prototype.getBoundFacts = function (query, constraints) {
        return this.ixer.find(query, constraints);
    };
    UIRenderer.prototype.getBoundScope = function (bindingStack) {
        var scope = {};
        for (var _i = 0; _i < bindingStack.length; _i++) {
            var fact = bindingStack[_i];
            for (var alias in fact)
                scope[alias] = fact[alias];
        }
        return scope;
    };
    //@FIXME: What do about source?
    UIRenderer.prototype.getBoundValue = function (source, alias, bindingStack) {
        for (var ix = bindingStack.length - 1; ix >= 0; ix--) {
            var fact = bindingStack[ix];
            if (source in fact && fact[alias])
                return fact[alias];
        }
    };
    UIRenderer.prototype.generateEventHandler = function (elem, event, bindingStack) {
        var template = elem["_template"];
        var memoKey = template + "::" + event;
        var attrKey = event + "::state";
        elem[attrKey] = this.getEventState(template, event, bindingStack);
        if (this._handlers[memoKey])
            return this._handlers[memoKey];
        var self = this;
        if (event === "change" || event === "input") {
            this._handlers[memoKey] = function (evt, elem) {
                var props = {};
                if (elem.t === "select" || elem.t === "input" || elem.t === "textarea")
                    props.value = evt.target.value;
                if (elem.type === "checkbox")
                    props.value = evt.target.checked;
                self.handleEvent(template, event, evt, elem, props);
            };
        }
        else {
            this._handlers[memoKey] = function (evt, elem) {
                self.handleEvent(template, event, evt, elem, {});
            };
        }
        return this._handlers[memoKey];
    };
    UIRenderer.prototype.handleEvent = function (template, eventName, event, elem, eventProps) {
        var attrKey = eventName + "::state";
        var state = elem[attrKey];
        var content = (_a = ["\n      # ", " ({is a: event})\n      ## Meta\n      event target: {event target: ", "}\n      event template: {event template: ", "}\n      event type: {event type: ", "}\n\n      ## State\n    "], _a.raw = ["\n      # ", " ({is a: event})\n      ## Meta\n      event target: {event target: ", "}\n      event template: {event template: ", "}\n      event type: {event type: ", "}\n\n      ## State\n    "], utils_1.unpad(6)(_a, eventName, elem.id, template, eventName));
        if (state["*event*"]) {
            for (var prop in state["*event*"])
                content += prop + ": {" + prop + ": " + eventProps[state["*event*"][prop]] + "}\n";
        }
        for (var prop in state) {
            if (prop === "*event*")
                continue;
            content += prop + ": {" + prop + ": " + state[prop] + "}\n";
        }
        var changeset = this.ixer.diff();
        var raw = utils_1.uuid();
        var entity = eventName + " event " + raw.slice(-12);
        changeset.add("builtin entity", { entity: entity, content: content });
        this.ixer.applyDiff(changeset);
        console.log(entity);
        var _a;
    };
    UIRenderer.prototype.getEventState = function (template, event, bindingStack) {
        var state = {};
        var staticAttrs = this.ixer.find("ui event state", { "ui event state: template": template, "ui event state: event": event });
        for (var _i = 0; _i < staticAttrs.length; _i++) {
            var _a = staticAttrs[_i], key = _a["ui event state: key"], val = _a["ui event state: value"];
            state[key] = val;
        }
        var boundAttrs = this.ixer.find("ui event state binding", { "ui event state binding: template": template, "ui event state binding: event": event });
        for (var _b = 0; _b < boundAttrs.length; _b++) {
            var _c = boundAttrs[_b], key = _c["ui event state binding: key"], source = _c["ui event state binding: source"], alias = _c["ui event state binding: alias"];
            if (source === "*event*") {
                state["*event*"] = state["*event*"] || {};
                state["*event*"][key] = alias;
            }
            else {
                state[key] = this.getBoundValue(source, alias, bindingStack);
            }
        }
        return state;
    };
    return UIRenderer;
})();
exports.UIRenderer = UIRenderer;
if (this.window)
    window["uiRenderer"] = exports;

},{"./runtime":6,"./utils":8}],8:[function(require,module,exports){
var uuid_1 = require("../vendor/uuid");
exports.uuid = uuid_1.v4;
exports.ENV = "browser";
try {
    window;
    window["utils"] = exports;
}
catch (err) {
    exports.ENV = "node";
}
exports.DEBUG = {};
if (exports.ENV === "browser")
    window["DEBUG"] = exports.DEBUG;
function builtinId(name) {
    return "AUTOGENERATED " + name + " THIS SHOULDN'T SHOW UP ANYWHERE";
}
exports.builtinId = builtinId;
exports.unpad = function (indent) {
    if (exports.unpad.memo[indent])
        return exports.unpad.memo[indent];
    return exports.unpad.memo[indent] = function (strings) {
        var values = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            values[_i - 1] = arguments[_i];
        }
        if (!strings.length)
            return;
        var res = "";
        var ix = 0;
        for (var _a = 0; _a < strings.length; _a++) {
            var str = strings[_a];
            res += str + (values.length > ix ? values[ix++] : "");
        }
        if (res[0] === "\n")
            res = res.slice(1);
        var charIx = 0;
        while (true) {
            res = res.slice(0, charIx) + res.slice(charIx + indent);
            charIx = res.indexOf("\n", charIx) + 1;
            if (!charIx)
                break;
        }
        return res;
    };
};
exports.unpad.memo = {};
function repeat(str, length) {
    var len = length / str.length;
    var res = "";
    for (var ix = 0; ix < len; ix++)
        res += str;
    return (res.length > length) ? res.slice(0, length) : res;
}
exports.repeat = repeat;
function underline(startIx, length) {
    return repeat(" ", startIx) + "^" + repeat("~", length - 1);
}
exports.underline = underline;
function capitalize(word) {
    return word[0].toUpperCase() + word.slice(1);
}
exports.capitalize = capitalize;
function titlecase(name) {
    return name.split(" ").map(capitalize).join(" ");
}
exports.titlecase = titlecase;
var _slugifyReplacements = {
    "-": "dash",
    "_": "under",
    "$": "dollar",
    "&": "and",
    "+": "plus",
    ",": "comma",
    "/": "slash",
    ":": "colon",
    ";": "semicolon",
    "=": "equals",
    "?": "question",
    "@": "at",
    "<": "lt",
    ">": "gt",
    "#": "hash",
    "%": "percent",
    "{": "opencurly",
    "}": "closecurly",
    "|": "pipe",
    "\\": "whack",
    "^": "caret",
    "~": "tilde",
    "[": "openbracket",
    "]": "closebracket",
    "`": "grave"
};
var _deslugifyReplacements = {};
for (var char in _slugifyReplacements) {
    _deslugifyReplacements[_slugifyReplacements[char]] = char;
}
// Slugify encodes a uri component in a fairly human readable fashion
function slugify(text) {
    var url = "";
    for (var _i = 0; _i < text.length; _i++) {
        var char = text[_i];
        var replacement = _slugifyReplacements[char];
        if (char === " ") {
            url += "_";
        }
        else if (replacement) {
            url += "-'" + replacement + "-";
        }
        else {
            url += char;
        }
    }
    return encodeURIComponent(url);
}
exports.slugify = slugify;
function deslugify(url) {
    var text = [];
    for (var _i = 0, _a = url.split("_"); _i < _a.length; _i++) {
        var word = _a[_i];
        if (word.indexOf("-") === -1) {
            text.push(word);
            continue;
        }
        var replaced = "";
        var tokens = word.split("-");
        replaced += tokens.shift();
        var tail_1 = tokens.pop();
        for (var _b = 0; _b < tokens.length; _b++) {
            var token = tokens[_b];
            var replacement = _deslugifyReplacements[token.slice(1)];
            if (replacement && token.indexOf("'") === 0) {
                replaced += replacement;
            }
            else {
                replaced += token;
            }
        }
        replaced += tail_1;
        text.push(replaced);
    }
    return decodeURIComponent(text.join(" "));
}
exports.deslugify = deslugify;
exports.string = {
    unpad: exports.unpad,
    repeat: repeat,
    underline: underline,
    capitalize: capitalize,
    titlecase: titlecase,
    slugify: slugify,
    deslugify: deslugify
};
function tail(arr) {
    return arr[arr.length - 1];
}
exports.tail = tail;
exports.array = {
    tail: tail
};
function coerceInput(input) {
    // http://jsperf.com/regex-vs-plus-coercion
    if (input === "")
        return input;
    else if (typeof input === "object")
        return input;
    else if (!isNaN(+input))
        return +input;
    else if (input === "true")
        return true;
    else if (input === "false")
        return false;
    return input;
}
exports.coerceInput = coerceInput;
// Shallow copy the given object.
function copy(obj) {
    if (!obj || typeof obj !== "object")
        return obj;
    if (obj instanceof Array)
        return obj.slice();
    var res = {};
    for (var key in obj)
        res[key] = obj[key];
    return res;
}
exports.copy = copy;
function mergeObject(root, obj) {
    for (var key in obj) {
        root[key] = obj[key];
    }
    return root;
}
exports.mergeObject = mergeObject;
function autoFocus(node, elem) {
    if (!node.focused) {
        node.focused = true;
        node.focus();
    }
}
exports.autoFocus = autoFocus;
exports.KEYS = {
    ESC: 27,
    ENTER: 13,
    UP: 38,
    DOWN: 40,
    BACKSPACE: 8,
    "]": 221,
};
// FROM: http://stackoverflow.com/questions/1125292/how-to-move-cursor-to-end-of-contenteditable-entity/3866442#3866442
function setEndOfContentEditable(contentEditableElement) {
    var range, selection;
    if (document.createRange) {
        range = document.createRange(); //Create a range (a range is a like the selection but invisible)
        range.selectNodeContents(contentEditableElement); //Select the entire contents of the element with the range
        range.collapse(false); //collapse the range to the end point. false means collapse to end rather than the start
        selection = window.getSelection(); //get the selection object (allows you to change selection)
        selection.removeAllRanges(); //remove any selections already made
        selection.addRange(range); //make the range you have just created the visible selection
    }
}
exports.setEndOfContentEditable = setEndOfContentEditable;
// LCG courtesy of <https://gist.github.com/Protonk/5389384>
function srand(z) {
    var m = Math.pow(2, 24), a = 16598013, c = 12820163;
    return function () { return z = (a * z + c) % m / m; };
}
exports.srand = srand;
function shuffle(arr, rand) {
    if (rand === void 0) { rand = Math.random; }
    for (var i = arr.length - 1; i > 0; i -= 1) {
        var j = Math.floor(rand() * (i + 1));
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
    return arr;
}
exports.shuffle = shuffle;
function sortByField(field, direction) {
    if (direction === void 0) { direction = 1; }
    var back = -1 * direction;
    var fwd = direction;
    return function (a, b) {
        return (a[field] === b[field]) ? 0 :
            (a[field] > b[field]) ? back :
                (a[field] < b[field]) ? fwd :
                    (a[field] === undefined) ? fwd : back;
    };
}
exports.sortByField = sortByField;
function sortByLookup(lookup, direction) {
    if (direction === void 0) { direction = 1; }
    var back = -1 * direction;
    var fwd = direction;
    return function (a, b) {
        return (lookup[a] === lookup[b]) ? 0 :
            (lookup[a] > lookup[b]) ? back :
                (lookup[a] < lookup[b]) ? fwd :
                    (lookup[a] === undefined) ? fwd : back;
    };
}
exports.sortByLookup = sortByLookup;
function location() {
    return window.location.hash.slice(1);
}
exports.location = location;

},{"../vendor/uuid":11}],9:[function(require,module,exports){
var app = require("../src/app");
var nlqp = require("../src/NLQueryParser");
var bootstrap = require("../src/bootstrap");
var dslparser = require("../src/parser");
var app_1 = require("../src/app");
// @HACK needed because browserify is being too clever by
// optimizing away unused code
var boostrapIxer = bootstrap.ixer;
app.renderRoots["nlqp"];
nlqp.debug = false;
function parseTest(queryString, n) {
    var parseResult;
    var avgTime = 0;
    var maxTime = 0;
    var minTime;
    // Parse string and measure how long it takes
    for (var i = 0; i < n; i++) {
        var start = performance.now();
        parseResult = nlqp.parse(queryString)[0];
        var stop = performance.now();
        avgTime += stop - start;
        if (stop - start > maxTime) {
            maxTime = stop - start;
        }
        if (minTime === undefined) {
            minTime = stop - start;
        }
        else if (stop - start < minTime) {
            minTime = stop - start;
        }
    }
    // Display result
    var tokenStrings = nlqp.tokenArrayToString(parseResult.tokens);
    var timingDisplay = "Timing (avg, max, min): " + (avgTime / n).toFixed(2) + " | " + maxTime.toFixed(2) + " | " + minTime.toFixed(2) + " ";
    console.log(parseResult);
    console.log(queryString);
    console.log("State: " + nlqp.Intents[parseResult.intent]);
    console.log(parseResult.context);
    console.log("-------------------------------------------------------------------------------------------");
    console.log("Tokens");
    console.log(tokenStrings);
    console.log("-------------------------------------------------------------------------------------------");
    console.log("Tree");
    console.log(parseResult.tree.toString());
    console.log("-------------------------------------------------------------------------------------------");
    console.log("Query");
    console.log("-------------------------------------------------------------------------------------------");
    console.log("Result");
    console.log(queryString);
    console.log(parseResult.query.toString());
    console.log(executeQuery(parseResult.query)[0]);
    console.log("-------------------------------------------------------------------------------------------");
    console.log(timingDisplay);
    console.log("===========================================================================================");
    return parseResult.intent;
}
function executeQuery(query) {
    var resultsString = [];
    if (query.projects.length !== 0) {
        var queryString = query.toString();
        var artifacts = dslparser.parseDSL(queryString);
        var changeset = app_1.eve.diff();
        var results = [];
        for (var id in artifacts.views) {
            app_1.eve.asView(artifacts.views[id]);
        }
        for (var id in artifacts.views) {
            results.push(artifacts.views[id].exec());
        }
        console.log(results);
        results.forEach(function (result) {
            var projected = result.results;
            if (projected.length === 0) {
                return;
            }
            // Get each cell as a string
            var colWidths = [];
            var keys = Object.keys(projected[0]);
            keys.forEach(function (key) { colWidths.push(key.length); });
            var rows = projected.map(function (row) {
                var rowstring = keys.map(function (key, i) {
                    if (key === "__id") {
                        return "";
                    }
                    var value = "" + row[key];
                    var display = app_1.eve.findOne("display name", { id: value });
                    if (display !== undefined) {
                        value = display.name;
                    }
                    // Get the width of each row
                    if (colWidths[i] < value.length) {
                        colWidths[i] = value.length;
                    }
                    return value;
                });
                return rowstring;
            });
            // Turn rows into row strings
            var rowStrings = rows.map(function (row) {
                row = row.map(function (cell, i) {
                    var whitespace = Array(colWidths[i] - cell.length + 1).join(" ");
                    cell += whitespace;
                    return cell;
                });
                return "| " + row.join(" | ");
            });
            // Add a table header
            var tableHeader = "| " + keys.map(function (key, i) {
                if (key === "__id") {
                    return "";
                }
                var whitespace = Array(colWidths[i] - key.length + 1).join(" ");
                return key.toUpperCase() + whitespace;
            }).join(" | ");
            var divider = Array(tableHeader.length).join("-");
            var resultTable = divider += "\n" + tableHeader + "\n" + divider + "\n" + rowStrings.join("\n") + "\n" + divider;
            resultsString.push(resultTable);
        });
    }
    return resultsString;
}
var n = 1;
var phrases = [
    // -------------------------------
    // These are queries that we had problems with in the past
    // make sure they always work
    // -------------------------------// 
    //"employees, salaries per department",
    /*
    "Corey's salary, department, and age",
    "Corey's wife's age, gender, and height",
    */
    // -------------------------------
    "moons year discovered after ariel year discovered",
    "moons of jupiter",
    "moons discovered by sir william herschel",
    "jupiter's moons",
    "moons per planet",
    "planets per moon",
    "number of moons per planet",
    "count the number of moons per planet",
    "moons whose year discovered is 1610",
    "ganymede was discovered by",
    "planets with their moons",
    "ganymede discovered by",
    "moons discovered by galileo galilei",
    "moons discovered by sir william herschel",
    "planets discovered by galileo galilei",
    "planets discovered by sir william herschel",
    "celestial bodies discovered by Galileo Galilei",
    //"salary's sum * "
    //"composer compositions",
    //"composer composition",
    //"Corey's department is engineering",
    "corey's salary",
    //"josh's salary * corey montella's age"
    //"Chris' salary and department"
    //"Employee's union"
    "pets lengths",
    "employee departments",
    //"Corey's salary, department, and age",
    "3 - Corey's salary",
    "1+1",
    "employees with their departments",
    "employees with their departments and salaries",
    "employee salary and employee department",
    "employee salary and department",
    'test data that is an employee',
    "salaries per employee per department",
    "salaries per department per employee",
    "employees which are test data",
    "sum of salaries in engineering",
    "sum of salaries in the engineering department",
    "salaries in engineering",
    'exotics that are test data',
    'test data that are employees',
    "Pets that not length",
    "pets that do not have a length",
    "Pets except those longer than a koala",
    "Pet not longer than koalas",
    "exotic that are not pets",
    "pets not exotics",
    "Pets that are exotic with length <= 3",
    "Pets that are exotic with length != 4",
    //"Corey's salary + 3",
    "exotic lengths",
    "sum lengths of pets that are exotic",
    "pets that are exotic that have length",
    "exotic pets",
    "sum of employee salaries",
    "salaries per department",
    "employee salaries",
    "sum employee salaries",
    "exotic lengths",
    "salaries by department",
    "employee salaries",
    "employees with their salaries",
    "employees with their departments",
    "employees and their salaries",
    "sum salaries",
    "Pet shorter than koala",
    "sum salaries per department",
    "sum salary per department",
    "pets lengths",
    "department salaries",
    "corey's salary",
    "lengths",
    "sum lengths",
    "sum pet lengths",
    "sum pet length",
];
/*
let siriphrases = [
  "Find videos I took at Iva's birthday party",
  "Find pics from my trip to Aspen in 2014",
  "Find a table for four people tonight in Chicago",
  "Find a table for four tonight in Chicago",
  "How is the weather tomorrow?",
  "Wake me up at 7AM tomorrow",
  "Move my 2PM meeting to 2:30",
  "Do I have any new texts from Rick?",
  "Show my selfies from New Year's Eve",
  "Call Dad at work",
  "Aiesha Turner is my mom",
  "Read my latest email",
  "Text peet 'See you soon smiley exlamation point'",
  "What is trending on Twitter?",
  "Call back my last missed call.",
  "Where is Brian?",
  "Find tweets with the hashtag BayBridge",
  "Read my last message from Andrew",
  "Do I have any new voicemail?",
  "FaceTime Sarah",
  "Redial that last number",
  "Play the last voicemail from Aaron",
  "When did Ingrid call me?",
  "Get my call history",
  "Mark the third one complete",
  "Add Greg to my 2:30 meeting on Thursday",
  "Remind me about this email Friday at noon", // noon should be a quantity
  "Create a new list called Groceries", // why isn't a|DT includeded in "a new list"
  "Where is my next meeting?", // How can we make meeting a noun?
  "Set an alarm for 9 AM every Friday", // AM needs to be special cased to attach to 9
  "Cancel my meetings on Friday", // Cancel needs to be a verb
  "Turn off all my alarms",
  "Add brussels sprouts to my grocery list",
  "Remind me to pay Noah back tomorrow morning",
  // Sports
  "When is the next Mavericks home game?",
  "Who is the quarterback for Dallas?",
  "Who has the most RBIs",
  "Who won the NBA finals?",
  "Where is Wrigley Field?",
  "How many regular-season games does each NBA team play?",
  "When is the LA Galaxy's next home game?",
  "Who do the Chicago Cubs play on September 21?", // 21 needs to merge with September
  "When does the football season start?",
  "What hockey teams play today?",
  "Did the Chicago cubs win on Thursday?",
  // Entertainment
  "Play Third Eye Blind's new album",
  "Play more like this",
  "Play the number one song right now", // Needs help with noun grouping tag accuracy
  "What song is playing right now?", // right now is problematic
  "What movies are playing today?",
  "Where is Unbroken playing around here?", // playing around here is problematic
  "I like this song",
  "What are some PG movies playing this afternoon",
  "Who sings this?", // tags are all wrong, heuristics don't help it
  "I want to hear the live version of this song",
  "Play only songs by Nicki Minaj",
  "What won best picture in 2000?",
  "How are the ratings for The Boxtrolls?",
  "Who directed A Perfect World?",
  "Do people like The Theory of Everything?",
  // Out and about (aka Foursquare queries)
  "Where is a good Indian place around here?", // "place around here" is tagged wrong, heuristics don't help
  "I am running low on gas",
  "What time does Whole Foods close?",
  "Give me public transit direction to the De Young Museum", // Public is tagged a verb
  "Where is a good inexpensive place to eat around here?", // "To eat aroung here" is not recognized
  "Make a reservation at a romantic restaurant tonight at 7PM",
  "Find a happy hour nearby", // nearby should be an adverb?
  "Find coffee near me",
  "What planes are flying above me?", // Tags are all wrong: planes is a verb, flying is an adverb
  "I need some aspirin",
  "How are the reviews for Long Bridge Pizza in San Francisco?",
  "Where is a good hair salon?",
  "What's the best retaurant in San Francisco?",
  "I need a good electrician",
  "Where am I?",
  "What is my ETA?",
  // Homekit
  "Turn the lights blue",
  "Turn off the radio", // "off" should be a particle
  "Turn off the printer in the office", // "off" should be a particle
  "Lock the front door", // front is classified a noun, should be an adhective
  "Set the brightness of the downstairs lights to 50%",
  "Set the Tahoe house to 72 degrees", // house is a verb
  "Turn off Chloe's light", // "off" should be a particle
  "Turn the living room lights all the way up", // lights is a verb
  "Turn on the bathroom heater",
  // Getting answers
  "Do I need an umbrella today?",
  "How is the Nikkei doing?",
  "When is daylight saving time?",
  "What is the definition of pragmatic?", // "pragmatic is an adjective"
  "What's the latest in San Francisco?",
  "Did the groundhog see its shadow?",
  "When is sunset in Paris", // sunset should be a noun
  "What is the population of Jamaica?",
  "What is the square root of 128?",
  "What is 40 degrees Farenheit in Celsius", // Here is an example where the proper noun combining heuristic fails
  "What is the temperature outside?", // outside is a preposition
  "What time is it in Berlin",
  "When was Abraham Lincoln born?", // This will get Abraham Lincoln, but we need to use "when" and "born" to figure out a date is expected
  "Show me the Orion constellation",
  "What's the high for Anchorage on Thursday?", // This breaks noun combining heuristic
  "How many dollars is 45 Euros",
  "What day is it?",
  "How many calories in a bagel?",
  "What is Apple's P/E ratio?",
  "Compare AAPL and NASDAQ",
  "How humid is it in New York right now", // Heuristics mess up tagging, "is" is a noun in order to use "humid" as an adjective
  "What's an 18% tip on $85?",
  "What is the UV index outside?",
  "How many cups in a liter",
  "Is it going to snow next week?",
];
*/
app.init("nlqp", function () {
    console.log("Running " + phrases.length + " tests...");
    console.log("===========================================================================================");
    var queryStates = phrases.map(function (phrase) { return parseTest(phrase, n); });
    var query = queryStates.filter(function (state) { return state === nlqp.Intents.QUERY; }).length;
    var insert = queryStates.filter(function (state) { return state === nlqp.Intents.INSERT; }).length;
    var moreinfo = queryStates.filter(function (state) { return state === nlqp.Intents.MOREINFO; }).length;
    var noresult = queryStates.filter(function (state) { return state === nlqp.Intents.NORESULT; }).length;
    console.log("===========================================================================================");
    console.log("Total Queries: " + phrases.length + " | Query: " + query + " | Insert: " + insert + " | MoreInfo: " + moreinfo + " | NoResult: " + noresult);
    console.log("===========================================================================================");
});

},{"../src/NLQueryParser":1,"../src/app":2,"../src/bootstrap":3,"../src/parser":5}],10:[function(require,module,exports){

},{}],11:[function(require,module,exports){
//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

(function() {
  var _global = this;

  // Unique ID creation requires a high quality random # generator.  We feature
  // detect to determine the best RNG source, normalizing to a function that
  // returns 128-bits of randomness, since that's what's usually required
  var _rng;

  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html
  //
  // Moderately fast, high quality
  if (typeof(_global.require) == 'function') {
    try {
      var _rb = _global.require('crypto').randomBytes;
      _rng = _rb && function() {return _rb(16);};
    } catch(e) {}
  }

  if (!_rng && _global.crypto && crypto.getRandomValues) {
    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto
    //
    // Moderately fast, high quality
    var _rnds8 = new Uint8Array(16);
    _rng = function whatwgRNG() {
      crypto.getRandomValues(_rnds8);
      return _rnds8;
    };
  }

  if (!_rng) {
    // Math.random()-based (RNG)
    //
    // If all else fails, use Math.random().  It's fast, but is of unspecified
    // quality.
    var  _rnds = new Array(16);
    _rng = function() {
      for (var i = 0, r; i < 16; i++) {
        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
      }

      return _rnds;
    };
  }

  // Buffer class to use
  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;

  // Maps for number <-> hex string conversion
  var _byteToHex = [];
  var _hexToByte = {};
  for (var i = 0; i < 256; i++) {
    _byteToHex[i] = (i + 0x100).toString(16).substr(1);
    _hexToByte[_byteToHex[i]] = i;
  }

  // **`parse()` - Parse a UUID into it's component bytes**
  function parse(s, buf, offset) {
    var i = (buf && offset) || 0, ii = 0;

    buf = buf || [];
    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {
      if (ii < 16) { // Don't overflow!
        buf[i + ii++] = _hexToByte[oct];
      }
    });

    // Zero out remaining bytes if string was short
    while (ii < 16) {
      buf[i + ii++] = 0;
    }

    return buf;
  }

  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**
  function unparse(buf, offset) {
    var i = offset || 0, bth = _byteToHex;
    return  bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] + '-' +
            bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]] +
            bth[buf[i++]] + bth[buf[i++]];
  }

  // **`v1()` - Generate time-based UUID**
  //
  // Inspired by https://github.com/LiosK/UUID.js
  // and http://docs.python.org/library/uuid.html

  // random #'s we need to init node and clockseq
  var _seedBytes = _rng();

  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
  var _nodeId = [
    _seedBytes[0] | 0x01,
    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]
  ];

  // Per 4.2.2, randomize (14 bit) clockseq
  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;

  // Previous uuid creation time
  var _lastMSecs = 0, _lastNSecs = 0;

  // See https://github.com/broofa/node-uuid for API details
  function v1(options, buf, offset) {
    var i = buf && offset || 0;
    var b = buf || [];

    options = options || {};

    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;

    // UUID timestamps are 100 nano-second units since the Gregorian epoch,
    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
    var msecs = options.msecs != null ? options.msecs : new Date().getTime();

    // Per 4.2.1.2, use count of uuid's generated during the current clock
    // cycle to simulate higher resolution clock
    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;

    // Time since last uuid creation (in msecs)
    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;

    // Per 4.2.1.2, Bump clockseq on clock regression
    if (dt < 0 && options.clockseq == null) {
      clockseq = clockseq + 1 & 0x3fff;
    }

    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
    // time interval
    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {
      nsecs = 0;
    }

    // Per 4.2.1.2 Throw error if too many uuids are requested
    if (nsecs >= 10000) {
      throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
    }

    _lastMSecs = msecs;
    _lastNSecs = nsecs;
    _clockseq = clockseq;

    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
    msecs += 12219292800000;

    // `time_low`
    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
    b[i++] = tl >>> 24 & 0xff;
    b[i++] = tl >>> 16 & 0xff;
    b[i++] = tl >>> 8 & 0xff;
    b[i++] = tl & 0xff;

    // `time_mid`
    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;
    b[i++] = tmh >>> 8 & 0xff;
    b[i++] = tmh & 0xff;

    // `time_high_and_version`
    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
    b[i++] = tmh >>> 16 & 0xff;

    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
    b[i++] = clockseq >>> 8 | 0x80;

    // `clock_seq_low`
    b[i++] = clockseq & 0xff;

    // `node`
    var node = options.node || _nodeId;
    for (var n = 0; n < 6; n++) {
      b[i + n] = node[n];
    }

    return buf ? buf : unparse(b);
  }

  // **`v4()` - Generate random UUID**

  // See https://github.com/broofa/node-uuid for API details
  function v4(options, buf, offset) {
    // Deprecated - 'format' argument, as supported in v1.2
    var i = buf && offset || 0;

    if (typeof(options) == 'string') {
      buf = options == 'binary' ? new BufferClass(16) : null;
      options = null;
    }
    options = options || {};

    var rnds = options.random || (options.rng || _rng)();

    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
    rnds[6] = (rnds[6] & 0x0f) | 0x40;
    rnds[8] = (rnds[8] & 0x3f) | 0x80;

    // Copy bytes to buffer, if provided
    if (buf) {
      for (var ii = 0; ii < 16; ii++) {
        buf[i + ii] = rnds[ii];
      }
    }

    return buf || unparse(rnds);
  }

  // Export public API
  var uuid = v4;
  uuid.v1 = v1;
  uuid.v4 = v4;
  uuid.parse = parse;
  uuid.unparse = unparse;
  uuid.BufferClass = BufferClass;

  if (typeof define === 'function' && define.amd) {
    // Publish as AMD module
    define(function() {return uuid;});
  } else if (typeof(module) != 'undefined' && module.exports) {
    // Publish as node.js module
    module.exports = uuid;
  } else {
    // Publish as global (in browsers)
    var _previousRoot = _global.uuid;

    // **`noConflict()` - (browser only) to reset global 'uuid' var**
    uuid.noConflict = function() {
      _global.uuid = _previousRoot;
      return uuid;
    };

    _global.uuid = uuid;
  }
}).call(this);

},{}]},{},[9,10])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvTkxRdWVyeVBhcnNlci50cyIsInNyYy9hcHAudHMiLCJzcmMvYm9vdHN0cmFwLnRzIiwic3JjL21pY3JvUmVhY3QudHMiLCJzcmMvcGFyc2VyLnRzIiwic3JjL3J1bnRpbWUudHMiLCJzcmMvdWlSZW5kZXJlci50cyIsInNyYy91dGlscy50cyIsInRlc3QvTkxRUFRlc3QudHMiLCJ0eXBpbmdzL3RzZC5kLnRzIiwidmVuZG9yL3V1aWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxvQkFBa0IsT0FBTyxDQUFDLENBQUE7QUFpQjFCLFdBQVksU0FBUztJQUNuQiw2Q0FBTSxDQUFBO0lBQ04scURBQVUsQ0FBQTtJQUNWLG1EQUFTLENBQUE7SUFDVCw2Q0FBTSxDQUFBO0lBQ04sNkNBQU0sQ0FBQTtJQUNOLGlEQUFRLENBQUE7QUFDVixDQUFDLEVBUFcsaUJBQVMsS0FBVCxpQkFBUyxRQU9wQjtBQVBELElBQVksU0FBUyxHQUFULGlCQU9YLENBQUE7QUFRRCxXQUFZLE9BQU87SUFDakIsdUNBQUssQ0FBQTtJQUNMLHlDQUFNLENBQUE7SUFDTiw2Q0FBUSxDQUFBO0lBQ1IsNkNBQVEsQ0FBQTtBQUNWLENBQUMsRUFMVyxlQUFPLEtBQVAsZUFBTyxRQUtsQjtBQUxELElBQVksT0FBTyxHQUFQLGVBS1gsQ0FBQTtBQUVELHVCQUF1QjtBQUN2QixlQUFzQixXQUFtQixFQUFFLFNBQWtCO0lBQzNELElBQUksSUFBVSxDQUFDO0lBQ2YsSUFBSSxPQUFnQixDQUFDO0lBQ3JCLElBQUksTUFBb0IsQ0FBQztJQUN6QixxREFBcUQ7SUFDckQsRUFBRSxDQUFDLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLFNBQVMsQ0FB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LEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1SCxJQUFJLFlBQVksR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN4SyxJQUFJLFlBQVksR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNlLElBQUksa0JBQWtCLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDcFAsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3pILElBQUksTUFBTSxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbkcsSUFBSSxVQUFVLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLElBQUksYUFBYSxHQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzFDLElBQUksbUJBQW1CLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNwQyxJQUFJLFNBQVMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdkUsSUFBSSxLQUFLLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0IsSUFBSSxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUV4QixzR0FBc0c7SUFFdEcseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ1gsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDYixVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixLQUFLLEdBQUc7b0JBQ04sR0FBRyxHQUFHLGtCQUFrQixDQUFDLElBQUksQ0FBQztvQkFDOUIsS0FBSyxDQUFDO2dCQUNSLEtBQUssR0FBRztvQkFDTixHQUFHLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxDQUFDO29CQUMvQixLQUFLLENBQUM7Z0JBQ1IsS0FBSyxHQUFHO29CQUNOLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7b0JBQzdCLEtBQUssQ0FBQztnQkFDUixLQUFLLEdBQUc7b0JBQ04sR0FBRyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQztvQkFDN0IsS0FBSyxDQUFDO2dCQUNSLEtBQUssR0FBRztvQkFDTixHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO29CQUM3QixLQUFLLENBQUM7WUFDVixDQUFDO1FBQ0gsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEQsS0FBSyxHQUFHLElBQUksQ0FBQztZQUNiLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLEtBQUssR0FBRztvQkFDTixHQUFHLEdBQUcsa0JBQWtCLENBQUMsRUFBRSxDQUFDO29CQUM1QixLQUFLLENBQUM7Z0JBQ1IsS0FBSyxJQUFJO29CQUNQLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7b0JBQzdCLEtBQUssQ0FBQztnQkFDUixLQUFLLEdBQUc7b0JBQ04sR0FBRyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztvQkFDNUIsS0FBSyxDQUFDO2dCQUNSLEtBQUssSUFBSTtvQkFDUCxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO29CQUM3QixLQUFLLENBQUM7Z0JBQ1IsS0FBSyxHQUFHO29CQUNOLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7b0JBQzVCLEtBQUssQ0FBQztnQkFDUixLQUFLLElBQUk7b0JBQ1AsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEdBQUcsQ0FBQztvQkFDN0IsS0FBSyxDQUFDO1lBQ1YsQ0FBQztRQUNILENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pELEtBQUssR0FBRyxJQUFJLENBQUM7WUFDYixVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN0QyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO1lBQzdCLEVBQUUsQ0FBQyxDQUFDLFlBQVksS0FBSyxJQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyQyxDQUFDO1FBQ0gsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLEtBQUssSUFBSSxJQUFJLFlBQVksS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3pELFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZDLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7UUFDL0IsQ0FBQztJQUNILENBQUM7SUFDRCx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDWCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BFLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDYixVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyQyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsRUFBRSxDQUFDO1FBQzlCLENBQUM7SUFDSCxDQUFDO0lBQ0QseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ1gscUJBQXFCO1FBQ3JCLGNBQWMsR0FBRyxjQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDOUMsSUFBSSxNQUFNLEdBQUcsY0FBYyxDQUFDO1FBQzVCLGNBQWMsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDN0MsRUFBRSxDQUFDLENBQUMsTUFBTSxLQUFLLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUNELDBFQUEwRTtRQUMxRSxjQUFjO1FBQ2QsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7UUFFOUIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztRQUU5QixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2RCxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO1FBRS9CLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hELEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7UUFFOUIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckQsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztRQUU5QixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pELEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7WUFDN0IsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFdEMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRCxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO1lBQzdCLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3BDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRXpDLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JELEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7WUFDNUIsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFMUMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkQsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0RCxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO1FBQy9CLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7UUFDL0IsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1RCxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDO1lBQzdCLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRXhDLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7UUFFOUIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEQsR0FBRyxHQUFHLGtCQUFrQixDQUFDLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBRUQsd0JBQXdCO1FBQ3hCLElBQUksYUFBYSxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xDLElBQUksYUFBYSxHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakYsSUFBSSxXQUFXLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFdkMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEQsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFdEMsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEQsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUNELDZFQUE2RTtRQUM3RSxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNqRCxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkQsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0Qsa0JBQWtCO0lBQ2xCLElBQUksS0FBSyxHQUFVO1FBQ2pCLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtRQUNYLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSTtRQUN2QixjQUFjLEVBQUUsY0FBYztRQUM5QixHQUFHLEVBQUUsR0FBRztRQUNSLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELHFCQUFxQixpQkFBcUM7SUFDeEQsT0FBTztJQUNQLEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixLQUFLLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEQsTUFBTSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQztJQUNqQyxDQUFDO0lBQ0QsT0FBTztJQUNQLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDO0lBQ3JDLENBQUM7SUFDRCxZQUFZO0lBQ1osSUFBSSxVQUFVLEdBQUcsQ0FBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0QsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQztJQUMxQyxDQUFDO0lBQ0QsU0FBUztJQUNULElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUM7SUFDdkMsQ0FBQztJQUNELE9BQU87SUFDUCxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEYsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDO0lBQ2pDLENBQUM7SUFDRCxRQUFRO0lBQ1IsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0QsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQztJQUNsQyxDQUFDO0lBQ0QsT0FBTztJQUNQLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztJQUM1RCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlELE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQztJQUNELFNBQVM7SUFDVCxJQUFJLE9BQU8sR0FBRyxDQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSztRQUNoQyxNQUFNLEVBQUMsT0FBTyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsS0FBSztRQUNoQyxLQUFLLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRSxNQUFNLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDO0lBQ25DLENBQUM7SUFDRCxVQUFVO0lBQ1YsSUFBSSxPQUFPLEdBQUcsQ0FBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUM7SUFDbkMsQ0FBQztBQUNILENBQUM7QUFFRCw2REFBNkQ7QUFDN0QsNkRBQTZEO0FBQzdELHVFQUF1RTtBQUN2RSxxQkFBNEIsSUFBWTtJQUN0Qyx1QkFBdUI7SUFDdkIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxZQUFZLEdBQUcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzVGLEdBQUcsQ0FBQyxDQUFvQixVQUFZLEVBQS9CLHdCQUFlLEVBQWYsSUFBK0IsQ0FBQztZQUFoQyxJQUFJLFdBQVcsR0FBSSxZQUFZLElBQWhCO1lBQ2xCLEVBQUUsQ0FBQyxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ2QsQ0FBQztTQUNGO1FBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBYmUsbUJBQVcsY0FhMUIsQ0FBQTtBQW9DRCxtQkFBbUIsSUFBVTtJQUMzQixJQUFJLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25DLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQixTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDL0IsU0FBUyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3ZDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNyQyxTQUFTLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDekIsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzdCLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLFVBQUMsUUFBUSxJQUFLLE9BQUEsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQW5DLENBQW1DLENBQUMsQ0FBQztJQUN2RSxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQ25CLENBQUM7QUFFRCxpQkFBaUIsS0FBWTtJQUMzQixJQUFJLElBQUksR0FBUztRQUNmLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRTtRQUNaLElBQUksRUFBRSxLQUFLLENBQUMsY0FBYztRQUMxQixNQUFNLEVBQUUsU0FBUztRQUNqQixRQUFRLEVBQUUsRUFBRTtRQUNaLEtBQUssRUFBRSxLQUFLO1FBQ1osVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1FBQzVCLGFBQWEsRUFBRSxFQUFFO1FBQ2pCLGVBQWUsRUFBRTtZQUNmLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLFVBQVUsRUFBRSxTQUFTO1lBQ3JCLFNBQVMsRUFBRSxTQUFTO1lBQ3BCLEdBQUcsRUFBRSxTQUFTO1NBQ2Y7UUFDRCxLQUFLLEVBQUUsS0FBSztRQUNaLFNBQVMsRUFBRSxLQUFLO1FBQ2hCLFdBQVcsRUFBRSxXQUFXO1FBQ3hCLFFBQVEsRUFBRSxZQUFZO1FBQ3RCLElBQUksRUFBRSxRQUFRO1FBQ2QsSUFBSSxFQUFFLFlBQVk7UUFDbEIsUUFBUSxFQUFFLFFBQVE7S0FDbkIsQ0FBQztJQUNGLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLHFCQUFxQixRQUFvQjtRQUN6QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNkLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDZixDQUFDO0lBQ0gsQ0FBQztJQUNEO1FBQ0UsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN2QixJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQ3hCLENBQUM7UUFDRCxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFDRDtRQUNFLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdkIsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUMzQixFQUFFLENBQUMsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztZQUM1QixNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztRQUN4QixDQUFDO1FBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBQ0Qsa0JBQWtCLFFBQWM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0IsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQUNELHNCQUFzQixLQUFjO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDWixDQUFDO1FBQ0QsSUFBSSxlQUFlLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsRUFBM0IsQ0FBMkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvRixJQUFJLFFBQVEsR0FBRyxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUN4RSxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxLQUFLLFNBQVMsR0FBRyxJQUFJLEdBQU0sSUFBSSxDQUFDLEVBQUUsT0FBSSxDQUFDO1FBQzFELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsTUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxVQUFDLFFBQW9CLElBQUssT0FBQSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQXBCLENBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQUcsQ0FBQztRQUMxSSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsR0FBRyxFQUFFLEdBQUcsTUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsTUFBRyxDQUFDO1FBQ25GLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxHQUFHLEVBQUUsR0FBRyxNQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxNQUFHLENBQUM7UUFDN0UsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsS0FBSyxTQUFTLEdBQUcsRUFBRSxHQUFHLE1BQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLE1BQUcsQ0FBQztRQUN6RixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxLQUFLLFNBQVMsR0FBRyxFQUFFLEdBQUcsTUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksTUFBRyxDQUFDO1FBQzdELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNuQyxVQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLFVBQVUsQ0FBQztRQUN2RCxJQUFJLFVBQVUsR0FBRyxNQUFJLEtBQUssR0FBRyxNQUFNLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLFNBQUksR0FBRyxHQUFHLE1BQU0sR0FBRyxVQUFVLEdBQUcsU0FBUyxTQUFJLFVB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QUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3RixDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQWhELENBQWdELENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqRyxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQS9DLENBQStDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNoRyxDQUFDO0lBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRCxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQTlDLENBQThDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUMvRixDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDTixHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFD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RUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BGLFlBQVksR0FBRyx5QkFBeUIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9GLFlBQVksR0FBRywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hHLFlBQVksR0FBRywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlGLFlBQVksR0FBRywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFV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QyxDQUFDLENBQUM7Z0JBQ3hCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7b0JBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUN6QyxJQUFJO29CQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksS0FBSyxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDN0QsQ0FBQztZQUNELEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7b0JBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO2dCQUN0QyxJQUFJO29CQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsS0FBSyxTQUFTLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDeEQsQ0FBQztZQUNELEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7b0JBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUMvQyxJQUFJO29CQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sS0FBSyxTQUFTLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDckUsQ0FBQztZQUNELEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7b0JBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFD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QUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNELEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxRCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUM7b0JBQUUsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDL0QsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQzlELEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEVBQUUsQ0FBQztvQkFBRSxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRCxFQUFFLENBQUEsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUM7b0JBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDOUQsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JB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QUFDO1lBQ2xILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFBQyxHQUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxPQUFPLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzFHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFBQyxHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxRQUFRLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzlHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFBQyxHQUFHLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxVQUFVLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ3RILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ3JILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFBQyxHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxRQUFRLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzlHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xILEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFBQyxHQUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxPQUFPLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzFHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztnQkFBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzlGLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztnQkFBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzlGLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ3RHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFBQyxHQUFHLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztnQkFBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQzlGLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFBQyxHQUFHLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ3RHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFBQyxHQUFHLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBQ2xHLEVBQUUsQ0FBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFBQyxHQUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxPQUFPLEtBQUssU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDO1lBRTFHLEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxPQUFPLElBQUksSUFBSSxLQUFL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ZSxLQUFLLElBQUksQ0FBQyxlQUFlO21CQUM3QyxJQUFJLENBQUMsV0FBVyxLQUFLLElBQUksQ0FBQyxXQUFXO21CQUNyQyxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRO21CQUMvQixJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxTQUFTO21CQUNqQyxJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxlQUFlO21CQUM3QyxJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLO21CQUN6QixJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNO21CQUMzQixJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJO21CQUN2QixJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxPQUFPO21CQUM3QixJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJO21CQUN2QixJQUFJLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxHQUFHO21CQUNyQixJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJO21CQUN2QixJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJO21CQUN2QixJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLO21CQUN6QixJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNO21CQUMzQixJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNO21CQUMzQixJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxlQUFlO21CQUM3QyxJQUFJLENBQUMsZUFBZSxLQUFLLElBQUksQ0FBQyxlQUFlO21CQUM3QyxJQUFJLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxLQUFLO21CQUN6QixJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxPQUFPO21CQUM3QixJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNO21CQUMzQixJQUFJLENBQUMsV0FBVyxLQUFLLElBQUksQ0FBQyxX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QUFFSCxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBQyxFQUFFLFVBQVMsQ0FBQyxFQUFFLENBQUM7SUFDOUQsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ2pELENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLEVBQUUsVUFBUyxDQUFDLEVBQUUsQ0FBQztJQUNuRCxNQUFNLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLEVBQUUsVUFBUyxDQUFDLEVBQUUsQ0FBQztJQUNuRCxNQUFNLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLEVBQUUsVUFBUyxDQUFDLEVBQUUsQ0FBQztJQUNuRCxNQUFNLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBQyxNQUFNLEVBQUUsUUFBUSxFQUFDLEVBQUUsVUFBUyxDQUFDLEVBQUUsQ0FBQztJQUNuRCxNQUFNLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsRUFBQyxNQUFNLEVBQUUs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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7ZXZlfSBmcm9tIFwiLi9hcHBcIjtcblxuZGVjbGFyZSB2YXIgcGx1cmFsaXplO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVc2VyLUZhY2luZyBmdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGludGVyZmFjZSBSZXN1bHQge1xuICBpbnRlbnQ6IEludGVudHMsXG4gIGNvbnRleHQ6IENvbnRleHQsXG4gIHRva2VuczogQXJyYXk8VG9rZW4+LFxuICB0cmVlOiBOb2RlLFxuICBxdWVyeTogUXVlcnksXG4gIGluc2VydHM6IEFycmF5PEluc2VydD4sXG59XG5cbmV4cG9ydCBlbnVtIE5vZGVUeXBlcyB7XG4gIEVOVElUWSxcbiAgQ09MTEVDVElPTixcbiAgQVRUUklCVVRFLFxuICBOVU1CRVIsXG4gIFNUUklORyxcbiAgRlVOQ1RJT04sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0IHtcbiAgZW50aXR5OiBOb2RlLFxuICBhdHRyaWJ1dGU6IE5vZGUsXG4gIHZhbHVlOiBOb2RlfFF1ZXJ5LFxufVxuXG5leHBvcnQgZW51bSBJbnRlbnRzIHtcbiAgUVVFUlksXG4gIElOU0VSVCxcbiAgTU9SRUlORk8sXG4gIE5PUkVTVUxULFxufVxuXG4vLyBFbnRyeSBwb2ludCBmb3IgTkxRUFxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHF1ZXJ5U3RyaW5nOiBzdHJpbmcsIGxhc3RQYXJzZT86IFJlc3VsdCk6IEFycmF5PFJlc3VsdD4ge1xuICBsZXQgdHJlZTogTm9kZTtcbiAgbGV0IGNvbnRleHQ6IENvbnRleHQ7XG4gIGxldCB0b2tlbnM6IEFycmF5PFRva2VuPjtcbiAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgcnVuLCB0aGVuIGNyZWF0ZSBhIHJvb3Qgbm9kZS5cbiAgaWYgKGxhc3RQYXJzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IHJvb3RUb2tlbiA9IG5ld1Rva2VuKFwicm9vdFwiKTtcbiAgICByb290VG9rZW4ucHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUk9PVCk7XG4gICAgdHJlZSA9IG5ld05vZGUocm9vdFRva2VuKTtcbiAgICB0cmVlLmZvdW5kID0gdHJ1ZTtcbiAgICBjb250ZXh0ID0gbmV3Q29udGV4dCgpO1xuICAgIHRva2VucyA9IFtyb290VG9rZW5dO1xuICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgcHJldmlvdXMgcGFyc2UgdHJlZVxuICB9IGVsc2Uge1xuICAgIHRyZWUgPSBsYXN0UGFyc2UudHJlZTtcbiAgICBjb250ZXh0ID0gbGFzdFBhcnNlLmNvbnRleHQ7XG4gICAgdG9rZW5zID0gbGFzdFBhcnNlLnRva2VucztcbiAgfVxuICAvLyBOb3cgZG8gc29tZXRoaW5nIHdpdGggdGhlIHF1ZXJ5IHN0cmluZ1xuICBsZXQgd29yZHMgPSBub3JtYWxpemVRdWVyeVN0cmluZyhxdWVyeVN0cmluZyk7XG4gIGZvciAobGV0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAvLyBGcm9tIGEgdG9rZW5cbiAgICBsZXQgdG9rZW4gPSBmb3JtVG9rZW4od29yZCk7XG4gICAgLy8gTGluayBuZXcgdG9rZW4gd2l0aCB0aGUgcmVzdFxuICAgIGxldCBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgIGxhc3RUb2tlbi5uZXh0ID0gdG9rZW47XG4gICAgdG9rZW4ucHJldiA9IGxhc3RUb2tlbjtcbiAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgLy8gQWRkIHRoZSB0b2tlbiB0byB0aGUgdHJlZVxuICAgIGxldCBub2RlID0gbmV3Tm9kZSh0b2tlbik7XG4gICAgbGV0IHRyZWVSZXN1bHQgPSBmb3JtVHJlZShub2RlLCB0cmVlLCBjb250ZXh0KTtcbiAgICB0cmVlID0gdHJlZVJlc3VsdC50cmVlO1xuICAgIGNvbnRleHQgPSB0cmVlUmVzdWx0LmNvbnRleHQ7XG4gIH1cbiAgLy8gTWFuYWdlIGNvbnRleHRcbiAgY29udGV4dC5lbnRpdGllcyA9IGNvbnRleHQuZm91bmQuZmlsdGVyKChuKSA9PiBuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRU5USVRZKSAmJiAhbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlNVQlNVTUVEKSAmJiAhbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLklNUExJQ0lUKSk7XG4gIGNvbnRleHQuY29sbGVjdGlvbnMgPSBjb250ZXh0LmZvdW5kLmZpbHRlcigobikgPT4gbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pICYmICFuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuU1VCU1VNRUQpICYmICFuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuSU1QTElDSVQpKTsgXG4gIGNvbnRleHQuYXR0cmlidXRlcyA9IGNvbnRleHQuZm91bmQuZmlsdGVyKChuKSA9PiBuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSAmJiAhbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlNVQlNVTUVEKSAmJiAhbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLklNUExJQ0lUKSk7XG4gIGNvbnRleHQubWF5YmVBdHRyaWJ1dGVzID0gY29udGV4dC5tYXliZUF0dHJpYnV0ZXMuZmlsdGVyKChuKSA9PiAhbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlNVQlNVTUVEKSAmJiAhbi5mb3VuZCk7XG4gIGNvbnRleHQubWF5YmVDb2xsZWN0aW9ucyA9IGNvbnRleHQubWF5YmVDb2xsZWN0aW9ucy5maWx0ZXIoKG4pID0+ICFuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuU1VCU1VNRUQpICYmICFuLmZvdW5kKTtcbiAgY29udGV4dC5tYXliZUVudGl0aWVzID0gY29udGV4dC5tYXliZUVudGl0aWVzLmZpbHRlcigobikgPT4gIW4uaGFzUHJvcGVydHkoUHJvcGVydGllcy5TVUJTVU1FRCkgJiYgIW4uZm91bmQpO1xuICBcbiAgLy8gTWFuYWdlIHJlc3VsdHNcbiAgbGV0IGludGVudCA9IEludGVudHMuTk9SRVNVTFQ7XG4gIGxldCBxdWVyeSA9IG5ld1F1ZXJ5KCk7XG4gIGxldCBpbnNlcnRSZXN1bHRzID0gW107XG4gIGlmIChhbGxGb3VuZCh0cmVlKSkge1xuICAgIGxldCBpbnNlcnRzID0gY29udGV4dC5pbnRlcm5hbEZ4bnMuZmlsdGVyKChmKSA9PiBmLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLklOU0VSVCk7XG4gICAgaWYgKGluc2VydHMubGVuZ3RoID4gMCkge1xuICAgICAgaW50ZW50ID0gSW50ZW50cy5JTlNFUlQ7XG4gICAgICAvLyBGb3JtYXQgZWFjaCBpbnNlcnRcbiAgICAgIGZvciAobGV0IGluc2VydCBvZiBpbnNlcnRzKSB7XG4gICAgICAgIGlmIChpbnNlcnQuY2hpbGRyZW4uZXZlcnkoKGMpID0+IGMuZm91bmQpKSB7XG4gICAgICAgICAgLy8gQ29sbGFwc2UgdGhlIHJlc3VsdCByb290IGlmIGV2ZXJ5IG5vZGUgZG9lc24ndCBoYXZlIGEgY2hpbGRcbiAgICAgICAgICBpZiAoaW5zZXJ0LmNoaWxkcmVuWzJdLmNoaWxkcmVuLmxlbmd0aCA+IDEgJiYgaW5zZXJ0LmNoaWxkcmVuWzJdLmNoaWxkcmVuLmV2ZXJ5KChjKSA9PiBjLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGxldCBuTmFtZSA9IGluc2VydC5jaGlsZHJlblsyXS5jaGlsZHJlbi5tYXAoKGMpID0+IGMubmFtZSkuam9pbihcIiBcIik7XG4gICAgICAgICAgICBsZXQgblRva2VuID0gbmV3VG9rZW4obk5hbWUpO1xuICAgICAgICAgICAgbGV0IG5Ob2RlID0gbmV3Tm9kZShuVG9rZW4pO1xuICAgICAgICAgICAgbk5vZGUuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgbk5vZGUudHlwZSA9IE5vZGVUeXBlcy5TVFJJTkc7IFxuICAgICAgICAgICAgaW5zZXJ0LmNoaWxkcmVuWzJdLmNoaWxkcmVuLm1hcChyZW1vdmVOb2RlKTtcbiAgICAgICAgICAgIGluc2VydC5jaGlsZHJlblsyXS5hZGRDaGlsZChuTm9kZSk7XG4gICAgICAgICAgfSAgICAgICAgXG4gICAgICAgICAgbGV0IGluc2VydFJlc3VsdDogSW5zZXJ0ID0ge1xuICAgICAgICAgICAgZW50aXR5OiBpbnNlcnQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0sXG4gICAgICAgICAgICBhdHRyaWJ1dGU6IGluc2VydC5jaGlsZHJlblsxXS5jaGlsZHJlblswXSxcbiAgICAgICAgICAgIHZhbHVlOiBpbnNlcnQuY2hpbGRyZW5bMl0uY2hpbGRyZW5bMF0sXG4gICAgICAgICAgfVxuICAgICAgICAgIGluc2VydFJlc3VsdHMucHVzaChpbnNlcnRSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb250ZXh0Lm1heWJlQXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpbnRlbnQgPSBJbnRlbnRzLk1PUkVJTkZPO1xuICAgIC8vIFRoaXMgY2xhdXNlIGlzIHRvIHByb3RlY3QgYWdhaW5zdCBwcm9kdWN0IGpvaW5pbmdcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQuZm91bmQubGVuZ3RoID4gMSAmJiAvLyBwcm9kdWN0IGpvaW5zIG9ubHkgb2NjdXJyIGluIHRoZSBjYXNlIHdoZW4gdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSB0aGluZ1xuICAgICAgICAgICAgICAgKChjb250ZXh0LmF0dHJpYnV0ZXMuZmlsdGVyKChhKSA9PiBhLmF0dHJpYnV0ZS5yZWZzID09PSB1bmRlZmluZWQgJiYgIWEucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVJHVU1FTlQpKS5sZW5ndGggPiAwKSB8fFxuICAgICAgICAgICAgICAgKGNvbnRleHQuY29sbGVjdGlvbnMuZmlsdGVyKChjKSA9PiBjLnJlbGF0aW9uc2hpcHMubGVuZ3RoID09PSAwKS5sZW5ndGggPiAwKSkpIHtcbiAgICAgIGludGVudCA9IEludGVudHMuTk9SRVNVTFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVudCA9IEludGVudHMuUVVFUlk7XG4gICAgfVxuICB9XG4gIGlmIChpbnRlbnQgPT09IEludGVudHMuUVVFUlkpIHtcbiAgICAvLyBDcmVhdGUgdGhlIHF1ZXJ5IGZyb20gdGhlIG5ldyB0cmVlXG4gICAgaW50ZW50ID0gSW50ZW50cy5RVUVSWTtcbiAgICBsb2coXCJCdWlsZGluZyBxdWVyeS4uLlwiKTtcbiAgICBxdWVyeSA9IGZvcm1RdWVyeSh0cmVlKTsgIFxuICAgIGlmIChxdWVyeS5wcm9qZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGludGVudCA9IEludGVudHMuTk9SRVNVTFQ7XG4gICAgICBxdWVyeSA9IG5ld1F1ZXJ5KCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gW3tpbnRlbnQ6IGludGVudCwgY29udGV4dDogY29udGV4dCwgdG9rZW5zOiB0b2tlbnMsIHRyZWU6IHRyZWUsIHF1ZXJ5OiBxdWVyeSwgaW5zZXJ0czogaW5zZXJ0UmVzdWx0c31dO1xufVxuXG4vLyBSZXR1cm5zIGZhbHNlIGlmIGFueSBub2RlcyBhcmUgbm90IG1hcmtlZCBmb3VuZFxuLy8gUmV0dXJucyB0cnVlIGlmIGFsbCBub2RlcyBhcmUgbWFya2VkIGZvdW5kXG5mdW5jdGlvbiB0cmVlQ29tcGxldGUobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICBpZiAobm9kZS5mb3VuZCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGNoaWxkcmVuU3RhdHVzID0gbm9kZS5jaGlsZHJlbi5tYXAodHJlZUNvbXBsZXRlKTtcbiAgICByZXR1cm4gY2hpbGRyZW5TdGF0dXMuZXZlcnkoKGNoaWxkKSA9PiBjaGlsZCA9PT0gdHJ1ZSk7IFxuICB9XG59XG5cbmludGVyZmFjZSBXb3JkIHtcbiAgaXg6IG51bWJlcjtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG4vLyBQZXJmb3JtcyBzb21lIHRyYW5zZm9ybWF0aW9ucyB0byB0aGUgcXVlcnkgc3RyaW5nIGJlZm9yZSB0b2tlbml6aW5nXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUXVlcnlTdHJpbmcocXVlcnlTdHJpbmc6IHN0cmluZyk6IEFycmF5PFdvcmQ+IHtcbiAgLy8gQWRkIHdoaXRlc3BhY2UgYmVmb3JlIGFuZCBhZnRlciBzZXBhcmF0b3IgYW5kIG9wZXJhdG9yc1xuICBsZXQgbm9ybWFsaXplZFF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcucmVwbGFjZSgvLC9nLCcgLCAnKTtcbiAgbm9ybWFsaXplZFF1ZXJ5U3RyaW5nID0gbm9ybWFsaXplZFF1ZXJ5U3RyaW5nLnJlcGxhY2UoLzsvZywnIDsgJyk7XG4gIG5vcm1hbGl6ZWRRdWVyeVN0cmluZyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5yZXBsYWNlKC9cXCsvZywnICsgJyk7XG4gIG5vcm1hbGl6ZWRRdWVyeVN0cmluZyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5yZXBsYWNlKC9cXF4vZywnIF4gJyk7XG4gIG5vcm1hbGl6ZWRRdWVyeVN0cmluZyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5yZXBsYWNlKC8tL2csJyAtICcpO1xuICBub3JtYWxpemVkUXVlcnlTdHJpbmcgPSBub3JtYWxpemVkUXVlcnlTdHJpbmcucmVwbGFjZSgvXFwqL2csJyAqICcpO1xuICBub3JtYWxpemVkUXVlcnlTdHJpbmcgPSBub3JtYWxpemVkUXVlcnlTdHJpbmcucmVwbGFjZSgvXFwvL2csJyAvICcpO1xuICBub3JtYWxpemVkUXVlcnlTdHJpbmcgPSBub3JtYWxpemVkUXVlcnlTdHJpbmcucmVwbGFjZSgvXCIvZywnIFwiICcpO1xuICAvLyBTcGxpdCBwb3NzZXNzaXZlIGVuZGluZ3NcbiAgbm9ybWFsaXplZFF1ZXJ5U3RyaW5nID0gbm9ybWFsaXplZFF1ZXJ5U3RyaW5nLnJlcGxhY2UoL1xcJ3MvZywnIFxcJ3MgJyk7XG4gIG5vcm1hbGl6ZWRRdWVyeVN0cmluZyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5yZXBsYWNlKC9zJy9nLCdzIFxcJyAnKTtcbiAgLy8gQ2xlYW4gdmFyaW91cyBzeW1ib2xzIHdlIGRvbid0IHdhbnQgdG8gZGVhbCB3aXRoXG4gIG5vcm1hbGl6ZWRRdWVyeVN0cmluZyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5yZXBsYWNlKC9gfFxcP3xcXDp8XFxbfFxcXXxcXHt8XFx9fFxcKHxcXCl8XFx+fFxcYHx+fEB8I3xcXCR8JXwmfF98XFx8L2csJyAnKTtcbiAgLy8gQ29sbGFwc2Ugd2hpdGVzcGFjZSAgIFxuICBub3JtYWxpemVkUXVlcnlTdHJpbmcgPSBub3JtYWxpemVkUXVlcnlTdHJpbmcucmVwbGFjZSgvXFxzKy9nLCcgJyk7XG4gIC8vIFNwbGl0IHdvcmRzIGF0IHdoaXRlc3BhY2VcbiAgbGV0IHNwbGl0U3RyaW5ncyA9IG5vcm1hbGl6ZWRRdWVyeVN0cmluZy5zcGxpdChcIiBcIik7XG4gIGxldCB3b3JkcyA9IHNwbGl0U3RyaW5ncy5tYXAoKHRleHQsIGkpID0+IHtyZXR1cm4ge2l4OiBpICsgMSwgdGV4dDogdGV4dH07fSk7XG4gIHdvcmRzID0gd29yZHMuZmlsdGVyKCh3b3JkKSA9PiB3b3JkLnRleHQgIT09IFwiXCIpO1xuICByZXR1cm4gd29yZHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmcocXVlcnlTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIEFkZCB3aGl0ZXNwYWNlIGJlZm9yZSBhbmQgYWZ0ZXIgc2VwYXJhdG9yIGFuZCBvcGVyYXRvcnNcbiAgbGV0IG5vcm1hbGl6ZWQgPSBxdWVyeVN0cmluZy5yZXBsYWNlKC8sL2csJyAsICcpO1xuICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC87L2csJyA7ICcpO1xuICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC9cXCsvZywnICsgJyk7XG4gIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1xcXi9nLCcgXiAnKTtcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvLS9nLCcgLSAnKTtcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwqL2csJyAqICcpO1xuICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC9cXC8vZywnIC8gJyk7XG4gIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1wiL2csJyBcIiAnKTtcbiAgLy8gU3BsaXQgcG9zc2Vzc2l2ZSBlbmRpbmdzXG4gIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1xcJ3MvZywnIFxcJ3MgJyk7XG4gIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL3MnL2csJ3MgXFwnICcpO1xuICAvLyBDbGVhbiB2YXJpb3VzIHN5bWJvbHMgd2UgZG9uJ3Qgd2FudCB0byBkZWFsIHdpdGhcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvYHxcXD98XFw6fFxcW3xcXF18XFx7fFxcfXxcXCh8XFwpfFxcfnxcXGB8fnxAfCN8XFwkfCV8JnxffFxcfC9nLCcgJyk7XG4gIC8vIENvbGxhcHNlIHdoaXRlc3BhY2UgICBcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFxzKy9nLCcgJyk7ICBcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQudG9Mb3dlckNhc2UoKTtcbiAgbm9ybWFsaXplZCA9IHNpbmd1bGFyaXplKG5vcm1hbGl6ZWQpOyAgXG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb2tlbiBmdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZW51bSBNYWpvclBhcnRzT2ZTcGVlY2gge1xuICBST09ULFxuICBWRVJCLFxuICBBREpFQ1RJVkUsXG4gIEFEVkVSQixcbiAgTk9VTixcbiAgVkFMVUUsXG4gIEdMVUUsXG4gIFdIV09SRCxcbiAgU1lNQk9MLFxufVxuXG5lbnVtIE1pbm9yUGFydHNPZlNwZWVjaCB7XG4gIFJPT1QsXG4gIC8vIFZlcmJcbiAgVkIsICAgLy8gdmVyYiwgZ2VuZXJpYyAoZWF0KVxuICBWQkQsICAvLyBwYXN0LXRlbnNlIHZlcmIgKGF0ZSlcbiAgVkJOLCAgLy8gcGFzdC1wYXJ0aWNpcGxlIHZlcmIgKGVhdGVuKVxuICBWQlAsICAvLyBpbmZpbml0aXZlIHZlcmIgKGVhdClcbiAgVkJaLCAgLy8gcHJlc250LXRlbnNlIHZlcmIgKGVhdHMpXG4gIFZCRiwgIC8vIGZ1dHVyZS10ZW5zZSB2ZXJiIChlYXQpXG4gIENQLCAgIC8vIGNvcHVsYSAoaXMsIHdhcywgd2VyZSlcbiAgVkJHLCAgLy8gZ2VydW5kIHZlcmIgKGVhdGluZylcbiAgLy8gQWRqZWN0aXZlXG4gIEpKLCAgIC8vIGFkamVjdGl2ZSwgZ2VuZXJpYyAoYmlnKVxuICBKSlIsICAvLyBjb21wYXJhdGl2ZSBhZGplY3RpdmUgKGJpZ2dlcilcbiAgSkpTLCAgLy8gc3VwZXJsYXRpdmUgYWRqZWN0aXZlIChiaWdnZXN0KVxuICAvLyBBZHZlcmJcbiAgUkIsICAgLy8gYWR2ZXJiLCBnZW5lcmljIChxdWlja2x5KVxuICBSQlIsICAvLyBjb21wYXJhdGl2ZSBhZHZlcmIgKGNvb2xlcilcbiAgUkJTLCAgLy8gc3VwZXJsYXRpdmUgYWR2ZXJiIChjb29sZXN0IChsb29raW5nKSlcbiAgLy8gTm91blxuICBOTiwgICAvLyBub3VuLCBzaW5ndWxhciAoZG9nKSBcbiAgTk5QQSwgLy8gYWNyb255bSAoRkJJKVxuICBOTkFCLCAvLyBhYmJyZXZpYXRpb24gKGpyLilcbiAgTkcsICAgLy8gZ2VydW5kIG5vdW4gKGVhdGluZywgd2lubmluZywgYnV0IHVzZWQgYXMgYSBub3VuKVxuICBQUlAsICAvLyBwZXJzb25hbCBwcm9ub3VuIChJLCB5b3UsIHNoZSlcbiAgUFAsICAgLy8gcG9zc2Vzc2l2ZSBwcm9ub3VuIChteSwgb25lJ3MpXG4gIC8vIExlZ2FjeSBOb3VuXG4gIE5OUCwgIC8vIFNpbmd1bGFyIHByb3BlciBub3VuIChTbWl0aClcbiAgTk5QUywgLy8gUGx1cmFsIHByb3BlciBub3VuIChTbWl0aHMpXG4gIE5OTywgIC8vIFBvc3Nlc3NpdmUgbm91biAocGVvcGxlJ3MpXG4gIE5OUywgIC8vIFBsdXJhbCBub3VuIChwZW9wbGUpXG4gIE5OQSwgIC8vIEBUT0RPIGZpZ3VyZSBvdXQgd2hhdCBOTkEgaXMuXG4gIE5OUSwgIC8vIFF1b3RlZCB0ZXh0XG4gIC8vIEdsdWVcbiAgRlcsICAgLy8gZm9yZWlnbiB3b3JkICh2b2lsYSkgXG4gIElOLCAgIC8vIHByZXBvc2l0aW9uIChvZiwgaW4sIGJ5KVxuICBNRCwgICAvLyBtb2RhbCB2ZXJiIChjYW4sIHNob3VsZClcbiAgQ0MsICAgLy8gY29vcmRpbmF0aW5nIGNvbmp1bmN0aW9uIChhbmQsIGJ1dCwgb3IpXG4gIFBEVCwgIC8vIHByZWRldGVybWluZXIgKHNvbWUsIGFsbCwgYW55KVxuICBEVCwgICAvLyBkZXRlcm1pbmVyICh0aGUpXG4gIFVILCAgIC8vIGludGVyamVjdGlvbiAob2gsIG9vcHMpXG4gIEVYLCAgIC8vIGV4aXN0ZW50aWFsIHRoZXJlICh0aGVyZSlcbiAgLy8gVmFsdWVcbiAgQ0QsICAgLy8gY2FyZGluYWwgdmFsdWUgKG9uZSwgdHdvLCBmaXJzdClcbiAgREEsICAgLy8gZGF0ZSAoanVuZSA1dGggMTk5OClcbiAgTlUsICAgLy8gbnVtYmVyICgxMDAsIG9uZSBodW5kcmVkKVxuICAvLyBTeW1ib2xcbiAgTFQsICAgLy8gU3ltYm9sICg8KVxuICBHVCwgICAvLyBTeW1ib2wgKD4pXG4gIEdURSwgIC8vIFN5bWJvbCAoPj0pXG4gIExURSwgIC8vIFN5bWJvbCAoPD0pXG4gIEVRLCAgIC8vIFN5bWJvbCAoPSlcbiAgTkVRLCAgLy8gU3ltYm9sICghPSlcbiAgUExVUywgLy8gU3ltYm9sICgrKVxuICBNSU5VUywvLyBTeW1ib2wgKC0pXG4gIERJViwgIC8vIFN5bWJvbCAoLylcbiAgTVVMLCAgLy8gU3ltYm9sICgqKVxuICBQT1csICAvLyBTeW1ib2wgKF4pXG4gIFNFUCwgIC8vIFNlcGFyYXRvciAoLCA7IDogXCIpXG4gIFBPUywgIC8vIFBvc3Nlc3NpdmUgZW5kaW5nICgncylcbiAgLy8gV2gtIHdvcmRcbiAgV0RULCAgLy8gV2gtZGV0ZXJtaW5lciAodGhhdCB3aGF0IHdoYXRldmVyIHdoaWNoIHdoaWNoZXZlcilcbiAgV1AsICAgLy8gV2gtcHJvbm91biAodGhhdCB3aGF0IHdoYXRldmVyIHdoaWNoIHdobyB3aG9tKVxuICBXUE8sICAvLyBXaC1wcm9ub3VuIHBvc3Nlc3NpdmUgKHdob3NlKVxuICBXUkIgICAvLyBXaC1hZHZlcmIgKGhvd2V2ZXIgd2hlbmV2ZXIgd2hlcmUgd2h5KVxufVxuXG5pbnRlcmZhY2UgVG9rZW4ge1xuICBpeDogbnVtYmVyLFxuICBzdGFydD86IG51bWJlcixcbiAgZW5kPzogbnVtYmVyLFxuICBvcmlnaW5hbFdvcmQ6IHN0cmluZyxcbiAgbm9ybWFsaXplZFdvcmQ6IHN0cmluZyxcbiAgUE9TOiBNaW5vclBhcnRzT2ZTcGVlY2gsXG4gIHByb3BlcnRpZXM6IEFycmF5PFByb3BlcnRpZXM+LFxuICBub2RlPzogTm9kZSxcbiAgcHJldj86IFRva2VuLFxuICBuZXh0PzogVG9rZW4sXG59XG5cbmZ1bmN0aW9uIG5ld1Rva2VuKHRleHQ6IHN0cmluZyk6IFRva2VuIHtcbiAgbGV0IHRva2VuID0gZm9ybVRva2VuKHtpeDogMCwgdGV4dDogdGV4dH0pO1xuICB0b2tlbi5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5JTVBMSUNJVCk7XG4gIHJldHVybiB0b2tlbjtcbn1cblxuZnVuY3Rpb24gY2xvbmVUb2tlbih0b2tlbjogVG9rZW4pOiBUb2tlbiB7XG4gIGxldCBjbG9uZTogVG9rZW4gPSB7XG4gICAgaXg6IHRva2VuLml4LFxuICAgIG9yaWdpbmFsV29yZDogdG9rZW4ub3JpZ2luYWxXb3JkLFxuICAgIG5vcm1hbGl6ZWRXb3JkOiB0b2tlbi5ub3JtYWxpemVkV29yZCxcbiAgICBQT1M6IHRva2VuLlBPUyxcbiAgICBwcm9wZXJ0aWVzOiBbXSxcbiAgfTtcbiAgdG9rZW4ucHJvcGVydGllcy5tYXAoKHByb3BlcnR5KSA9PiBjbG9uZS5wcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpKTtcbiAgcmV0dXJuIGNsb25lO1xufVxuXG5lbnVtIFByb3BlcnRpZXMge1xuICAvLyBOb2RlIHByb3BlcnRpZXNcbiAgUk9PVCxcbiAgLy8gRVZFIHR5cGVzXG4gIENPTExFQ1RJT04sXG4gIEVOVElUWSxcbiAgQVRUUklCVVRFLFxuICBGVU5DVElPTixcbiAgUVVBTlRJVFksXG4gIFNUUklORyxcbiAgLy8gRnVuY3Rpb24gcHJvcGVydGllcyAgXG4gIE9VVFBVVCxcbiAgSU5QVVQsXG4gIEFSR1VNRU5ULFxuICBBR0dSRUdBVEUsXG4gIENBTENVTEFURSxcbiAgT1BFUkFUT1IsXG4gIC8vIFRva2VuIHByb3BlcnRpZXNcbiAgUFJPUEVSLFxuICBQTFVSQUwsXG4gIFBPU1NFU1NJVkUsXG4gIEJBQ0tSRUxBVElPTlNISVAsXG4gIENPTVBBUkFUSVZFLFxuICBTVVBFUkxBVElWRSxcbiAgUFJPTk9VTiwgIFxuICBTRVBBUkFUT1IsXG4gIENPTkpVTkNUSU9OLFxuICBRVU9URUQsXG4gIFNFVFRFUixcbiAgU1VCU1VNRUQsXG4gIENPTVBPVU5ELFxuICAvLyBNb2RpZmllcnNcbiAgTkVHQVRFUyxcbiAgR1JPVVBJTkcsXG4gIElNUExJQ0lULFxuICBTVE9QUEFSU0UsXG59XG5cbi8vIHRha2UgYW4gaW5wdXQgc3RyaW5nLCBleHRyYWN0IHRva2Vuc1xuZnVuY3Rpb24gZm9ybVRva2VuKHdvcmQ6IFdvcmQpOiBUb2tlbiB7XG4gIC8vIEV2ZXJ5IHdvcmQgaXMgdGFnZ2VkIGEgbm91biB1bmxlc3Mgc29tZSBydWxlIHNheXMgb3RoZXJ3aXNlXG4gIGxldCBQT1M6IE1pbm9yUGFydHNPZlNwZWVjaCA9IE1pbm9yUGFydHNPZlNwZWVjaC5OTjtcbiAgbGV0IHByb3BlcnRpZXM6IEFycmF5PFByb3BlcnRpZXM+ID0gW107XG4gIGxldCBvcmlnaW5hbFdvcmQgPSB3b3JkLnRleHQ7XG4gIGxldCBub3JtYWxpemVkV29yZCA9IG9yaWdpbmFsV29yZDtcbiAgbGV0IGZvdW5kID0gZmFsc2U7XG4gIFxuICBsZXQgdXBwZXJDYXNlTGV0dGVycyA9IFsnQScsJ0InLCdDJywnRCcsJ0UnLCdGJywnRycsJ0gnLCdJJywnSicsJ0snLCdMJywnTScsJ04nLCdPJywnUCcsJ1EnLCdSJywnUycsJ1QnLCdVJywnVicsJ1cnLCdYJywnWScsJ1onXTtcbiAgbGV0IGxvd2VyQ2FzZUxldHRlcnMgPSBbJ2EnLCdiJywnYycsJ2QnLCdlJywnZicsJ2cnLCdoJywnaScsJ2onLCdrJywnbCcsJ20nLCduJywnbycsJ3AnLCdxJywncicsJ3MnLCd0JywndScsJ3YnLCd3JywneCcsJ3knLCd6J107XG4gIGxldCBkaWdpdHMgPSBbJzEnLCcyJywnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOScsJzAnXTtcbiAgbGV0IHNlcGFyYXRvcnMgPSBbJywnLCc6JywnOycsJ1wiJ107XG4gIGxldCBvcGVyYXRvcnMgPSBbJysnLCctJywnKicsJy8nLCdeJ107XG4gIGxldCBjb21wYXJhdG9ycyA9IFsnPicsJz49JywnPCcsJzw9JywnPScsJyE9J107XG4gIFxuICAvLyBNb3N0IG9mIHRoZSBmb2xsb3dpbmcgdmVjdG9ycyB3ZXJlIHRha2VuIGZyb20gTkxQIENvbXByb21pc2VcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25scC1jb21wcm9taXNlL25scF9jb21wcm9taXNlXG4gIC8vIENvcHlyaWdodCAoYykgMjAxNiBTcGVuY2VyIEtlbGx5OiBcbiAgLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vbmxwLWNvbXByb21pc2UvbmxwX2NvbXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbiAgbGV0IHByZURldGVybWluZXJzID0gWydhbGwnXTtcbiAgbGV0IGRldGVybWluZXJzID0gWyd0aGlzJywgJ2FueScsICdlbm91Z2gnLCAnZWFjaCcsICdldmVyeScsICd0aGVzZScsICdhbm90aGVyJywgJ3BsZW50eScsICd3aGljaGV2ZXInLCAnbmVpdGhlcicsICdhbicsICdhJywgJ2xlYXN0JywgJ293bicsICdmZXcnLCAnYm90aCcsICd0aG9zZScsICd0aGUnLCAndGhhdCcsICd2YXJpb3VzJywgJ3doYXQnLCAnZWl0aGVyJywgJ211Y2gnLCAnc29tZScsICdlbHNlJywgJ25vJ107XG4gIGxldCBjb3B1bGFlID0gWydhbScsICdpcycsICdhcmUnLCAnd2FzJywgJ3dlcmUnLCAnYXMnLCAnYW0nLCAnYmUnLCAnaGFzJywgJ2JlY29tZScsICdiZWNhbWUnLCAnc2VlbWVkJywgJ3NlZW1zJywgJ3NlZW1pbmcnXTtcbiAgbGV0IGNvbmp1bmN0aW9ucyA9IFsneWV0JywgJ3RoZXJlZm9yZScsICdvcicsICd3aGlsZScsICdub3InLCAnd2hldGhlcicsICd0aG91Z2gnLCAnYmVjYXVzZScsICdidXQnLCAnZm9yJywgJ2FuZCcsICdpZicsICdiZWZvcmUnLCAnYWx0aG91Z2gnLCAncGx1cycsICd2ZXJzdXMnLCAnbm90J107XG4gIGxldCBwcmVwb3NpdGlvbnMgPSBbJ3dpdGgnLCAndW50aWwnLCAnb250bycsICdvZicsICdpbnRvJywgJ291dCcsICdleGNlcHQnLCAnYWNyb3NzJywgJ2J5JywgJ2JldHdlZW4nLCAnYXQnLCAnZG93bicsICdhcycsICdmcm9tJywgJ2Fyb3VuZCcsICdhbW9uZycsICd1cG9uJywgJ2FtaWQnLCAndG8nLCAnYWxvbmcnLCAnc2luY2UnLCAnYWJvdXQnLCAnb2ZmJywgJ29uJywgJ3dpdGhpbicsICdpbicsICdkdXJpbmcnLCAncGVyJywgJ3dpdGhvdXQnLCAndGhyb3VnaG91dCcsICd0aHJvdWdoJywgJ3RoYW4nLCAndmlhJywgJ3VwJywgJ3VubGlrZScsICdkZXNwaXRlJywgJ2JlbG93JywgJ3VubGVzcycsICd0b3dhcmRzJywgJ2Jlc2lkZXMnLCAnYWZ0ZXInLCAnd2hlcmVhcycsJ2Ftb25nc3QnLCAnYXRvcCcsICdiYXJyaW5nJywgJ2NpcmNhJywgJ21pZCcsICdtaWRzdCcsICdub3R3aXRoc3RhbmRpbmcnLCAnc2FucycsICd0aHJ1JywgJ3RpbGwnLCAndmVyc3VzJ107XG4gIGxldCBwb3NzZXNzaXZlUHJvbm91bnMgPSBbJ21pbmUnLCAnc29tZXRoaW5nJywgJ25vbmUnLCAnYW55dGhpbmcnLCAnYW55b25lJywgJ3RoZWlycycsICdoaW1zZWxmJywgJ291cnMnLCAnaGlzJywgJ215JywgJ3RoZWlyJywgJ3lvdXJzJywgJ3lvdXInLCAnb3VyJywgJ2l0cycsICdub3RoaW5nJywgJ2hlcnNlbGYnLCAnaGVycycsICd0aGVtc2VsdmVzJywgJ2V2ZXJ5dGhpbmcnLCAnbXlzZWxmJywgJ2l0c2VsZicsICdoZXInXTtcbiAgbGV0IHBlcnNvbmFsUHJvbm91bnMgPSBbJ2l0JywgJ3RoZXknLCAnaScsICd0aGVtJywgJ3lvdScsICdzaGUnLCAnbWUnLCAnaGUnLCAnaGltJywgJ291cnNlbHZlcycsICd1cycsICd3ZScsICd5b3Vyc2VsZiddO1xuICBsZXQgbW9kYWxzID0gWydjYW4nLCAnbWF5JywgJ2NvdWxkJywgJ21pZ2h0JywgJ3dpbGwnLCAnd291bGQnLCAnbXVzdCcsICdzaGFsbCcsICdzaG91bGQnLCAnb3VnaHQnXTtcbiAgbGV0IHdoUHJvbm91bnMgPSBbJ3dobycsICd3aGF0JywgJ3dob20nXTtcbiAgbGV0IHdoRGV0ZXJtaW5lcnMgPSBbJ3doYXRldmVyJywgJ3doaWNoJ107XG4gIGxldCB3aFBvc3Nlc3NpdmVQcm9ub3VuID0gWyd3aG9zZSddO1xuICBsZXQgd2hBZHZlcmJzID0gWydob3cnLCAnd2hlbicsICdob3dldmVyJywgJ3doZW5ldmVyJywgJ3doZXJlJywgJ3doeSddOyAgIFxuICBsZXQgdmVyYnMgPSBbJ2hhdmUnLCAnZG8nXTtcbiAgbGV0IGFkdmVyYnMgPSBbJ3RoZXJlJ107XG5cbiAgLy8gV2UgaGF2ZSB0aHJlZSBjYXNlczogdGhlIHdvcmQgaXMgYSBzeW1ib2wgKG9mIHdoaWNoIHRoZXJlIGFyZSB2YXJpb3VzIGtpbmRzKSwgYSBudW1iZXIsIG9yIGEgc3RyaW5nXG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIENhc2UgMTogaGFuZGxlIHN5bWJvbHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBpZiAoIWZvdW5kKSB7XG4gICAgaWYgKG9wZXJhdG9ycy5pbmRleE9mKG9yaWdpbmFsV29yZCkgPj0gMCkge1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuT1BFUkFUT1IpO1xuICAgICAgc3dpdGNoIChvcmlnaW5hbFdvcmQpIHtcbiAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guUExVUztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guTUlOVVM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCIqXCI6XG4gICAgICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLk1VTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIi9cIjpcbiAgICAgICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guRElWO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgIFBPUyA9IE1pbm9yUGFydHNPZlNwZWVjaC5QT1c7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb21wYXJhdG9ycy5pbmRleE9mKG9yaWdpbmFsV29yZCkgPj0gMCkge1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuQ09NUEFSQVRJVkUpO1xuICAgICAgc3dpdGNoIChvcmlnaW5hbFdvcmQpIHtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guR1Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCI+PVwiOlxuICAgICAgICAgIFBPUyA9IE1pbm9yUGFydHNPZlNwZWVjaC5HVEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLkxUO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guTFRFO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiPVwiOlxuICAgICAgICAgIFBPUyA9IE1pbm9yUGFydHNPZlNwZWVjaC5FUTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIiE9XCI6XG4gICAgICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLk5FUTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlcGFyYXRvcnMuaW5kZXhPZihvcmlnaW5hbFdvcmQpID49IDApIHtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLlNFUEFSQVRPUik7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guU0VQO1xuICAgICAgaWYgKG9yaWdpbmFsV29yZCA9PT0gYFwiYCkge1xuICAgICAgICBwcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5RVU9URUQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3JpZ2luYWxXb3JkID09PSBcIidzXCIgfHwgb3JpZ2luYWxXb3JkID09PSBcIidcIikge1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUE9TU0VTU0lWRSk7ICBcbiAgICAgIFBPUyA9IE1pbm9yUGFydHNPZlNwZWVjaC5QT1M7ICAgIFxuICAgIH1cbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIENhc2UgMjogaGFuZGxlIG51bWJlcnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBpZiAoIWZvdW5kKSB7XG4gICAgaWYgKGRpZ2l0cy5pbmRleE9mKG9yaWdpbmFsV29yZFswXSkgPj0gMCAmJiBpc051bWVyaWMob3JpZ2luYWxXb3JkKSkge1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUVVBTlRJVFkpO1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLk5VO1xuICAgIH1cbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIENhc2UgMzogaGFuZGxlIHN0cmluZ3NcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBpZiAoIWZvdW5kKSB7XG4gICAgLy8gTm9ybWFsaXplIHRoZSB3b3JkXG4gICAgbm9ybWFsaXplZFdvcmQgPSBub3JtYWxpemVkV29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBiZWZvcmUgPSBub3JtYWxpemVkV29yZDtcbiAgICBub3JtYWxpemVkV29yZCA9IHNpbmd1bGFyaXplKG5vcm1hbGl6ZWRXb3JkKTtcbiAgICBpZiAoYmVmb3JlICE9PSBub3JtYWxpemVkV29yZCkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUExVUkFMKTtcbiAgICB9XG4gICAgLy8gRmluZCB0aGUgUE9TIGluIHRoZSBkaWN0aW9uYXJ5LCBhcHBseSBzb21lIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIHdvcmRcbiAgICAvLyBEZXRlcm1pbmVyc1xuICAgIGlmIChkZXRlcm1pbmVycy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guRFQ7XG4gICAgLy8gTW9kYWxzXG4gICAgfSBlbHNlIGlmIChtb2RhbHMuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLk1EO1xuICAgIC8vIFByZWRldGVybWluZXJzXG4gICAgfSBlbHNlIGlmIChwcmVEZXRlcm1pbmVycy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guUERUO1xuICAgIC8vIENvcHVsYWVcbiAgICB9IGVsc2UgaWYgKGNvcHVsYWUuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLkNQO1xuICAgIC8vIFByZXBvc2l0aW9uc1xuICAgIH0gZWxzZSBpZiAocHJlcG9zaXRpb25zLmluZGV4T2Yobm9ybWFsaXplZFdvcmQpID49IDApIHtcbiAgICAgIFBPUyA9IE1pbm9yUGFydHNPZlNwZWVjaC5JTjtcbiAgICAvLyBQZXJzb25hbCBwcm9ub3Vuc1xuICAgIH0gZWxzZSBpZiAocGVyc29uYWxQcm9ub3Vucy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guUFJQOyBcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLlBST05PVU4pO1xuICAgIC8vIFBvc3Nlc3NpdmUgcHJvbm91bnNcbiAgICB9IGVsc2UgaWYgKHBvc3Nlc3NpdmVQcm9ub3Vucy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guUFJQOyBcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLlBST05PVU4pO1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUE9TU0VTU0lWRSk7XG4gICAgLy8gQ29uanVuY3Rpb25zXG4gICAgfSBlbHNlIGlmIChjb25qdW5jdGlvbnMuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLkNDOyBcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkNPTkpVTkNUSU9OKTtcbiAgICAvLyBXaC13b3Jkc1xuICAgIH0gZWxzZSBpZiAod2hQcm9ub3Vucy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guV1A7IFxuICAgIH0gZWxzZSBpZiAod2hEZXRlcm1pbmVycy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guV0RUOyBcbiAgICB9IGVsc2UgaWYgKHdoQWR2ZXJicy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guV1JCOyBcbiAgICB9IGVsc2UgaWYgKHdoUG9zc2Vzc2l2ZVByb25vdW4uaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLldQTztcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLlBPU1NFU1NJVkUpXG4gICAgLy8gVmVyYnMgXG4gICAgfSBlbHNlIGlmICh2ZXJicy5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA+PSAwKSB7XG4gICAgICBQT1MgPSBNaW5vclBhcnRzT2ZTcGVlY2guVkI7XG4gICAgLy8gQWR2ZXJicyBcbiAgICB9IGVsc2UgaWYgKGFkdmVyYnMuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgUE9TID0gTWlub3JQYXJ0c09mU3BlZWNoLlJCO1xuICAgIH1cbiAgICBcbiAgICAvLyBTZXQgZ3JvdXBpbmcgcHJvcGVydHlcbiAgICBsZXQgZ3JvdXBpbmdXb3JkcyA9IFsncGVyJywgJ2J5J107XG4gICAgbGV0IG5lZ2F0aW5nV29yZHMgPSBbJ2V4Y2VwdCcsICd3aXRob3V0JywgJ3NhbnMnLCAnbm90JywgJ25vcicsICduZWl0aGVyJywgJ25vJ107XG4gICAgbGV0IHBsdXJhbFdvcmRzID0gWyd0aGVpciddO1xuICAgIGlmIChncm91cGluZ1dvcmRzLmluZGV4T2Yobm9ybWFsaXplZFdvcmQpID49IDApIHtcbiAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkdST1VQSU5HKTtcbiAgICAvLyBTZXQgbmVnYXRlIHByb3BlcnR5ICAgICAgICBcbiAgICB9IGVsc2UgaWYgKG5lZ2F0aW5nV29yZHMuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuTkVHQVRFUyk7XG4gICAgLy8gU2V0IHBsdXJhbCBwcm9wZXJ0eVxuICAgIH0gZWxzZSBpZiAocGx1cmFsV29yZHMuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPj0gMCkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUExVUkFMKTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHdvcmQgaXMgc3RpbGwgYSBub3VuLCBpZiBpdCBpcyB1cHBlciBjYXNlIHRoYW4gaXQgaXMgYSBwcm9wZXIgbm91biBcbiAgICBpZiAoZ2V0TWFqb3JQT1MoUE9TKSA9PT0gTWFqb3JQYXJ0c09mU3BlZWNoLk5PVU4pIHtcbiAgICAgIGlmICh1cHBlckNhc2VMZXR0ZXJzLmluZGV4T2Yob3JpZ2luYWxXb3JkWzBdKSA+PSAwKSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLlBST1BFUik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIEJ1aWxkIHRoZSB0b2tlblxuICBsZXQgdG9rZW46IFRva2VuID0ge1xuICAgIGl4OiB3b3JkLml4LCBcbiAgICBvcmlnaW5hbFdvcmQ6IHdvcmQudGV4dCwgXG4gICAgbm9ybWFsaXplZFdvcmQ6IG5vcm1hbGl6ZWRXb3JkLFxuICAgIFBPUzogUE9TLFxuICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gIH07XG4gIHJldHVybiB0b2tlbjtcbn1cblxuZnVuY3Rpb24gZ2V0TWFqb3JQT1MobWlub3JQYXJ0T2ZTcGVlY2g6IE1pbm9yUGFydHNPZlNwZWVjaCk6IE1ham9yUGFydHNPZlNwZWVjaCB7XG4gIC8vIFJPT1RcbiAgaWYgKG1pbm9yUGFydE9mU3BlZWNoID09PSBNaW5vclBhcnRzT2ZTcGVlY2guUk9PVCkge1xuICAgIHJldHVybiBNYWpvclBhcnRzT2ZTcGVlY2guUk9PVDtcbiAgfVxuICAvLyBWZXJiXG4gIGxldCB2ZXJicyA9IFsnVkInLCdWQkQnLCdWQk4nLCdWQlAnLCdWQlonLCdWQkYnLCdWQkcnXTtcbiAgaWYgKHZlcmJzLmluZGV4T2YoTWlub3JQYXJ0c09mU3BlZWNoW21pbm9yUGFydE9mU3BlZWNoXSkgPj0gMCkge1xuICAgICAgICByZXR1cm4gTWFqb3JQYXJ0c09mU3BlZWNoLlZFUkI7XG4gIH1cbiAgLy8gQWRqZWN0aXZlXG4gIGxldCBhZGplY3RpdmVzID0gWydKSicsJ0pKUicsJ0pKUyddO1xuICBpZiAoYWRqZWN0aXZlcy5pbmRleE9mKE1pbm9yUGFydHNPZlNwZWVjaFttaW5vclBhcnRPZlNwZWVjaF0pID49IDApIHtcbiAgICAgICAgcmV0dXJuIE1ham9yUGFydHNPZlNwZWVjaC5BREpFQ1RJVkU7XG4gIH1cbiAgLy8gQWR2ZXJiXG4gIGxldCBhZHZlcmJzID0gWydSQicsJ1JCUicsJ1JCUyddO1xuICBpZiAoYWR2ZXJicy5pbmRleE9mKE1pbm9yUGFydHNPZlNwZWVjaFttaW5vclBhcnRPZlNwZWVjaF0pID49IDApIHtcbiAgICAgICAgcmV0dXJuIE1ham9yUGFydHNPZlNwZWVjaC5BRFZFUkI7XG4gIH1cbiAgLy8gTm91blxuICBsZXQgbm91bnMgPSBbJ05OJywnTk5BJywnTk5QQScsJ05OQUInLCdOTlAnLCdOTlBTJywnTk5TJywnTk5RJywnTk5PJywnTkcnLCdQUlAnLCdQUCddO1xuICBpZiAobm91bnMuaW5kZXhPZihNaW5vclBhcnRzT2ZTcGVlY2hbbWlub3JQYXJ0T2ZTcGVlY2hdKSA+PSAwKSB7XG4gICAgcmV0dXJuIE1ham9yUGFydHNPZlNwZWVjaC5OT1VOO1xuICB9XG4gIC8vIFZhbHVlXG4gIGxldCB2YWx1ZXMgPSBbJ0NEJywnREEnLCdOVSddO1xuICBpZiAodmFsdWVzLmluZGV4T2YoTWlub3JQYXJ0c09mU3BlZWNoW21pbm9yUGFydE9mU3BlZWNoXSkgPj0gMCkge1xuICAgIHJldHVybiBNYWpvclBhcnRzT2ZTcGVlY2guVkFMVUU7XG4gIH1cbiAgLy8gR2x1ZVxuICBsZXQgZ2x1ZXMgPSBbJ0ZXJywnSU4nLCdDUCcsJ01EJywnQ0MnLCdQRFQnLCdEVCcsJ1VIJywnRVgnXTtcbiAgaWYgKGdsdWVzLmluZGV4T2YoTWlub3JQYXJ0c09mU3BlZWNoW21pbm9yUGFydE9mU3BlZWNoXSkgPj0gMCkge1xuICAgIHJldHVybiBNYWpvclBhcnRzT2ZTcGVlY2guR0xVRTtcbiAgfSAgXG4gIC8vIFN5bWJvbFxuICBsZXQgc3ltYm9scyA9IFsnTFQnLCdHVCcsJ0xURScsJ0dURScsJ0VRJywnTkVRJyxcbiAgICAgICAgICAgICAgICAgJ1BMVVMnLCdNSU5VUycsJ0RJVicsJ01VTCcsJ1BPVycsXG4gICAgICAgICAgICAgICAgICdTRVAnLCdQT1MnXTtcbiAgaWYgKHN5bWJvbHMuaW5kZXhPZihNaW5vclBhcnRzT2ZTcGVlY2hbbWlub3JQYXJ0T2ZTcGVlY2hdKSA+PSAwKSB7XG4gICAgcmV0dXJuIE1ham9yUGFydHNPZlNwZWVjaC5TWU1CT0w7XG4gIH1cbiAgLy8gV2gtV29yZFxuICBsZXQgd2hXb3JkcyA9IFsnV0RUJywnV1AnLCdXUE8nLCdXUkInXTtcbiAgaWYgKHdoV29yZHMuaW5kZXhPZihNaW5vclBhcnRzT2ZTcGVlY2hbbWlub3JQYXJ0T2ZTcGVlY2hdKSA+PSAwKSB7XG4gICAgcmV0dXJuIE1ham9yUGFydHNPZlNwZWVjaC5XSFdPUkQ7XG4gIH1cbn1cblxuLy8gV3JhcCBwbHVyYWxpemUgdG8gc3BlY2lhbCBjYXNlIGNlcnRhaW4gd29yZHMgaXQgZ2V0cyB3cm9uZ1xuLy8gQEhBQ0sgZGF0YSBzaW5ndWxhcml6ZXMgdG8gZGF0dW0sIHdoaWNoIGlzIGNvcnJlY3QsIGJ1dCB3ZVxuLy8gaGF2ZSBhIGNvbGxlY3Rpb24gY2FsbGVkIHRlc3QgZGF0YSwgd2hpY2ggTkxRUCB0dXJucyBpbnRvIHRlc3QgZGF0dW1cbmV4cG9ydCBmdW5jdGlvbiBzaW5ndWxhcml6ZSh3b3JkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBzcGxpdCB3b3JkIGF0IHNwYWNlc1xuICBsZXQgd29yZHMgPSB3b3JkLnNwbGl0KFwiIFwiKTtcbiAgaWYgKHdvcmRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGxldCBzcGVjaWFsQ2FzZXMgPSBbXCJoaXNcIiwgXCJ0aW1lc1wiLCBcImhhc1wiLCBcImRvd25zdGFpcnNcIiwgXCJpdHNcIiwgXCInc1wiLCBcImRhdGFcIiwgXCJhcmVcIiwgXCJ3YXNcIl07XG4gICAgZm9yIChsZXQgc3BlY2lhbENhc2Ugb2Ygc3BlY2lhbENhc2VzKSB7XG4gICAgICBpZiAoc3BlY2lhbENhc2UgPT09IHdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHdvcmQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwbHVyYWxpemUod29yZCwgMSk7ICBcbiAgfVxuICByZXR1cm4gd29yZHMubWFwKHNpbmd1bGFyaXplKS5qb2luKFwiIFwiKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVHJlZSBmdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW50ZXJmYWNlIE5vZGUge1xuICBpeDogbnVtYmVyLFxuICB0eXBlPzogTm9kZVR5cGVzLFxuICBuYW1lOiBzdHJpbmcsXG4gIHBhcmVudDogTm9kZSxcbiAgY2hpbGRyZW46IEFycmF5PE5vZGU+LFxuICBlbnRpdHk/OiBFbnRpdHksXG4gIGNvbGxlY3Rpb24/OiBDb2xsZWN0aW9uLFxuICBhdHRyaWJ1dGU/OiBBdHRyaWJ1dGUsXG4gIGZ4bj86IEJ1aWx0SW5GdW5jdGlvbixcbiAgcXVhbnRpdHk/OiBudW1iZXIsXG4gIGNvbnN0aXR1ZW50cz86IEFycmF5PE5vZGU+LFxuICByZWxhdGlvbnNoaXBzOiBBcnJheTxSZWxhdGlvbnNoaXA+LFxuICByZXByZXNlbnRhdGlvbnM6IHtcbiAgICBjb2xsZWN0aW9uPzogQ29sbGVjdGlvbixcbiAgICBlbnRpdHk/OiBFbnRpdHksXG4gICAgYXR0cmlidXRlPzogQXR0cmlidXRlLFxuICAgIGZ4bj86IEJ1aWx0SW5GdW5jdGlvbixcbiAgfSxcbiAgdG9rZW46IFRva2VuLFxuICBmb3VuZDogYm9vbGVhbixcbiAgZm91bmRSZXBzOiBib29sZWFuLFxuICBwcm9wZXJ0aWVzOiBBcnJheTxQcm9wZXJ0aWVzPixcbiAgaGFzUHJvcGVydHkoUHJvcGVydGllcyk6IGJvb2xlYW47XG4gIHRvU3RyaW5nKG51bWJlcj86IG51bWJlcik6IHN0cmluZztcbiAgbmV4dCgpOiBOb2RlO1xuICBwcmV2KCk6IE5vZGU7XG4gIGFkZENoaWxkKG5vZGU6IE5vZGUpOiB2b2lkO1xufVxuXG5mdW5jdGlvbiBjbG9uZU5vZGUobm9kZTogTm9kZSk6IE5vZGUge1xuICBsZXQgdG9rZW4gPSBjbG9uZVRva2VuKG5vZGUudG9rZW4pO1xuICBsZXQgY2xvbmVOb2RlID0gbmV3Tm9kZSh0b2tlbik7XG4gIGNsb25lTm9kZS5lbnRpdHkgPSBub2RlLmVudGl0eTtcbiAgY2xvbmVOb2RlLmNvbGxlY3Rpb24gPSBub2RlLmNvbGxlY3Rpb247XG4gIGNsb25lTm9kZS5hdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZTtcbiAgY2xvbmVOb2RlLmZ4biA9IG5vZGUuZnhuO1xuICBjbG9uZU5vZGUuZm91bmQgPSBub2RlLmZvdW5kO1xuICBub2RlLnByb3BlcnRpZXMubWFwKChwcm9wZXJ0eSkgPT4gY2xvbmVOb2RlLnByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSkpO1xuICByZXR1cm4gY2xvbmVOb2RlO1xufVxuXG5mdW5jdGlvbiBuZXdOb2RlKHRva2VuOiBUb2tlbik6IE5vZGUge1xuICBsZXQgbm9kZTogTm9kZSA9IHtcbiAgICBpeDogdG9rZW4uaXgsXG4gICAgbmFtZTogdG9rZW4ubm9ybWFsaXplZFdvcmQsXG4gICAgcGFyZW50OiB1bmRlZmluZWQsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIHRva2VuOiB0b2tlbiwgXG4gICAgcHJvcGVydGllczogdG9rZW4ucHJvcGVydGllcyxcbiAgICByZWxhdGlvbnNoaXBzOiBbXSxcbiAgICByZXByZXNlbnRhdGlvbnM6IHtcbiAgICAgIGVudGl0eTogdW5kZWZpbmVkLFxuICAgICAgY29sbGVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgYXR0cmlidXRlOiB1bmRlZmluZWQsXG4gICAgICBmeG46IHVuZGVmaW5lZCwgIFxuICAgIH0sXG4gICAgZm91bmQ6IGZhbHNlLFxuICAgIGZvdW5kUmVwczogZmFsc2UsXG4gICAgaGFzUHJvcGVydHk6IGhhc1Byb3BlcnR5LFxuICAgIHRvU3RyaW5nOiBub2RlVG9TdHJpbmcsXG4gICAgbmV4dDogbmV4dE5vZGUsXG4gICAgcHJldjogcHJldmlvdXNOb2RlLFxuICAgIGFkZENoaWxkOiBhZGRDaGlsZCxcbiAgfTtcbiAgdG9rZW4ubm9kZSA9IG5vZGU7XG4gIGZ1bmN0aW9uIGhhc1Byb3BlcnR5KHByb3BlcnR5OiBQcm9wZXJ0aWVzKTogYm9vbGVhbiB7XG4gIGxldCBmb3VuZCA9IG5vZGUucHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KTtcbiAgaWYgKGZvdW5kICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbmV4dE5vZGUoKTogTm9kZSB7XG4gICAgbGV0IHRva2VuID0gbm9kZS50b2tlbjtcbiAgICBsZXQgbmV4dFRva2VuID0gdG9rZW4ubmV4dDtcbiAgICBpZiAobmV4dFRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXh0VG9rZW4ubm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBmdW5jdGlvbiBwcmV2aW91c05vZGUoKTogTm9kZSB7XG4gICAgbGV0IHRva2VuID0gbm9kZS50b2tlbjtcbiAgICBsZXQgcHJldlRva2VuID0gdG9rZW4ucHJldjtcbiAgICBpZiAocHJldlRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcmV2VG9rZW4ubm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBmdW5jdGlvbiBhZGRDaGlsZChuZXdDaGlsZDogTm9kZSk6IHZvaWQge1xuICAgIG5vZGUuY2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7XG4gICAgbmV3Q2hpbGQucGFyZW50ID0gbm9kZTtcbiAgfVxuICBmdW5jdGlvbiBub2RlVG9TdHJpbmcoZGVwdGg/OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXB0aCA9IDA7XG4gICAgfVxuICAgIGxldCBjaGlsZHJlblN0cmluZ3MgPSBub2RlLmNoaWxkcmVuLm1hcCgoY2hpbGROb2RlKSA9PiBjaGlsZE5vZGUudG9TdHJpbmcoZGVwdGgrMSkpLmpvaW4oXCJcXG5cIik7XG4gICAgbGV0IGNoaWxkcmVuID0gY2hpbGRyZW5TdHJpbmdzLmxlbmd0aCA+IDAgPyBcIlxcblwiICsgY2hpbGRyZW5TdHJpbmdzIDogXCJcIjtcbiAgICBsZXQgaW5kZW50ID0gQXJyYXkoZGVwdGgrMSkuam9pbihcIiBcIik7XG4gICAgbGV0IGluZGV4ID0gbm9kZS5peCA9PT0gdW5kZWZpbmVkID8gXCIrIFwiIDogYCR7bm9kZS5peH06IGA7XG4gICAgbGV0IHByb3BlcnRpZXMgPSBub2RlLnByb3BlcnRpZXMubGVuZ3RoID09PSAwID8gXCJcIiA6IGAoJHtub2RlLnByb3BlcnRpZXMubWFwKChwcm9wZXJ0eTogUHJvcGVydGllcykgPT4gUHJvcGVydGllc1twcm9wZXJ0eV0pLmpvaW4oXCJ8XCIpfSlgO1xuICAgIGxldCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGBbJHtub2RlLmF0dHJpYnV0ZS52YXJpYWJsZX1dYDtcbiAgICBsZXQgZW50aXR5ID0gbm9kZS5lbnRpdHkgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBgWyR7bm9kZS5lbnRpdHkuZGlzcGxheU5hbWV9XWA7XG4gICAgbGV0IGNvbGxlY3Rpb24gPSBub2RlLmNvbGxlY3Rpb24gPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBgWyR7bm9kZS5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfV1gO1xuICAgIGxldCBmeG4gPSBub2RlLmZ4biA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGBbJHtub2RlLmZ4bi5uYW1lfV1gO1xuICAgIGxldCBmb3VuZCA9IG5vZGUuZm91bmQgPyBcIipcIiA6IFwiIFwiO1xuICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMiA/IFwiXCIgOiBwcm9wZXJ0aWVzO1xuICAgIGxldCBub2RlU3RyaW5nID0gYHwke2ZvdW5kfSR7aW5kZW50fSR7aW5kZXh9JHtub2RlLm5hbWV9ICR7ZnhufSR7ZW50aXR5fSR7Y29sbGVjdGlvbn0ke2F0dHJpYnV0ZX0gJHtwcm9wZXJ0aWVzfSR7Y2hpbGRyZW59YDsgXG4gICAgcmV0dXJuIG5vZGVTdHJpbmc7XG4gIH1cbiAgcmV0dXJuIG5vZGU7ICBcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhcmlvdXMgbm9kZSBtYW5pcHVsYXRpb24gZnVuY3Rpb25zXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBSZW1vdmVzIHRoZSBub2RlIGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgdHJlZSwgXG4vLyBhbmQgbWFrZXMgaXQgYSBjaGlsZCBvZiB0aGUgdGFyZ2V0IG5vZGVcbmZ1bmN0aW9uIHJlcm9vdChub2RlOiBOb2RlLCB0YXJnZXQ6IE5vZGUpOiB2b2lkIHtcbiAgbm9kZS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKG5vZGUucGFyZW50LmNoaWxkcmVuLmluZGV4T2Yobm9kZSksMSk7ICBcbiAgdGFyZ2V0LmFkZENoaWxkKG5vZGUpO1xufVxuXG4vLyBSZW1vdmVzIGEgbm9kZSBmcm9tIHRoZSB0cmVlXG4vLyBUaGUgbm9kZSdzIGNoaWxkcmVuIGdldCBhZGRlZCB0byBpdHMgcGFyZW50XG4vLyByZXR1cm5zIHRoZSBub2RlIG9yIHVuZGVmaW5lZCBpZiB0aGUgb3BlcmF0aW9uIGZhaWxlZFxuZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlOiBOb2RlKTogTm9kZSB7XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUk9PVCkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChub2RlLnBhcmVudCA9PT0gdW5kZWZpbmVkICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBsZXQgY2hpbGRyZW46IEFycmF5PE5vZGU+ID0gbm9kZS5jaGlsZHJlbjtcbiAgbGV0IHBhcmVudDogTm9kZSA9IG5vZGUucGFyZW50O1xuICAvLyBSZXdpcmVcbiAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcGFyZW50LmNoaWxkcmVuID0gcGFyZW50LmNoaWxkcmVuLmNvbmNhdChjaGlsZHJlbik7XG4gICAgcGFyZW50LmNoaWxkcmVuLnNvcnQoKGEsYikgPT4gYS5peCAtIGIuaXgpO1xuICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmNoaWxkcmVuLmluZGV4T2Yobm9kZSksMSk7XG4gICAgY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gY2hpbGQucGFyZW50ID0gcGFyZW50KTtcbiAgICBpZiAocGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVJHVU1FTlQpKSB7XG4gICAgICBpZiAocGFyZW50LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJlbnQuZm91bmQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gR2V0IHJpZCBvZiByZWZlcmVuY2VzIG9uIGN1cnJlbnQgbm9kZVxuICBub2RlLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgbm9kZS5jaGlsZHJlbiA9IFtdO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQnJhbmNoKG5vZGU6IE5vZGUpOiBOb2RlIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpLDEpO1xuICAgIG5vZGUucGFyZW50ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBub2RlOyAgXG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLy8gUmV0dXJucyB0aGUgZmlyc3QgYW5jZXN0b3Igbm9kZSB0aGF0IGhhcyBiZWVuIGZvdW5kXG5mdW5jdGlvbiBwcmV2aW91c2x5TWF0Y2hlZChub2RlOiBOb2RlLCBpZ25vcmVGdW5jdGlvbnM/OiBib29sZWFuKTogTm9kZSB7XG4gIGlmIChpZ25vcmVGdW5jdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgIGlnbm9yZUZ1bmN0aW9ucyA9IGZhbHNlO1xuICB9XG4gIGlmIChub2RlLnBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmICghaWdub3JlRnVuY3Rpb25zICYmIFxuICAgICAgICAgICAgIChub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlNFVFRFUikgfHxcbiAgICAgICAgICAgICAobm9kZS5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5GVU5DVElPTikgJiYgIW5vZGUucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09OSlVOQ1RJT04pKSkpICB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkVOVElUWSkgfHxcbiAgICAgICAgICAgICBub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFUVFJJQlVURSkgfHxcbiAgICAgICAgICAgICBub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pKSB7XG4gICAgcmV0dXJuIG5vZGUucGFyZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcmV2aW91c2x5TWF0Y2hlZChub2RlLnBhcmVudCxpZ25vcmVGdW5jdGlvbnMpO1xuICB9XG59XG5cbi8vIFJldHVybnMgdGhlIGZpcnN0IGFuY2VzdG9yIG5vZGUgdGhhdCBoYXMgYmVlbiBmb3VuZFxuZnVuY3Rpb24gcHJldmlvdXNseU1hdGNoZWRFbnRpdHlPckNvbGxlY3Rpb24obm9kZTogTm9kZSwgaWdub3JlRnVuY3Rpb25zPzogYm9vbGVhbik6IE5vZGUge1xuICBpZiAoaWdub3JlRnVuY3Rpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICBpZ25vcmVGdW5jdGlvbnMgPSBmYWxzZTtcbiAgfVxuICBpZiAobm9kZS5wYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAoIWlnbm9yZUZ1bmN0aW9ucyAmJiBcbiAgICAgICAgICAgICAobm9kZS5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5TRVRURVIpIHx8XG4gICAgICAgICAgICAgKG5vZGUucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRlVOQ1RJT04pICYmICFub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTkpVTkNUSU9OKSkpKSAge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAobm9kZS5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5FTlRJVFkpIHx8XG4gICAgICAgICAgICAgbm9kZS5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5DT0xMRUNUSU9OKSkge1xuICAgIHJldHVybiBub2RlLnBhcmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcHJldmlvdXNseU1hdGNoZWRFbnRpdHlPckNvbGxlY3Rpb24obm9kZS5wYXJlbnQsaWdub3JlRnVuY3Rpb25zKTtcbiAgfVxufVxuXG4vLyBSZXR1cm5zIHRoZSBmaXJzdCBhbmNlc3RvciBub2RlIHRoYXQgaGFzIGJlZW4gZm91bmRcbmZ1bmN0aW9uIHByZXZpb3VzbHlNYXRjaGVkQXR0cmlidXRlKG5vZGU6IE5vZGUsIGlnbm9yZUZ1bmN0aW9ucz86IGJvb2xlYW4pOiBOb2RlIHtcbiAgaWYgKGlnbm9yZUZ1bmN0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWdub3JlRnVuY3Rpb25zID0gZmFsc2U7XG4gIH1cbiAgaWYgKG5vZGUucGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKCFpZ25vcmVGdW5jdGlvbnMgJiYgXG4gICAgICAgICAgICAgKG5vZGUucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuU0VUVEVSKSB8fFxuICAgICAgICAgICAgIChub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkZVTkNUSU9OKSAmJiAhbm9kZS5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5DT05KVU5DVElPTikpKSkgIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKG5vZGUucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSkge1xuICAgIHJldHVybiBub2RlLnBhcmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcHJldmlvdXNseU1hdGNoZWRBdHRyaWJ1dGUobm9kZS5wYXJlbnQsaWdub3JlRnVuY3Rpb25zKTtcbiAgfVxufVxuXG4vLyBJbnNlcnRzIGEgbm9kZSBhZnRlciB0aGUgdGFyZ2V0LCBtb3ZpbmcgYWxsIG9mIHRoZVxuLy8gdGFyZ2V0J3MgY2hpbGRyZW4gdG8gdGhlIG5vZGVcbi8vIEJlZm9yZTogW1RhcmdldF0gLT4gW0NoaWxkcmVuXVxuLy8gQWZ0ZXI6ICBbVGFyZ2V0XSAtPiBbTm9kZV0gLT4gW0NoaWxkcmVuXVxuZnVuY3Rpb24gaW5zZXJ0QWZ0ZXJOb2RlKG5vZGU6IE5vZGUsIHRhcmdldDogTm9kZSk6IHZvaWQge1xuICBub2RlLnBhcmVudCA9IHRhcmdldDtcbiAgbm9kZS5jaGlsZHJlbiA9IHRhcmdldC5jaGlsZHJlbjtcbiAgdGFyZ2V0LmNoaWxkcmVuLm1hcCgobikgPT4gbi5wYXJlbnQgPSBub2RlKTtcbiAgdGFyZ2V0LmNoaWxkcmVuID0gW25vZGVdO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmVOb2RlKG5vZGU6IE5vZGUsIHRhcmdldDogTm9kZSk6IHZvaWQge1xuICBsZXQgcGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgaWYgKHBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcGFyZW50LmFkZENoaWxkKG5vZGUpO1xuICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGFyZ2V0KSwxKTtcbiAgICBub2RlLmFkZENoaWxkKHRhcmdldCk7XG4gIH1cbn1cblxuLy8gRmluZCBhbGwgbGVhZiBub2RlcyBzdGVtbWluZyBmcm9tIGEgZ2l2ZW4gbm9kZVxuZnVuY3Rpb24gZmluZExlYWZOb2Rlcyhub2RlOiBOb2RlKTogQXJyYXk8Tm9kZT4ge1xuICBpZihub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbbm9kZV07XG4gIH1cbiAgZWxzZSB7XG4gICAgbGV0IGZvdW5kTGVhZnMgPSBub2RlLmNoaWxkcmVuLm1hcChmaW5kTGVhZk5vZGVzKTtcbiAgICBsZXQgZmxhdExlYWZzID0gZmxhdHRlbk5lc3RlZEFycmF5KGZvdW5kTGVhZnMpO1xuICAgIHJldHVybiBmbGF0TGVhZnM7XG4gIH1cbn0gXG5cbi8qZnVuY3Rpb24gbW92ZU5vZGUobm9kZTogTm9kZSwgdGFyZ2V0OiBOb2RlKTogdm9pZCB7XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUk9PVCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpLDEpO1xuICBwYXJlbnQuY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGRyZW4uY29uY2F0KG5vZGUuY2hpbGRyZW4pO1xuICBub2RlLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnBhcmVudCA9IHBhcmVudCk7XG4gIG5vZGUuY2hpbGRyZW4gPSBbXTtcbiAgbm9kZS5wYXJlbnQgPSB0YXJnZXQ7XG4gIHRhcmdldC5jaGlsZHJlbi5wdXNoKG5vZGUpO1xufSovXG5cbi8vIEZpbmRzIGEgcGFyZW50IG5vZGUgd2l0aCB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LCBcbi8vIHJldHVybnMgdW5kZWZpbmVkIGlmIG5vIG5vZGUgd2FzIGZvdW5kXG5mdW5jdGlvbiBmaW5kUGFyZW50V2l0aFByb3BlcnR5KG5vZGU6IE5vZGUsIHByb3BlcnR5OiBQcm9wZXJ0aWVzKTogTm9kZSB7XG4gIGlmIChub2RlLnBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICAgZWxzZSBpZiAobm9kZS5wYXJlbnQuaGFzUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgcmV0dXJuIG5vZGUucGFyZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kUGFyZW50V2l0aFByb3BlcnR5KG5vZGUucGFyZW50LHByb3BlcnR5KTtcbiAgfSBcbn1cblxuLy8gRmluZHMgYSBwYXJlbnQgbm9kZSB3aXRoIHRoZSBzcGVjaWZpZWQgcHJvcGVydHksIFxuLy8gcmV0dXJucyB1bmRlZmluZWQgaWYgbm8gbm9kZSB3YXMgZm91bmRcbmZ1bmN0aW9uIGZpbmRDaGlsZFdpdGhQcm9wZXJ0eShub2RlOiBOb2RlLCBwcm9wZXJ0eTogUHJvcGVydGllcyk6IE5vZGUge1xuICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KHByb3BlcnR5KSkge1xuICAgIHJldHVybiBub2RlO1xuICB9IGVsc2Uge1xuICAgIGxldCBjaGlsZHJlbldpdGhQcm9wZXJ0eSA9IG5vZGUuY2hpbGRyZW4uZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQuaGFzUHJvcGVydHkocHJvcGVydHkpKTtcbiAgICBpZiAoY2hpbGRyZW5XaXRoUHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGNoaWxkcmVuV2l0aFByb3BlcnR5WzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gZmluZENoaWxkV2l0aFByb3BlcnR5KGNoaWxkLHByb3BlcnR5KSkuZmlsdGVyKChyZXN1bHQpID0+IHJlc3VsdCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF07XG4gICAgICB9XG4gICAgfVxuICB9IFxufVxuXG4vLyBGaW5kcyBhIHBhcmVudCBub2RlIHdpdGggdGhlIHNwZWNpZmllZCBQT1MsIFxuLy8gcmV0dXJucyB1bmRlZmluZWQgaWYgbm8gbm9kZSB3YXMgZm91bmRcbmZ1bmN0aW9uIGZpbmRQYXJlbnRXaXRoUE9TKG5vZGU6IE5vZGUsIG1ham9yUE9TOiBNYWpvclBhcnRzT2ZTcGVlY2gpOiBOb2RlIHtcbiAgaWYgKGdldE1ham9yUE9TKG5vZGUudG9rZW4uUE9TKSA9PT0gTWFqb3JQYXJ0c09mU3BlZWNoLlJPT1QpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChnZXRNYWpvclBPUyhub2RlLnBhcmVudC50b2tlbi5QT1MpID09PSBtYWpvclBPUykge1xuICAgIHJldHVybiBub2RlLnBhcmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmluZFBhcmVudFdpdGhQT1Mobm9kZS5wYXJlbnQsbWFqb3JQT1MpO1xuICB9IFxufVxuXG4vKlxuLy8gU2V0cyBub2RlIHRvIGJlIGEgc2libGluZyBvZiBpdHMgcGFyZW50XG4vLyBCZWZvcmU6IFtHcmFuZHBhcmVudF0gLT4gW1BhcmVudF0gLT4gW05vZGVdIFxuLy8gQWZ0ZXI6ICBbR3JhbmRwYXJlbnRdIC0+IFtQYXJlbnRdXG4vLyAgICAgICAgICAgICAgICAgICAgICAgLT4gW05vZGVdXG5mdW5jdGlvbiBwcm9tb3RlTm9kZShub2RlOiBOb2RlKTogdm9pZCB7XG4gIGlmIChub2RlLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlJPT1QpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBuZXdTaWJsaW5nID0gbm9kZS5wYXJlbnQ7XG4gIGxldCBuZXdQYXJlbnQgPSBuZXdTaWJsaW5nLnBhcmVudDtcbiAgLy8gU2V0IHBhcmVudFxuICBub2RlLnBhcmVudCA9IG5ld1BhcmVudDtcbiAgLy8gUmVtb3ZlIG5vZGUgZnJvbSBwYXJlbnQncyBjaGlsZHJlblxuICBuZXdTaWJsaW5nLmNoaWxkcmVuLnNwbGljZShuZXdTaWJsaW5nLmNoaWxkcmVuLmluZGV4T2Yobm9kZSksMSk7XG4gIC8vIEFkZCBub2RlIHRvIG5ldyBwYXJlbnQncyBjaGlsZHJlblxuICBuZXdQYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbn0qL1xuXG4vLyBNYWtlcyB0aGUgbm9kZSdzIHBhcmVudCBhIGNoaWxkIG9mIHRoZSBub2RlLlxuLy8gVGhlIG5vZGUncyBncmFuZHBhcmVudCBpcyB0aGVuIHRoZSBub2RlJ3MgcGFyZW50XG4vLyBCZWZvcmU6IFtHcmFuZHBhcmVudF0gLT4gW1BhcmVudF0gLT4gW05vZGVdXG4vLyBBZnRlcjogW0dyYW5kcGFyZW5dIC0+IFtOb2RlXSAtPiBbUGFyZW50XVxuZnVuY3Rpb24gbWFrZVBhcmVudENoaWxkKG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAvLyBEbyBub3Qgc3dhcCB3aXRoIHJvb3RcbiAgaWYgKHBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlJPT1QpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFNldCBwYXJlbnRzXG4gIG5vZGUucGFyZW50ID0gcGFyZW50LnBhcmVudFxuICBwYXJlbnQucGFyZW50ID0gbm9kZTtcbiAgLy8gUmVtb3ZlIG5vZGUgYXMgYSBjaGlsZCBmcm9tIHBhcmVudFxuICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpLDEpO1xuICAvLyBTZXQgY2hpbGRyZW5cbiAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4uY29uY2F0KHBhcmVudCk7XG4gIG5vZGUucGFyZW50LmNoaWxkcmVuLnB1c2gobm9kZSk7XG4gIG5vZGUucGFyZW50LmNoaWxkcmVuLnNwbGljZShub2RlLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHBhcmVudCksMSk7XG59XG5cblxuLy8gU3dhcHMgYSBub2RlIHdpdGggaXRzIHBhcmVudC4gVGhlIG5vZGUncyBwYXJlbnRcbi8vIGlzIHRoZW4gdGhlIHBhcmVudCdzIHBhcmVudCwgYW5kIGl0cyBjaGlsZCBpcyB0aGUgcGFyZW50LlxuLy8gVGhlIHBhcmVudCBnZXRzIHRoZSBub2RlJ3MgY2hpbGRyZW5cbmZ1bmN0aW9uIHN3YXBXaXRoUGFyZW50KG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50O1xuICBsZXQgcHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gIGlmIChwYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5ST09UKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBwYXJlbnQucGFyZW50ID0gbm9kZTtcbiAgcGFyZW50LmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbjtcbiAgcHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHBhcmVudCksMSk7XG4gIG5vZGUucGFyZW50ID0gcHBhcmVudDtcbiAgbm9kZS5jaGlsZHJlbiA9IFtwYXJlbnRdO1xuICBwcGFyZW50LmNoaWxkcmVuLnB1c2gobm9kZSk7XG59XG5cbmludGVyZmFjZSBDb250ZXh0IHtcbiAgZW50aXRpZXM6IEFycmF5PE5vZGU+LFxuICBjb2xsZWN0aW9uczogQXJyYXk8Tm9kZT4sXG4gIGF0dHJpYnV0ZXM6IEFycmF5PE5vZGU+LFxuICBmeG5zOiBBcnJheTxOb2RlPixcbiAgZ3JvdXBpbmdzOiBBcnJheTxOb2RlPixcbiAgcmVsYXRpb25zaGlwczogQXJyYXk8UmVsYXRpb25zaGlwPixcbiAgZm91bmQ6IEFycmF5PE5vZGU+LFxuICBhcmd1bWVudHM6IEFycmF5PE5vZGU+LFxuICBtYXliZUVudGl0aWVzOiBBcnJheTxOb2RlPixcbiAgbWF5YmVBdHRyaWJ1dGVzOiBBcnJheTxOb2RlPixcbiAgbWF5YmVDb2xsZWN0aW9uczogQXJyYXk8Tm9kZT4sXG4gIG1heWJlRnVuY3Rpb25zOiBBcnJheTxOb2RlPixcbiAgbWF5YmVBcmd1bWVudHM6IEFycmF5PE5vZGU+LFxuICBpbnRlcm5hbEZ4bnM6IEFycmF5PE5vZGU+LFxuICBub2RlczogQXJyYXk8Tm9kZT4sXG4gIHN0YXRlRmxhZ3M6IHtsaXN0OiBib29sZWFuLCBpbnNlcnQ6IGJvb2xlYW59LFxufVxuXG5cblxuZnVuY3Rpb24gbmV3Q29udGV4dCgpOiBDb250ZXh0IHtcbiAgcmV0dXJuIHtcbiAgICBlbnRpdGllczogW10sXG4gICAgY29sbGVjdGlvbnM6IFtdLFxuICAgIGF0dHJpYnV0ZXM6IFtdLFxuICAgIGZ4bnM6IFtdLFxuICAgIGdyb3VwaW5nczogW10sXG4gICAgcmVsYXRpb25zaGlwczogW10sXG4gICAgZm91bmQ6IFtdLFxuICAgIGFyZ3VtZW50czogW10sXG4gICAgbWF5YmVFbnRpdGllczogW10sXG4gICAgbWF5YmVBdHRyaWJ1dGVzOiBbXSxcbiAgICBtYXliZUNvbGxlY3Rpb25zOiBbXSxcbiAgICBtYXliZUZ1bmN0aW9uczogW10sXG4gICAgbWF5YmVBcmd1bWVudHM6IFtdLFxuICAgIGludGVybmFsRnhuczogW10sXG4gICAgbm9kZXM6IFtdLFxuICAgIHN0YXRlRmxhZ3M6IHtsaXN0OiBmYWxzZSwgaW5zZXJ0OiBmYWxzZX0sXG4gIH07XG59XG5cbmV4cG9ydCBlbnVtIEZ1bmN0aW9uVHlwZXMge1xuICBGSUxURVIsXG4gIEFHR1JFR0FURSxcbiAgQk9PTEVBTixcbiAgQ0FMQ1VMQVRFLFxuICBJTlNFUlQsXG4gIFNFTEVDVCxcbiAgR1JPVVAsXG4gIE5FR0FURSxcbn1cblxuaW50ZXJmYWNlIEJ1aWx0SW5GdW5jdGlvbiB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZTogRnVuY3Rpb25UeXBlcyxcbiAgYXR0cmlidXRlPzogc3RyaW5nLFxuICBmaWVsZHM6IEFycmF5PEZ1bmN0aW9uRmllbGQ+LFxuICBwcm9qZWN0OiBib29sZWFuLFxuICBuZWdhdGVkPzogYm9vbGVhbixcbiAgbm9kZT86IE5vZGUsXG4gIHByb2plY3RlZEFzPzogc3RyaW5nLFxufVxuXG5pbnRlcmZhY2UgRnVuY3Rpb25GaWVsZCB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZXM6IEFycmF5PFByb3BlcnRpZXM+LFxufVxuXG5mdW5jdGlvbiBzdHJpbmdUb0Z1bmN0aW9uKHdvcmQ6IHN0cmluZyk6IEJ1aWx0SW5GdW5jdGlvbiB7XG4gIGxldCBhbGwgPSBbUHJvcGVydGllcy5FTlRJVFksIFByb3BlcnRpZXMuQVRUUklCVVRFLCBQcm9wZXJ0aWVzLkNPTExFQ1RJT04sIFByb3BlcnRpZXMuRlVOQ1RJT04sIFByb3BlcnRpZXMuUk9PVF07XG4gIGxldCBDRkEgPSBbUHJvcGVydGllcy5DT0xMRUNUSU9OLCBQcm9wZXJ0aWVzLkZVTkNUSU9OLCBQcm9wZXJ0aWVzLkFUVFJJQlVURV07XG4gIGxldCBmaWx0ZXJGaWVsZHMgPSBbe25hbWU6IFwiYVwiLCB0eXBlczogW1Byb3BlcnRpZXMuQVRUUklCVVRFLCBQcm9wZXJ0aWVzLlFVQU5USVRZXX0sIFxuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOlwiYlwiLCB0eXBlczogW1Byb3BlcnRpZXMuQVRUUklCVVRFLCBQcm9wZXJ0aWVzLlFVQU5USVRZXX1cbiAgICAgICAgICAgICAgICAgICAgIF07XG4gIGxldCBjYWxjdWxhdGVGaWVsZHMgPSBbe25hbWU6IFwicmVzdWx0XCIsIHR5cGVzOiBbUHJvcGVydGllcy5PVVRQVVRdfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6IFwiYVwiLCB0eXBlczogW1Byb3BlcnRpZXMuQVRUUklCVVRFLCBQcm9wZXJ0aWVzLlFVQU5USVRZXX0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOlwiYlwiLCB0eXBlczogW1Byb3BlcnRpZXMuQVRUUklCVVRFLCBQcm9wZXJ0aWVzLlFVQU5USVRZXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gIHN3aXRjaCAod29yZCkge1xuICAgIGNhc2UgXCJhZnRlclwiOlxuICAgIGNhc2UgXCI+XCI6XG4gICAgICByZXR1cm4ge25hbWU6IFwiPlwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkZJTFRFUiwgZmllbGRzOiBmaWx0ZXJGaWVsZHMsIHByb2plY3Q6IGZhbHNlfTtcbiAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgY2FzZSBcIjxcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCI8XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuRklMVEVSLCBmaWVsZHM6IGZpbHRlckZpZWxkcywgcHJvamVjdDogZmFsc2V9O1xuICAgIGNhc2UgXCI+PVwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIj49XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuRklMVEVSLCBmaWVsZHM6IGZpbHRlckZpZWxkcywgcHJvamVjdDogZmFsc2V9O1xuICAgIGNhc2UgXCI8PVwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIjw9XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuRklMVEVSLCBmaWVsZHM6IGZpbHRlckZpZWxkcywgcHJvamVjdDogZmFsc2V9O1xuICAgIGNhc2UgXCI9XCI6XG4gICAgICByZXR1cm4ge25hbWU6IFwiPVwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkZJTFRFUiwgZmllbGRzOiBmaWx0ZXJGaWVsZHMsIHByb2plY3Q6IGZhbHNlfTtcbiAgICBjYXNlIFwiIT1cIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCIhPVwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkZJTFRFUiwgZmllbGRzOiBmaWx0ZXJGaWVsZHMsIHByb2plY3Q6IGZhbHNlfTsgICAgIFxuICAgIGNhc2UgXCJ0YWxsZXJcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCI+XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuRklMVEVSLCBhdHRyaWJ1dGU6IFwiaGVpZ2h0XCIsIGZpZWxkczogZmlsdGVyRmllbGRzLCBwcm9qZWN0OiBmYWxzZX07XG4gICAgY2FzZSBcInNob3J0ZXJcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCI8XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuRklMVEVSLCBhdHRyaWJ1dGU6IFwibGVuZ3RoXCIsIGZpZWxkczogZmlsdGVyRmllbGRzLCBwcm9qZWN0OiBmYWxzZX07XG4gICAgY2FzZSBcImxvbmdlclwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIj5cIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5GSUxURVIsIGF0dHJpYnV0ZTogXCJsZW5ndGhcIiwgZmllbGRzOiBmaWx0ZXJGaWVsZHMsIHByb2plY3Q6IGZhbHNlfTtcbiAgICBjYXNlIFwieW91bmdlclwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIjxcIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5GSUxURVIsIGF0dHJpYnV0ZTogXCJhZ2VcIiwgZmllbGRzOiBmaWx0ZXJGaWVsZHMsIHByb2plY3Q6IGZhbHNlfTtcbiAgICBjYXNlIFwiJlwiOlxuICAgIGNhc2UgXCJhbmRcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCJhbmRcIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5CT09MRUFOLCBmaWVsZHM6IFtdLCBwcm9qZWN0OiBmYWxzZX07XG4gICAgY2FzZSBcIm9yXCI6XG4gICAgICByZXR1cm4ge25hbWU6IFwib3JcIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5CT09MRUFOLCBmaWVsZHM6IFtdLCBwcm9qZWN0OiBmYWxzZX07XG4gICAgY2FzZSBcInRvdGFsXCI6XG4gICAgY2FzZSBcInN1bVwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcInN1bVwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkFHR1JFR0FURSwgZmllbGRzOiBbe25hbWU6IFwic3VtXCIsIHR5cGVzOiBbUHJvcGVydGllcy5PVVRQVVRdfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6IFwidmFsdWVcIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLkFUVFJJQlVURV19XSwgcHJvamVjdDogdHJ1ZSwgcHJvamVjdGVkQXM6IFwic3VtXCJ9O1xuICAgIGNhc2UgXCJjb3VudFwiOlxuICAgIGNhc2UgXCJudW1iZXIgb2ZcIjpcbiAgICBjYXNlIFwiY291bnQgdGhlIG51bWJlciBvZlwiOlxuICAgIGNhc2UgXCJjb3VudCBudW1iZXIgb2ZcIjpcbiAgICBjYXNlIFwiaG93IG1hbnlcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCJjb3VudFwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkFHR1JFR0FURSwgZmllbGRzOiBbe25hbWU6IFwiY291bnRcIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLk9VVFBVVF19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6IFwicm9vdFwiLCB0eXBlczogYWxsfV0sIHByb2plY3Q6IHRydWUsIHByb2plY3RlZEFzOiBcImNvdW50XCJ9O1xuXG4gICAgY2FzZSBcImF2ZXJhZ2VcIjpcbiAgICBjYXNlIFwiYXZnXCI6XG4gICAgY2FzZSBcIm1lYW5cIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCJhdmVyYWdlXCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuQUdHUkVHQVRFLCBmaWVsZHM6IFt7bmFtZTogXCJhdmVyYWdlXCIsIHR5cGVzOiBbUHJvcGVydGllcy5PVVRQVVRdfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiBcInZhbHVlXCIsIHR5cGVzOiBbUHJvcGVydGllcy5BVFRSSUJVVEVdfV0sIHByb2plY3Q6IHRydWUsIHByb2plY3RlZEFzOiBcImF2ZXJhZ2VcIn07XG4gICAgY2FzZSBcInBsdXNcIjpcbiAgICBjYXNlIFwiYWRkXCI6XG4gICAgY2FzZSBcIitcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCIrXCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuQ0FMQ1VMQVRFLCBmaWVsZHM6IGNhbGN1bGF0ZUZpZWxkcywgcHJvamVjdDogdHJ1ZSwgcHJvamVjdGVkQXM6IFwiK1wifTtcbiAgICBjYXNlIFwic3VidHJhY3RcIjpcbiAgICBjYXNlIFwibWludXNcIjpcbiAgICBjYXNlIFwiLVwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIi1cIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5DQUxDVUxBVEUsIGZpZWxkczogY2FsY3VsYXRlRmllbGRzLCBwcm9qZWN0OiB0cnVlLCBwcm9qZWN0ZWRBczogXCItXCJ9O1xuICAgIGNhc2UgXCJ0aW1lc1wiOlxuICAgIGNhc2UgXCJtdWx0aXBseVwiOlxuICAgIGNhc2UgXCJtdWx0aXBsaWVkXCI6XG4gICAgY2FzZSBcIm11bHRpcGxpZWQgYnlcIjpcbiAgICBjYXNlIFwiKlwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIipcIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5DQUxDVUxBVEUsIGZpZWxkczogY2FsY3VsYXRlRmllbGRzLCBwcm9qZWN0OiB0cnVlLCBwcm9qZWN0ZWRBczogXCIqXCJ9O1xuICAgIGNhc2UgXCJkaXZpZGVcIjpcbiAgICBjYXNlIFwiZGl2aWRlZFwiOlxuICAgIGNhc2UgXCJkaXZpZGVkIGJ5XCI6XG4gICAgY2FzZSBcIi9cIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCIvXCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuQ0FMQ1VMQVRFLCBmaWVsZHM6IGNhbGN1bGF0ZUZpZWxkcywgcHJvamVjdDogdHJ1ZSwgcHJvamVjdGVkQXM6IFwiL1wifTtcbiAgICBjYXNlIFwiXlwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIl5cIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5DQUxDVUxBVEUsIGZpZWxkczogY2FsY3VsYXRlRmllbGRzLCBwcm9qZWN0OiB0cnVlLCBwcm9qZWN0ZWRBczogXCJeXCJ9O1xuICAgIGNhc2UgXCJpc1wiOlxuICAgIGNhc2UgXCJpcyBhXCI6XG4gICAgY2FzZSBcImlzIGFuXCI6XG4gICAgICByZXR1cm4ge25hbWU6IFwiaW5zZXJ0XCIsIHR5cGU6IEZ1bmN0aW9uVHlwZXMuSU5TRVJULCBmaWVsZHM6IFt7bmFtZTogXCJlbnRpdHlcIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLkVOVElUWV19LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogXCJhdHRyaWJ1dGVcIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLkFUVFJJQlVURV19LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogXCJyb290XCIsIHR5cGVzOiBhbGx9XSwgcHJvamVjdDogZmFsc2V9O1xuICAgIC8qY2FzZSBcImFyZVwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcImluc2VydFwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLklOU0VSVCwgZmllbGRzOiBbe25hbWU6IFwiY29sbGVjdGlvblwiLCB0eXBlczogW1Byb3BlcnRpZXMuQ09MTEVDVElPTl19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiBcImNvbGxlY3Rpb25cIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLkNPTExFQ1RJT05dfV0sIHByb2plY3Q6IGZhbHNlfTsqLyBcbiAgICBjYXNlIFwiaGlzXCI6XG4gICAgY2FzZSBcImhlcnNcIjpcbiAgICBjYXNlIFwidGhlaXJcIjpcbiAgICBjYXNlIFwiaXRzXCI6XG4gICAgY2FzZSBcIidzXCI6XG4gICAgY2FzZSBcIidcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCJzZWxlY3RcIiwgdHlwZTogRnVuY3Rpb25UeXBlcy5TRUxFQ1QsIGZpZWxkczogW3tuYW1lOiBcInN1YmplY3RcIiwgdHlwZXM6IFtQcm9wZXJ0aWVzLkVOVElUWSwgUHJvcGVydGllcy5DT0xMRUNUSU9OLCBQcm9wZXJ0aWVzLkFUVFJJQlVURV19XSwgcHJvamVjdDogZmFsc2V9OyBcbiAgICBjYXNlIFwiYnlcIjpcbiAgICBjYXNlIFwiZ3JvdXBlZCBieVwiOlxuICAgIGNhc2UgXCJwZXJcIjpcbiAgICAgIHJldHVybiB7bmFtZTogXCJncm91cFwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLkdST1VQLCBmaWVsZHM6IFt7bmFtZTogXCJyb290XCIsIHR5cGVzOiBhbGx9LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6IFwiY29sbGVjdGlvblwiLCB0eXBlczogW1Byb3BlcnRpZXMuQ09MTEVDVElPTiwgUHJvcGVydGllcy5BVFRSSUJVVEVdfV0sIHByb2plY3Q6IGZhbHNlfTtcbiAgICBjYXNlIFwiZXhjZXB0XCI6XG4gICAgY2FzZSBcIndpdGhvdXRcIjpcbiAgICBjYXNlIFwibm90XCI6XG4gICAgY2FzZSBcImFyZW4ndFwiOlxuICAgICAgcmV0dXJuIHtuYW1lOiBcIm5lZ2F0ZVwiLCB0eXBlOiBGdW5jdGlvblR5cGVzLk5FR0FURSwgZmllbGRzOiBbe25hbWU6IFwibmVnYXRlZFwiLCB0eXBlczogQ0ZBfV0sIHByb2plY3Q6IGZhbHNlfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSAgXG59XG5cbmZ1bmN0aW9uIGZpbmRGdW5jdGlvbihub2RlOiBOb2RlLCBjb250ZXh0OiBDb250ZXh0KTogYm9vbGVhbiB7XG4gIGxvZyhgU2VhcmNoaW5nIGZvciBmdW5jdGlvbjogJHtub2RlLm5hbWV9YCk7XG4gIGxldCBmeG4gPSBzdHJpbmdUb0Z1bmN0aW9uKG5vZGUubmFtZSk7IFxuICBpZiAoZnhuID09PSB1bmRlZmluZWQpIHsgIFxuICAgIGxvZyhgIE5vdCBGb3VuZDogJHtub2RlLm5hbWV9YCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICAvLyBJbnNlcnQgZnVuY3Rpb24gbmVlZHMgdG8gZm9sbG93IGEgcG9zc2Vzc2l2ZSBmdW5jdGlvblxuICBpZiAoZnhuLnR5cGUgPT09IEZ1bmN0aW9uVHlwZXMuSU5TRVJUICYmICFjb250ZXh0LmZvdW5kLnNvbWUoKG4pID0+IG4uaGFzUHJvcGVydHkoUHJvcGVydGllcy5QT1NTRVNTSVZFKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGxvZyhgIEZvdW5kOiAke2Z4bi5uYW1lfWApO1xuICBub2RlLmZ4biA9IGZ4bjtcbiAgZnhuLm5vZGUgPSBub2RlO1xuICAvLyBBZGQgYXJndW1lbnRzIHRvIHRoZSBub2RlXG4gIGxldCBhcmdzID0gZnhuLmZpZWxkcy5tYXAoKGZpZWxkLCBpKSA9PiB7XG4gICAgbGV0IGFyZ1Rva2VuID0gbmV3VG9rZW4oZmllbGQubmFtZSk7XG4gICAgbGV0IGFyZ05vZGUgPSBuZXdOb2RlKGFyZ1Rva2VuKTtcbiAgICBhcmdOb2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkFSR1VNRU5UKTtcbiAgICBpZiAoZnhuLnByb2plY3QgJiYgaSA9PT0gMCkge1xuICAgICAgYXJnTm9kZS5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5PVVRQVVQpO1xuICAgICAgYXJnTm9kZS5mb3VuZCA9IHRydWU7XG4gICAgICBsZXQgb3V0cHV0VG9rZW4gPSBuZXdUb2tlbihcIm91dHB1dFwiK2NvbnRleHQuZnhucy5sZW5ndGgpO1xuICAgICAgbGV0IG91dHB1dE5vZGUgPSBuZXdOb2RlKG91dHB1dFRva2VuKTtcbiAgICAgIGxldCBvdXRwdXRBdHRyaWJ1dGUgPSB7XG4gICAgICAgIGlkOiBvdXRwdXROb2RlLm5hbWUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBvdXRwdXROb2RlLm5hbWUsXG4gICAgICAgIHZhcmlhYmxlOiBvdXRwdXROb2RlLm5hbWUsXG4gICAgICAgIG5vZGU6IG91dHB1dE5vZGUsXG4gICAgICAgIHByb2plY3Q6IGZhbHNlLFxuICAgICAgfVxuICAgICAgb3V0cHV0Tm9kZS5hdHRyaWJ1dGUgPSBvdXRwdXRBdHRyaWJ1dGU7XG4gICAgICBvdXRwdXROb2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLk9VVFBVVCk7XG4gICAgICBvdXRwdXROb2RlLmZvdW5kID0gdHJ1ZTtcbiAgICAgIGFyZ05vZGUuYWRkQ2hpbGQob3V0cHV0Tm9kZSk7ICAgICAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICBhcmdOb2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLklOUFVUKTtcbiAgICB9XG4gICAgYXJnTm9kZS5wcm9wZXJ0aWVzID0gYXJnTm9kZS5wcm9wZXJ0aWVzLmNvbmNhdChmaWVsZC50eXBlcyk7XG4gICAgY29udGV4dC5hcmd1bWVudHMucHVzaChhcmdOb2RlKTtcbiAgICByZXR1cm4gYXJnTm9kZTtcbiAgfSk7XG4gIG5vZGUucHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuRlVOQ1RJT04pO1xuICBmb3IgKGxldCBhcmcgb2YgYXJncykge1xuICAgIG5vZGUuYWRkQ2hpbGQoYXJnKTtcbiAgfVxuICBub2RlLmZvdW5kID0gdHJ1ZTtcbiAgbm9kZS50eXBlID0gTm9kZVR5cGVzLkZVTkNUSU9OO1xuICBpZiAobm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5BR0dSRUdBVEUgfHwgXG4gICAgICBub2RlLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLkNBTENVTEFURSB8fFxuICAgICAgbm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5GSUxURVIpIHtcbiAgICBjb250ZXh0LmZ4bnMucHVzaChub2RlKTsgICAgICBcbiAgfVxuICBjb250ZXh0LmludGVybmFsRnhucy5wdXNoKG5vZGUpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZm9ybVRyZWUobm9kZTogTm9kZSwgdHJlZTogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IHt0cmVlOiBOb2RlLCBjb250ZXh0OiBDb250ZXh0fSB7XG4gIGxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICBsb2cobm9kZS50b1N0cmluZygpKTtcbiAgbG9nKGNvbnRleHQpO1xuICBpZiAoY29udGV4dC5ub2Rlcy5pbmRleE9mKG5vZGUpID09PSAtMSkge1xuICAgIGNvbnRleHQubm9kZXMucHVzaChub2RlKTtcbiAgfVxuICAvLyBEb24ndCBkbyBhbnl0aGluZyB3aXRoIHN1YnN1bWVkIG5vZGVzXG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuU1VCU1VNRUQpKSB7XG4gICAgbG9nKFwiU2tpcHBpbmcuLi5cIik7XG4gICAgcmV0dXJuIHt0cmVlOiB0cmVlLCBjb250ZXh0OiBjb250ZXh0fTtcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBTdGVwIDE6IEJ1aWxkIG4tZ3JhbXNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBsb2coXCJuZ3JhbXM6XCIpO1xuICBcbiAgLy8gRmxhdHRlbiB0aGUgdHJlZVxuICBsZXQgbmV4dE5vZGUgPSB0cmVlO1xuICBsZXQgbm9kZXM6IEFycmF5PE5vZGU+ID0gW107XG4gIHdoaWxlKG5leHROb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICBub2Rlcy5wdXNoKG5leHROb2RlKTtcbiAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHQoKTtcbiAgfVxuICBcbiAgLy8gQnVpbGQgbmdyYW1zXG4gIC8vIEluaXRpYWxpemUgdGhlIG5ncmFtcyB3aXRoIDEtZ3JhbXNcbiAgbGV0IG5ncmFtczogQXJyYXk8QXJyYXk8Tm9kZT4+ID0gbm9kZXMubWFwKChub2RlKSA9PiBbbm9kZV0pO1xuICAvLyBTaGlmdCBvZmYgdGhlIHJvb3Qgbm9kZVxuICBuZ3JhbXMuc2hpZnQoKTtcbiAgbGV0IG4gPSA0O1xuICBsZXQgbSA9IG5ncmFtcy5sZW5ndGg7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG4gLSAxOyBpKyspIHtcbiAgICBsZXQgbmV3TmdyYW1zOiBBcnJheTxBcnJheTxOb2RlPj4gPSBbXTtcbiAgICBmb3IgKGxldCBqID0gb2Zmc2V0OyBqIDwgbmdyYW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgdGhpc05ncmFtID0gbmdyYW1zW2pdO1xuICAgICAgbGV0IG5leHROZ3JhbSA9IG5ncmFtc1tqICsgMV07XG4gICAgICAvLyBCcmVhayBhdCB0aGUgZW5kIG9mIHRoZSBuZ3JhbXNcbiAgICAgIGlmIChuZXh0TmdyYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIEZyb20gdGhlIG5ldyBuZ3JhbVxuICAgICAgbGV0IG5ld05ncmFtID0gdGhpc05ncmFtLmNvbmNhdChbbmV4dE5ncmFtW25leHROZ3JhbS5sZW5ndGgtMV1dKTtcbiAgICAgIG5ld05ncmFtcy5wdXNoKG5ld05ncmFtKTtcbiAgICB9XG4gICAgb2Zmc2V0ID0gbmdyYW1zLmxlbmd0aDtcbiAgICBuZ3JhbXMgPSBuZ3JhbXMuY29uY2F0KG5ld05ncmFtcyk7XG4gIH1cbiAgXG4gIC8vIENoZWNrIGVhY2ggbmdyYW0gZm9yIGEgZGlzcGxheSBuYW1lXG4gIGxldCBtYXRjaGVkTmdyYW1zOiBBcnJheTxBcnJheTxOb2RlPj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IG5ncmFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBuZ3JhbSA9IG5ncmFtc1tpXTsgICAgXG4gICAgbGV0IGFsbEZvdW5kID0gbmdyYW0uZXZlcnkoKG5vZGUpID0+IG5vZGUuZm91bmQpO1xuICAgIGlmIChhbGxGb3VuZCAhPT0gdHJ1ZSkge1xuICAgICAgbGV0IGRpc3BsYXlOYW1lID0gbmdyYW0ubWFwKChub2RlKT0+bm9kZS5uYW1lKS5qb2luKFwiIFwiKS5yZXBsYWNlKC8gJy9nLCdcXCcnKTtcbiAgICAgIGxvZyhkaXNwbGF5TmFtZSlcbiAgICAgIGxldCBmb3VuZE5hbWUgPSBldmUuZmluZE9uZShcImluZGV4IG5hbWVcIix7IG5hbWU6IGRpc3BsYXlOYW1lIH0pO1xuICAgICAgLy8gSWYgdGhlIGRpc3BsYXkgbmFtZSBpcyBpbiB0aGUgc3lzdGVtLCBtYXJrIGFsbCB0aGUgbm9kZXMgYXMgZm91bmQgXG4gICAgICBpZiAoZm91bmROYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmdyYW0ubWFwKChub2RlKSA9PiBub2RlLmZvdW5kID0gdHJ1ZSk7XG4gICAgICAgIG1hdGNoZWROZ3JhbXMucHVzaChuZ3JhbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZm91bmRBdHRyaWJ1dGUgPSBldmUuZmluZE9uZShcImVudGl0eSBlYXZzXCIsIHsgYXR0cmlidXRlOiBkaXNwbGF5TmFtZSB9KTtcbiAgICAgICAgaWYgKGZvdW5kQXR0cmlidXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZ3JhbS5tYXAoKG5vZGUpID0+IG5vZGUuZm91bmQgPSB0cnVlKTtcbiAgICAgICAgICBtYXRjaGVkTmdyYW1zLnB1c2gobmdyYW0pOyAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGZ4biA9IHN0cmluZ1RvRnVuY3Rpb24oZGlzcGxheU5hbWUpO1xuICAgICAgICAgIGlmIChmeG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmdyYW0ubWFwKChub2RlKSA9PiBub2RlLmZvdW5kID0gdHJ1ZSk7XG4gICAgICAgICAgICAvLyBcImVuZ2luZWVycyBhcmUgZW1wbG95ZWVzXCIgYXNzZXJ0cyB0aGF0IGV2ZXJ5IGVuZ2luZWVyIGlzIGFsc28gYW4gZW1wbG95ZWVcbiAgICAgICAgICAgIC8vIFwiZW5naW5lZXJzIHRoYXQgYXJlIGVtcGxveWVlc1wiIGlzIGFza2luZyBmb3IgdGhlIGludGVyc2VjdGlvbiBvZiBlbmdpbmVlcnMgYW5kIGVtcGxveWVlc1xuICAgICAgICAgICAgLy8gXCJ0aGF0XCIgaXMgYSBkZXRlcm1pbmVyLCB3aGljaCBjbmFnZXMgdGhlIG1lYW5pbmcgb2YgdGhlIHNlbnRlbmNlLCBzbyB3ZSBwcmV2ZW50IFxuICAgICAgICAgICAgLy8gYW4gaW5zZXJ0IHVzaW5nIHRoaXMgaGV1cmlzdGljIFxuICAgICAgICAgICAgaWYgKGZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLklOU0VSVCAmJiBcbiAgICAgICAgICAgICAgICAobmdyYW1bMF0ucHJldigpLnRva2VuLlBPUyA9PT0gTWlub3JQYXJ0c09mU3BlZWNoLkRUIHx8IFxuICAgICAgICAgICAgICAgICBnZXRNYWpvclBPUyhuZ3JhbVswXS5wcmV2KCkudG9rZW4uUE9TKSA9PT0gTWFqb3JQYXJ0c09mU3BlZWNoLldIV09SRCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHt0cmVlOiB0cmVlLCBjb250ZXh0OiBjb250ZXh0fTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1hdGNoZWROZ3JhbXMucHVzaChuZ3JhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBUdXJuIG1hdGNoZWQgbmdyYW1zIGludG8gY29tcG91bmQgbm9kZXMgIFxuICBmb3IgKGxldCBuZ3JhbSBvZiBtYXRjaGVkTmdyYW1zKSB7XG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgZm9yIDEtZ3JhbXNcbiAgICBpZiAobmdyYW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICBuZ3JhbVswXS5mb3VuZCA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBkaXNwbGF5TmFtZSA9IG5ncmFtLm1hcCgobm9kZSk9Pm5vZGUubmFtZSkuam9pbihcIiBcIikucmVwbGFjZSgvICcvZywnXFwnJyk7XG4gICAgbG9nIChgQ3JlYXRpbmcgY29tcG91bmQgbm9kZTogJHtkaXNwbGF5TmFtZX1gKTtcbiAgICBsZXQgbGFzdEdyYW0gPSBuZ3JhbVtuZ3JhbS5sZW5ndGggLSAxXTtcbiAgICBsZXQgY29tcG91bmRUb2tlbiA9IG5ld1Rva2VuKGRpc3BsYXlOYW1lKTtcbiAgICBjb21wb3VuZFRva2VuLnByZXYgPSBuZ3JhbVswXS50b2tlbi5wcmV2O1xuICAgIGxldCBjb21wb3VuZE5vZGUgPSBuZXdOb2RlKGNvbXBvdW5kVG9rZW4pO1xuICAgIGNvbXBvdW5kTm9kZS5jb25zdGl0dWVudHMgPSBuZ3JhbTtcbiAgICBjb21wb3VuZE5vZGUuY29uc3RpdHVlbnRzLm1hcCgobm9kZSkgPT4gbm9kZS5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5TVUJTVU1FRCkpO1xuICAgIGNvbXBvdW5kTm9kZS5peCA9IGxhc3RHcmFtLml4O1xuICAgIC8vIEluaGVyaXQgcHJvcGVydGllcyBmcm9tIHRoZSBub2Rlc1xuICAgIGNvbXBvdW5kTm9kZS5wcm9wZXJ0aWVzID0gbGFzdEdyYW0ucHJvcGVydGllczsgICAgXG4gICAgY29tcG91bmROb2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkNPTVBPVU5EKTtcbiAgICBjb21wb3VuZE5vZGUucHJvcGVydGllcy5zcGxpY2UoY29tcG91bmROb2RlLnByb3BlcnRpZXMuaW5kZXhPZihQcm9wZXJ0aWVzLlNVQlNVTUVEKSwxKTsgLy8gRG9uJ3QgaW5oZXJpdCBzdWJzdW1lZCBwcm9wZXJ0eVxuICAgIC8vIFRoZSBjb21wb3VuZCBub2RlIHJlc3VsdHMgZnJvbSB0aGUgbmV3IG5vZGUsXG4gICAgLy8gc28gdGhlIGNvbXBvdW5kIG5vZGUgcmVwbGFjZXMgaXRcbiAgICBub2RlID0gY29tcG91bmROb2RlO1xuICB9XG4gIGxvZygnLS0tLS0tLScpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gU3RlcCAyOiBJZGVudGlmeSB0aGUgbm9kZVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICAvLyBJZiB0aGUgbm9kZSBpcyBhIHF1YW50aXR5LCBqdXN0IGJ1aWxkIGFuIGF0dHJpYnV0ZVxuICBpZiAobm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlFVQU5USVRZKSkge1xuICAgIGxldCBxdWFudGl0eUF0dHJpYnV0ZTogQXR0cmlidXRlID0ge1xuICAgICAgaWQ6IG5vZGUubmFtZSxcbiAgICAgIGRpc3BsYXlOYW1lOiBub2RlLm5hbWUsXG4gICAgICB2YXJpYWJsZTogbm9kZS5uYW1lLFxuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIHByb2plY3Q6IGZhbHNlLFxuICAgICAgaGFuZGxlZDogdHJ1ZSxcbiAgICB9XG4gICAgbm9kZS5xdWFudGl0eSA9IHBhcnNlRmxvYXQobm9kZS5uYW1lKTtcbiAgICBub2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkFUVFJJQlVURSk7XG4gICAgbm9kZS50eXBlID0gTm9kZVR5cGVzLk5VTUJFUjtcbiAgICBub2RlLmF0dHJpYnV0ZSA9IHF1YW50aXR5QXR0cmlidXRlO1xuICAgIG5vZGUuZm91bmQgPSB0cnVlO1xuICB9XG4gIFxuICAvLyBGaW5kIGEgY29sbGVjdGlvbiwgZW50aXR5LCBhdHRyaWJ1dGUsIG9yIGZ1bmN0aW9uXG4gIGlmICghbm9kZS5mb3VuZCkge1xuICAgIGZpbmRDb2xsZWN0aW9uKG5vZGUsIGNvbnRleHQpO1xuICAgIGlmICghbm9kZS5mb3VuZCkge1xuICAgICAgZmluZEF0dHJpYnV0ZShub2RlLCBjb250ZXh0KTsgXG4gICAgICBpZiAoIW5vZGUuZm91bmQpIHtcbiAgICAgICAgZmluZEVudGl0eShub2RlLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCFub2RlLmZvdW5kKSB7XG4gICAgICAgICAgZmluZEZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpOyAgXG4gICAgICAgICAgaWYgKCFub2RlLmZvdW5kKSB7XG4gICAgICAgICAgICBsb2cobm9kZS5uYW1lICsgXCIgd2FzIG5vdCBmb3VuZCBhbnl3aGVyZSFcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBJZiB0aGUgbm9kZSB3YXNuJ3QgZm91bmQgYXQgYWxsLCBkb24ndCB0cnkgdG8gcGxhY2UgaXQgYW55d2hlcmVcbiAgaWYgKCFub2RlLmZvdW5kICYmIGNvbnRleHQuc3RhdGVGbGFncy5pbnNlcnQgPT09IGZhbHNlKSB7XG4gICAgaWYgKGdldE1ham9yUE9TKG5vZGUudG9rZW4uUE9TKSA9PT0gTWFqb3JQYXJ0c09mU3BlZWNoLk5PVU4pIHtcbiAgICAgIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUFJPUEVSKSkge1xuICAgICAgICBjb250ZXh0Lm1heWJlRW50aXRpZXMucHVzaChub2RlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlBMVVJBTCkpIHtcbiAgICAgICAgY29udGV4dC5tYXliZUNvbGxlY3Rpb25zLnB1c2gobm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0Lm1heWJlQXR0cmlidXRlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge3RyZWU6IHRyZWUsIGNvbnRleHQ6IGNvbnRleHR9O1xuICB9IGVsc2UgaWYgKCFub2RlLmZvdW5kICYmIGNvbnRleHQuc3RhdGVGbGFncy5pbnNlcnQgPT09IHRydWUpIHtcbiAgICBsZXQgcm9vdCA9IGNvbnRleHQuYXJndW1lbnRzLmZpbHRlcigoYSkgPT4gYS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlJPT1QpKS5wb3AoKTtcbiAgICBpZiAocm9vdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBub2RlLmZvdW5kID0gdHJ1ZTtcbiAgICAgIGFkZE5vZGVUb0Z1bmN0aW9uKG5vZGUsIHJvb3QucGFyZW50LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29udGV4dC5tYXliZUF0dHJpYnV0ZXMucHVzaChub2RlKTtcbiAgICByZXR1cm4ge3RyZWU6IHRyZWUsIGNvbnRleHQ6IGNvbnRleHR9O1xuICB9IGVsc2UgaWYgKG5vZGUuZm91bmQgJiYgIW5vZGUuZm91bmRSZXBzKSB7XG4gICAgZmluZEFsdGVybmF0aXZlUmVwcmVzZW50YXRpb25zKG5vZGUpO1xuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFN0ZXAgMzogSW5zZXJ0IHRoZSBub2RlIGludG8gdGhlIHRyZWVcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgbG9nKFwiTWF0Y2hpbmc6IFwiICsgbm9kZS5uYW1lKTtcbiAgICBcbiAgLy8gSWYgdGhlIG5vZGUgaXMgY29tcG91bmQsIHJlcGxhY2UgdGhlIGxhc3Qgc3Vic3VtZWQgbm9kZSB3aXRoIGl0XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09NUE9VTkQpKSB7XG4gICAgbGV0IHN1YnN1bWVkTm9kZSA9IG5vZGUuY29uc3RpdHVlbnRzW25vZGUuY29uc3RpdHVlbnRzLmxlbmd0aCAtIDJdO1xuICAgIGlmIChzdWJzdW1lZE5vZGUucGFyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZyhgUmVwbGFjaW5nIFwiJHtzdWJzdW1lZE5vZGUubmFtZX1cIiB3aXRoIFwiJHtub2RlLm5hbWV9XCJgKVxuICAgICAgaW5zZXJ0QmVmb3JlTm9kZShub2RlLHN1YnN1bWVkTm9kZSk7XG4gICAgICByZW1vdmVCcmFuY2goc3Vic3VtZWROb2RlKTtcbiAgICAgIGxldCBjaGlsZHJlbiA9IHN1YnN1bWVkTm9kZS5jaGlsZHJlbjtcbiAgICAgIC8vIFJlbGlucXVpc2ggY2hpbGRyZW5cbiAgICAgIGZvciAobGV0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjaGlsZC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFSR1VNRU5UKSkge1xuICAgICAgICAgIGZvciAobGV0IGdyYW5kQ2hpbGQgb2YgY2hpbGQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHJlbW92ZUJyYW5jaChncmFuZENoaWxkKTtcbiAgICAgICAgICAgIGZvcm1UcmVlKGdyYW5kQ2hpbGQsIHRyZWUsIGNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVCcmFuY2goY2hpbGQpO1xuICAgICAgICAgIGZvcm1UcmVlKGNoaWxkLCB0cmVlLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZmlsdGVyIGNvbnRleHRcbiAgICAgIGNvbnRleHQuaW50ZXJuYWxGeG5zID0gY29udGV4dC5pbnRlcm5hbEZ4bnMuZmlsdGVyKChmKSA9PiAhZi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlNVQlNVTUVEKSk7XG4gICAgICBjb250ZXh0LmFyZ3VtZW50cyA9IGNvbnRleHQuYXJndW1lbnRzLmZpbHRlcigoYSkgPT4gIWEucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuU1VCU1VNRUQpKTtcbiAgICAgIHJldHVybiB7dHJlZTogdHJlZSwgY29udGV4dDogY29udGV4dH07ICBcbiAgICB9XG4gIH1cbiAgLy8gSGFuZGxlIGZ1bmN0aW9uc1xuICBpZiAobm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkZVTkNUSU9OKSkge1xuICAgIC8vIEZpbmQgYW4gYXJndW1lbnQgdG8gYXR0YWNoIHRoZSBub2RlIHRvXG4gICAgbGV0IGZ1bmN0aW9uQXJnID0gY29udGV4dC5hcmd1bWVudHMuZmlsdGVyKChuKSA9PiBuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRlVOQ1RJT04pICYmIG4ucGFyZW50ICE9PSBub2RlICYmICFuLmZvdW5kKTtcbiAgICBpZiAoZnVuY3Rpb25BcmcubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGFyZyA9IGZ1bmN0aW9uQXJnLnBvcCgpO1xuICAgICAgYWRkTm9kZVRvRnVuY3Rpb24obm9kZSwgYXJnLnBhcmVudCwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyZWUuYWRkQ2hpbGQobm9kZSk7ICBcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdGhlIG5vZGUgaXMgYSBncm91cGluZyBub2RlLCBhdHRhY2ggdGhlIG9sZCByb290IHRvIHRoZSBuZXcgb25lXG4gICAgaWYgKG5vZGUuZnhuLnR5cGUgPT09IEZ1bmN0aW9uVHlwZXMuR1JPVVApIHtcbiAgICAgIGxldCBuZXdSb290ID0gbm9kZS5jaGlsZHJlblswXTtcbiAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRyZWUuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBub2RlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVyb290KGNoaWxkLCBuZXdSb290KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdSb290LmZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAvLyBJZiB0aGUgbm9kZSBpcyBhbiBpbnNlcnQsIGF0dGFjaCB1bmlkZW50aWZpZWQgd29yZHMgIFxuICAgIH0gZWxzZSBpZiAobm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5JTlNFUlQpIHtcbiAgICAgIC8vIEZpbmQgYW4gZW50aXR5XG4gICAgICBsZXQgZW50aXR5ID0gY29udGV4dC5mb3VuZC5maWx0ZXIoKG4pID0+IG4uaGFzUHJvcGVydHkoUHJvcGVydGllcy5FTlRJVFkpICYmIG4uaXggPCBub2RlLml4KS5wb3AoKTtcbiAgICAgIGlmIChlbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZW1vdmVOb2RlKGVudGl0eSk7XG4gICAgICAgIGFkZE5vZGVUb0Z1bmN0aW9uKGVudGl0eSwgbm9kZSwgY29udGV4dCk7ICBcbiAgICAgICAgLy8gRmluZCBhbiBhdHRyaWJ1dGVcbiAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IGNvbnRleHQuZm91bmQuZmlsdGVyKChuKSA9PiBuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSAmJiBuLml4ID4gZW50aXR5Lml4KS5wb3AoKTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVtb3ZlTm9kZShhdHRyaWJ1dGUpO1xuICAgICAgICAgIGFkZE5vZGVUb0Z1bmN0aW9uKGF0dHJpYnV0ZSwgbm9kZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGF0dHJpYnV0ZU5vZGVzID0gY29udGV4dC5ub2Rlcy5maWx0ZXIoKG1hKSA9PiBtYS5peCA+IGVudGl0eS5peCArIDEpO1xuICAgICAgICAgIGF0dHJpYnV0ZU5vZGVzLnBvcCgpO1xuICAgICAgICAgIGlmIChhdHRyaWJ1dGVOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOb2Rlcy5tYXAocmVtb3ZlTm9kZSk7XG4gICAgICAgICAgICBsZXQgbk5hbWUgPSBhdHRyaWJ1dGVOb2Rlcy5tYXAoKG1hKSA9PiBtYS5uYW1lKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIGxldCBuVG9rZW4gPSBuZXdUb2tlbihuTmFtZSk7XG4gICAgICAgICAgICBuVG9rZW4uaXggPSBhdHRyaWJ1dGVOb2Rlc1swXS5peDtcbiAgICAgICAgICAgIGxldCBuTm9kZSA9IG5ld05vZGUoblRva2VuKTtcbiAgICAgICAgICAgIG5Ob2RlLnR5cGUgPSBOb2RlVHlwZXMuU1RSSU5HOyAgXG4gICAgICAgICAgICBuTm9kZS5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBuTm9kZS5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5BVFRSSUJVVEUpO1xuICAgICAgICAgICAgYWRkTm9kZVRvRnVuY3Rpb24obk5vZGUsIG5vZGUsIGNvbnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAgXG4gICAgLy8gSWYgdGhlIG5vZGUgaXMgYSBmaWx0ZXIsIGF0dGFjaCBmaWx0ZXIgbm9kZXMgIFxuICAgIH0gZWxzZSBpZiAobm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5GSUxURVIpIHtcbiAgICAgIC8vIElmIGFuIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIGNyZWF0ZSBhbiBhdHRyaWJ1dGUgbm9kZSBmb3IgZWFjaCBvbmVcbiAgICAgIGlmIChub2RlLmZ4bi5hdHRyaWJ1dGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSFNcbiAgICAgICAgbGV0IG5Ub2tlbiA9IG5ld1Rva2VuKG5vZGUuZnhuLmF0dHJpYnV0ZSk7XG4gICAgICAgIGxldCBuTm9kZSA9IG5ld05vZGUoblRva2VuKTtcbiAgICAgICAgZm9ybVRyZWUobk5vZGUsIHRyZWUsIGNvbnRleHQpO1xuICAgICAgICAvLyBSSFNcbiAgICAgICAgblRva2VuID0gbmV3VG9rZW4obm9kZS5meG4uYXR0cmlidXRlKTtcbiAgICAgICAgbk5vZGUgPSBuZXdOb2RlKG5Ub2tlbik7XG4gICAgICAgIGZpbmRBdHRyaWJ1dGUobk5vZGUsIGNvbnRleHQpO1xuICAgICAgICBhZGROb2RlVG9GdW5jdGlvbihuTm9kZSwgbm9kZSwgY29udGV4dCk7XG4gICAgICAvLyBObyBhdHRyaWJ1dGUgaXMgc3BlY2lmaWVkLCB0cnkgdG8gYXR0YWNoIGV4aXN0aW5nIGF0dHJpYnV0ZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgbGV0IG9ycGhhbnMgPSBjb250ZXh0LmZvdW5kLmZpbHRlcigobikgPT4gbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFUVFJJQlVURSkpO1xuICAgICAgIGZvciAobGV0IG9ycGhhbiBvZiBvcnBoYW5zKSB7XG4gICAgICAgICAgcmVtb3ZlTm9kZShvcnBoYW4pO1xuICAgICAgICAgIGZvcm1UcmVlKG9ycGhhbiwgdHJlZSwgY29udGV4dCk7XG4gICAgICAgICAgLy8gQnJlYWsgd2hlbiBhbGwgYXJncyBhcmUgZmlsbGVkXG4gICAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4uZXZlcnkoKG4pID0+IG4uZm91bmQpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgICB9XG4gICAgLy8gSWYgdGhlIG5vZGUgaXMgYSBuZWdhdGUsIGRvbid0IGRvIGEgYmFjayBzZWFyY2hcbiAgICB9IGVsc2UgaWYgKG5vZGUuZnhuLnR5cGUgPT09IEZ1bmN0aW9uVHlwZXMuTkVHQVRFKSB7XG4gICAgICAvLyBUaGlzIHNwYWNlIGlzIGxlZnQgaW50ZW50aW9uYWxseSBibGFua1xuICAgIH0gZWxzZSBpZiAobm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5DQUxDVUxBVEUpIHtcbiAgICAgIGxldCBBUUZzID0gY29udGV4dC5ub2Rlcy5maWx0ZXIoKG4pID0+IG4uaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlFVQU5USVRZKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uaGFzUHJvcGVydHkoUHJvcGVydGllcy5GVU5DVElPTikpO1xuICAgICAgZm9yIChsZXQgYXFmIG9mIEFRRnMgKSB7XG4gICAgICAgIGlmIChhcWYucGFyZW50ICE9PSB1bmRlZmluZWQgJiYgYXFmLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFSR1VNRU5UKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcWYuaGFzUHJvcGVydHkoUHJvcGVydGllcy5GVU5DVElPTikpIHtcbiAgICAgICAgICBpZiAoYXFmLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLkFHR1JFR0FURSkge1xuICAgICAgICAgICAgcmVtb3ZlQnJhbmNoKGFxZik7ICAgXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVOb2RlKGFxZikgIFxuICAgICAgICB9XG4gICAgICAgIGZvcm1UcmVlKGFxZiwgdHJlZSwgY29udGV4dCk7XG4gICAgICAgIGlmIChub2RlLmNoaWxkcmVuLmV2ZXJ5KChuKSA9PiBuLmZvdW5kKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCBqdXN0IGF0dGFjaCBhcmd1bWVudHMgdGhhdCBhcmUgYXBwbGljYWJsZVxuICAgIH0gZWxzZSB7ICBcbiAgICAgIGlmIChub2RlLmZ4bi5maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gY29udGV4dC5mb3VuZC5sZW5ndGggLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgbGV0IGZvdW5kTm9kZSA9IGNvbnRleHQuZm91bmRbaV07IFxuICAgICAgICAgIHJlbW92ZU5vZGUoZm91bmROb2RlKTtcbiAgICAgICAgICBmb3JtVHJlZShmb3VuZE5vZGUsIHRyZWUsIGNvbnRleHQpO1xuICAgICAgICAgIC8vIEJyZWFrIHdoZW4gYWxsIGFyZ3MgYXJlIGZpbGxlZFxuICAgICAgICAgIGlmIChub2RlLmNoaWxkcmVuLmV2ZXJ5KChuKSA9PiBuLmZvdW5kKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IFxuICAgICAgfVxuICAgIH1cbiAgLy8gSGFuZGxlIGV2ZXJ5dGhpbmcgZWxzZVxuICB9IGVsc2Uge1xuICAgIC8vIEZpbmQgYSByZWxhdGlvbnNoaXAgaWYgd2UgaGF2ZSB0b1xuICAgIGxldCByZWxhdGlvbnNoaXA6IFJlbGF0aW9uc2hpcCA9IHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FfTtcbiAgICBpZiAobm9kZS5yZWxhdGlvbnNoaXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy9sZXQgb3JwaGFucyA9IHRyZWUuY2hpbGRyZW4uZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQucmVsYXRpb25zaGlwcy5sZW5ndGggPT09IDAgJiYgY2hpbGQuY2hpbGRyZW4ubGVuZ3RoID09PSAwKTsgIFxuICAgICAgZm9yIChsZXQgaSA9IGNvbnRleHQuZm91bmQubGVuZ3RoIC0xOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZm91bmROb2RlID0gY29udGV4dC5mb3VuZFtpXTsgXG4gICAgICAgIGlmIChmb3VuZE5vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yZWxhdGlvbnNoaXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJlbW92ZU5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVsYXRpb25zaGlwID0gZmluZFJlbGF0aW9uc2hpcChub2RlLCBmb3VuZE5vZGUsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVsYXRpb25zaGlwLnR5cGUgIT09IFJlbGF0aW9uc2hpcFR5cGVzLk5PTkUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChyZWxhdGlvbnNoaXAudHlwZSA9PT0gUmVsYXRpb25zaGlwVHlwZXMuTk9ORSkge1xuICAgICAgICAgIGlmIChmb3VuZE5vZGUuaGFzUHJvcGVydHkoUHJvcGVydGllcy5QT1NTRVNTSVZFKSAmJiAhbm9kZS5mb3VuZCAmJiAhbm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlFVQU5USVRZKSkge1xuICAgICAgICAgICAgY29udGV4dC5tYXliZUF0dHJpYnV0ZXMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUGxhY2UgdGhlIG5vZGUgb250byBhIGZ1bmN0aW9uIGlmIG9uZSBpcyBvcGVuXG4gICAgbGV0IG9wZW5GdW5jdGlvbnMgPSBjb250ZXh0LmludGVybmFsRnhucy5maWx0ZXIoKGZ4bikgPT4gIWZ4bi5jaGlsZHJlbi5ldmVyeSgoYykgPT4gYy5mb3VuZCkpO1xuICAgIGZvciAobGV0IGZ4bk5vZGUgb2Ygb3BlbkZ1bmN0aW9ucykge1xuICAgICAgbGV0IGFkZGVkID0gYWRkTm9kZVRvRnVuY3Rpb24obm9kZSwgZnhuTm9kZSwgY29udGV4dCk7XG4gICAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgcmVsYXRpb25zaGlwLnR5cGUgPSBSZWxhdGlvbnNoaXBUeXBlcy5ESVJFQ1Q7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBJZiBubyByZWxhdGlvbnNoaXBzIHdlcmUgZm91bmQsIHN0aWNrIHRoZSBub2RlIG9udG8gdGhlIHJvb3RcbiAgICBpZiAobm9kZS5wYXJlbnQgPT09IHVuZGVmaW5lZCAmJiBub2RlLnJlbGF0aW9uc2hpcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0cmVlLmFkZENoaWxkKG5vZGUpO1xuICAgIC8vIElmIHRoZXJlIGlzIGEgcmVsYXRpb25zaGlwLCBidXQgdGhlIG5vZGUgaGFzIG5vIHBhcmVudCwganVzdCBwdXQgaXQgb24gdGhlIHJvb3RcbiAgICB9IGVsc2UgaWYgKG5vZGUucGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCByZWxhdGVkTm9kZXMgPSBub2RlLnJlbGF0aW9uc2hpcHMubWFwKChyKSA9PiByLm5vZGVzKTtcbiAgICAgIGxldCBmbGF0UmVsYXRlZE5vZGVzID0gZmxhdHRlbk5lc3RlZEFycmF5KHJlbGF0ZWROb2Rlcyk7XG4gICAgICBsZXQgcmVsYXRlZEF0dHJpYnV0ZSA9IGZsYXRSZWxhdGVkTm9kZXMuZmlsdGVyKChuKSA9PiBuLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSkuc2hpZnQoKTtcbiAgICAgIGlmIChyZWxhdGVkQXR0cmlidXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IHJvb3QgPSBmaW5kUGFyZW50V2l0aFByb3BlcnR5KHJlbGF0ZWRBdHRyaWJ1dGUsIFByb3BlcnRpZXMuUk9PVCk7XG4gICAgICAgIGlmIChyb290ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByb290LmFkZENoaWxkKG5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyZWUuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyZWUuYWRkQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmFsbHkgYWRkIGFueSBub2RlcyBpbXBsaWNpdCBpbiB0aGUgcmVsYXRpb25zaGlwICAgIFxuICAgIGlmIChyZWxhdGlvbnNoaXAuaW1wbGljaXROb2RlcyAhPT0gdW5kZWZpbmVkICYmIHJlbGF0aW9uc2hpcC5pbXBsaWNpdE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGltcGxOb2RlIG9mIHJlbGF0aW9uc2hpcC5pbXBsaWNpdE5vZGVzKSB7XG4gICAgICAgIGZvcm1UcmVlKGltcGxOb2RlLCB0cmVlLCBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIFN3aXRjaCBzdGF0ZVxuICBpZiAobm9kZS5meG4gJiYgbm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5JTlNFUlQpIHtcbiAgICBjb250ZXh0LnN0YXRlRmxhZ3MuaW5zZXJ0ID0gdHJ1ZTtcbiAgfVxuICBcbiAgbG9nKFwiVHJlZTpcIik7XG4gIGxvZyh0cmVlLnRvU3RyaW5nKCkpO1xuICByZXR1cm4ge3RyZWU6IHRyZWUsIGNvbnRleHQ6IGNvbnRleHR9O1xufVxuXG4vLyBGaW5kIGFsbCB0aGUgcmVwcmVzZW50YXRpb25zIG9mIGEgdGhpbmdcbmZ1bmN0aW9uIGZpbmRBbHRlcm5hdGl2ZVJlcHJlc2VudGF0aW9ucyhub2RlOiBOb2RlKTogdm9pZCB7XG4gIFxuICBsZXQgYXR0ciA9IGZpbmRFdmVBdHRyaWJ1dGUobm9kZS5uYW1lKTtcbiAgbGV0IGNvbGwgPSBmaW5kRXZlQ29sbGVjdGlvbihub2RlLm5hbWUpO1xuICBsZXQgZW50ID0gZmluZEV2ZUVudGl0eShub2RlLm5hbWUpO1xuICBsZXQgZnhuID0gc3RyaW5nVG9GdW5jdGlvbihub2RlLm5hbWUpO1xuICBcbiAgbm9kZS5yZXByZXNlbnRhdGlvbnMgPSB7XG4gICAgY29sbGVjdGlvbjogY29sbCxcbiAgICBlbnRpdHk6IGVudCxcbiAgICBhdHRyaWJ1dGU6IGF0dHIsXG4gICAgZnhuOiBmeG4sXG4gIH1cbiAgbm9kZS5mb3VuZFJlcHMgPSB0cnVlO1xufVxuXG4vLyBTd2FwIHRoZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbm9kZSB3aXRoIGFub3RoZXIgb25lXG4vLyBDbGVhcnMgYWxsIGF0dHJpYnV0ZXMgcmVsYXRlZCB0byB0aGUgb2xkIHJlcCwgYW5kIGFkZHMgYSBuZXcgb25lXG5mdW5jdGlvbiBjaGFuZ2VSZXByZXNlbnRhdGlvbihub2RlOiBOb2RlLCByZXA6IFByb3BlcnRpZXMsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgLy8gQ2xlYXIgdGhlIG5vZGVcbiAgbm9kZS5mb3VuZCA9IGZhbHNlO1xuICBpZiAobm9kZS5jb2xsZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBub2RlLmNvbGxlY3Rpb24gPSB1bmRlZmluZWQ7ICBcbiAgICBub2RlLnByb3BlcnRpZXMuc3BsaWNlKG5vZGUucHJvcGVydGllcy5pbmRleE9mKFByb3BlcnRpZXMuQ09MTEVDVElPTiksMSk7XG4gIH0gZWxzZSBpZiAobm9kZS5lbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgIG5vZGUuZW50aXR5ID0gdW5kZWZpbmVkO1xuICAgIG5vZGUucHJvcGVydGllcy5zcGxpY2Uobm9kZS5wcm9wZXJ0aWVzLmluZGV4T2YoUHJvcGVydGllcy5FTlRJVFkpLDEpO1xuICB9IGVsc2UgaWYgKG5vZGUuYXR0cmlidXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICBub2RlLmF0dHJpYnV0ZSA9IHVuZGVmaW5lZDtcbiAgICBub2RlLnByb3BlcnRpZXMuc3BsaWNlKG5vZGUucHJvcGVydGllcy5pbmRleE9mKFByb3BlcnRpZXMuQVRUUklCVVRFKSwxKTtcbiAgfSBlbHNlIGlmIChub2RlLmZ4biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbm9kZS5meG4gPSB1bmRlZmluZWQ7XG4gICAgbm9kZS5wcm9wZXJ0aWVzLnNwbGljZShub2RlLnByb3BlcnRpZXMuaW5kZXhPZihQcm9wZXJ0aWVzLkZVTkNUSU9OKSwxKTtcbiAgfVxuICAvLyBTd2l0Y2ggdGhlIHJlcHJlc2VudGF0aW9uXG4gIGlmIChyZXAgPT09IFByb3BlcnRpZXMuQ09MTEVDVElPTikge1xuICAgIGlmIChub2RlLnJlcHJlc2VudGF0aW9ucy5jb2xsZWN0aW9uKSB7XG4gICAgICBmaW5kQ29sbGVjdGlvbihub2RlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXAgPT09IFByb3BlcnRpZXMuRU5USVRZKSB7XG4gICAgaWYgKG5vZGUucmVwcmVzZW50YXRpb25zLmVudGl0eSkge1xuICAgICAgZmluZEVudGl0eShub2RlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXAgPT09IFByb3BlcnRpZXMuQVRUUklCVVRFKSB7XG4gICAgaWYgKG5vZGUucmVwcmVzZW50YXRpb25zLmF0dHJpYnV0ZSkge1xuICAgICAgZmluZEF0dHJpYnV0ZShub2RlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXAgPT09IFByb3BlcnRpZXMuRlVOQ1RJT04pIHtcbiAgICBpZiAobm9kZS5yZXByZXNlbnRhdGlvbnMuZnhuKSB7XG4gICAgICBmaW5kRnVuY3Rpb24obm9kZSwgY29udGV4dCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBBZGRzIGEgbm9kZSB0byBhbiBhcmd1bWVudC4gSWYgYWRkaW5nIHRoZSBub2RlIGNvbXBsZXRlcyBhIHNlbGVjdCxcbi8vIGEgbmV3IG5vZGUgd2lsbCBiZSByZXR1cm5lZFxuZnVuY3Rpb24gYWRkTm9kZVRvRnVuY3Rpb24obm9kZTogTm9kZSwgZnhuTm9kZTogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IGJvb2xlYW4ge1xuICBsb2coYE1hdGNoaW5nIFwiJHtub2RlLm5hbWV9XCIgd2l0aCBmdW5jdGlvbiBcIiR7ZnhuTm9kZS5uYW1lfVwiYCk7XG4gIC8vIEZpbmQgdGhlIGNvcnJlY3QgYXJnXG4gIGxldCBhcmc6IE5vZGU7XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRU5USVRZKSkge1xuICAgIGFyZyA9IGZ4bk5vZGUuY2hpbGRyZW4uZmlsdGVyKChjKSA9PiBjLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRU5USVRZKSAmJiAhYy5mb3VuZCkuc2hpZnQoKTtcbiAgfSBlbHNlIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikpIHtcbiAgICBhcmcgPSBmeG5Ob2RlLmNoaWxkcmVuLmZpbHRlcigoYykgPT4gYy5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pICYmICFjLmZvdW5kKS5zaGlmdCgpO1xuICB9IGVsc2UgaWYgKG5vZGUuaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpKSB7XG4gICAgYXJnID0gZnhuTm9kZS5jaGlsZHJlbi5maWx0ZXIoKGMpID0+IGMuaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpICYmICFjLmZvdW5kKS5zaGlmdCgpO1xuICB9IGVsc2UgaWYgKG5vZGUuaGFzUHJvcGVydHkoUHJvcGVydGllcy5GVU5DVElPTikpIHtcbiAgICBhcmcgPSBmeG5Ob2RlLmNoaWxkcmVuLmZpbHRlcigoYykgPT4gYy5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkZVTkNUSU9OKSAmJiAhYy5mb3VuZCkuc2hpZnQoKTtcbiAgfSBlbHNlIHtcbiAgICBhcmcgPSBmeG5Ob2RlLmNoaWxkcmVuLmZpbHRlcigoYykgPT4gYy5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlJPT1QpKS5zaGlmdCgpO1xuICB9XG5cbiAgLy8gQWRkIHRoZSBub2RlIHRvIHRoZSBhcmdcbiAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGZ4bk5vZGUuZnhuLnR5cGUgPT09IEZ1bmN0aW9uVHlwZXMuR1JPVVAgJiYgYXJnLm5hbWUgPT09IFwiY29sbGVjdGlvblwiKSB7XG4gICAgICBjb250ZXh0Lmdyb3VwaW5ncy5wdXNoKG5vZGUpO1xuICAgICAgYXJnLmFkZENoaWxkKG5vZGUpO1xuICAgIH0gZWxzZSBpZiAoZnhuTm9kZS5meG4udHlwZSA9PT0gRnVuY3Rpb25UeXBlcy5TRUxFQ1QpIHtcbiAgICAgIGxldCByb290ID0gZmluZFBhcmVudFdpdGhQcm9wZXJ0eShmeG5Ob2RlLCBQcm9wZXJ0aWVzLlJPT1QpO1xuICAgICAgcmVtb3ZlQnJhbmNoKGZ4bk5vZGUpO1xuICAgICAgY29udGV4dC5hcmd1bWVudHMuc3BsaWNlKGNvbnRleHQuYXJndW1lbnRzLmluZGV4T2Yobm9kZS5jaGlsZHJlblswXSksMSk7XG4gICAgICBjb250ZXh0LmludGVybmFsRnhucy5zcGxpY2UoY29udGV4dC5pbnRlcm5hbEZ4bnMuaW5kZXhPZihmeG5Ob2RlKSwxKTtcbiAgICAgIG5vZGUucHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuUE9TU0VTU0lWRSk7XG4gICAgICByb290LmFkZENoaWxkKG5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZy5hZGRDaGlsZChub2RlKTtcbiAgICB9XG4gICAgYXJnLmZvdW5kID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gRUFWIEZ1bmN0aW9uc1xuXG5pbnRlcmZhY2UgRW50aXR5IHtcbiAgaWQ6IHN0cmluZyxcbiAgZGlzcGxheU5hbWU6IHN0cmluZyxcbiAgbm9kZT86IE5vZGUsXG4gIHJlZnM/OiBBcnJheTxOb2RlPixcbiAgdmFyaWFibGU6IHN0cmluZyxcbiAgcHJvamVjdDogYm9vbGVhbixcbiAgaGFuZGxlZD86IGJvb2xlYW4sXG4gIGVudGl0eUF0dHI6IGJvb2xlYW4sXG4gIGVudGl0eVZhcjogYm9vbGVhbixcbiAgdmFsdWVWYXI6IGJvb2xlYW4sXG4gIHZhbHVlPzogc3RyaW5nLFxuICBwcm9qZWN0ZWRBcz86IHN0cmluZyxcbn1cblxuaW50ZXJmYWNlIENvbGxlY3Rpb24ge1xuICBpZDogc3RyaW5nLFxuICBkaXNwbGF5TmFtZTogc3RyaW5nLFxuICBub2RlPzogTm9kZSxcbiAgcmVmcz86IEFycmF5PE5vZGU+LFxuICB2YXJpYWJsZTogc3RyaW5nLFxuICBwcm9qZWN0OiBib29sZWFuLFxuICBoYW5kbGVkPzogYm9vbGVhbixcbiAgcHJvamVjdGVkQXM/OiBzdHJpbmcsXG59XG5cbmZ1bmN0aW9uIGNsb25lQ29sbGVjdGlvbihjb2xsZWN0aW9uOiBDb2xsZWN0aW9uKTogQ29sbGVjdGlvbiB7XG4gIGxldCBjbG9uZTogQ29sbGVjdGlvbiA9IHtcbiAgICBpZDogY29sbGVjdGlvbi5pZCxcbiAgICBkaXNwbGF5TmFtZTogY29sbGVjdGlvbi5kaXNwbGF5TmFtZSxcbiAgICBub2RlOiBjb2xsZWN0aW9uLm5vZGUsXG4gICAgdmFyaWFibGU6IGNvbGxlY3Rpb24udmFyaWFibGUsXG4gICAgcHJvamVjdDogY29sbGVjdGlvbi5wcm9qZWN0LFxuICB9XG4gIHJldHVybiBjbG9uZTtcbn1cblxuaW50ZXJmYWNlIEF0dHJpYnV0ZSB7XG4gIGlkOiBzdHJpbmcsXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmcsXG4gIG5vZGU/OiBOb2RlLFxuICByZWZzPzogQXJyYXk8Tm9kZT4sXG4gIHZhcmlhYmxlOiBzdHJpbmcsXG4gIHByb2plY3Q6IGJvb2xlYW4sXG4gIGhhbmRsZWQ/OiBib29sZWFuLFxuICBwcm9qZWN0ZWRBcz86IHN0cmluZyxcbiAgYXR0cmlidXRlVmFyPzogYm9vbGVhbixcbn1cblxuLy8gUmV0dXJucyB0aGUgZW50aXR5IHdpdGggdGhlIGdpdmVuIGRpc3BsYXkgbmFtZS5cbi8vIElmIHRoZSBlbnRpdHkgaXMgbm90IGZvdW5kLCByZXR1cm5zIHVuZGVmaW5lZFxuLy8gVHdvIGVycm9yIG1vZGVzIGhlcmU6IFxuLy8gMSkgdGhlIG5hbWUgaXMgbm90IGZvdW5kIGluIFwiZGlzcGxheSBuYW1lXCJcbi8vIDIpIHRoZSBuYW1lIGlzIGZvdW5kIGluIFwiZGlzcGxheSBuYW1lXCIgYnV0IG5vdCBmb3VuZCBpbiBcImVudGl0eVwiXG4vLyBjYW4gMikgZXZlciBoYXBwZW4/XG4vLyBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHdpdGggdGhlIGdpdmVuIGRpc3BsYXkgbmFtZS5cbmZ1bmN0aW9uIGZpbmRFdmVFbnRpdHkoc2VhcmNoOiBzdHJpbmcpOiBFbnRpdHkge1xuICBsb2coXCJTZWFyY2hpbmcgZm9yIGVudGl0eTogXCIgKyBzZWFyY2gpO1xuICBsZXQgZm91bmRFbnRpdHk7XG4gIGxldCBuYW1lOiBzdHJpbmc7XG4gIC8vIFRyeSB0byBmaW5kIGJ5IGRpc3BsYXkgbmFtZSBmaXJzdFxuICBsZXQgZGlzcGxheSA9IGV2ZS5maW5kT25lKFwiaW5kZXggbmFtZVwiLHsgbmFtZTogc2VhcmNoIH0pO1xuICBpZiAoZGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm91bmRFbnRpdHkgPSBldmUuZmluZE9uZShcImVudGl0eVwiLCB7IGVudGl0eTogZGlzcGxheS5pZCB9KTtcbiAgICBuYW1lID0gc2VhcmNoO1xuICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBpdCB0aGF0IHdheSwgdHJ5IGFnYWluIGJ5IElEXG4gIH0gZWxzZSB7XG4gICAgZm91bmRFbnRpdHkgPSBldmUuZmluZE9uZShcImVudGl0eVwiLCB7IGVudGl0eTogc2VhcmNoIH0pO1xuICB9XG4gIC8vIEJ1aWxkIHRoZSBlbnRpdHlcbiAgaWYgKGZvdW5kRW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkaXNwbGF5ID0gZXZlLmZpbmRPbmUoXCJkaXNwbGF5IG5hbWVcIix7IGlkOiBzZWFyY2ggfSk7XG4gICAgICBuYW1lID0gZGlzcGxheS5uYW1lOyAgXG4gICAgfVxuICAgIGxldCBlbnRpdHk6IEVudGl0eSA9IHtcbiAgICAgIGlkOiBmb3VuZEVudGl0eS5lbnRpdHksXG4gICAgICBkaXNwbGF5TmFtZTogbmFtZSxcbiAgICAgIHZhcmlhYmxlOiBuYW1lLnJlcGxhY2UoLyAvZywnJyksXG4gICAgICBwcm9qZWN0OiB0cnVlLFxuICAgICAgZW50aXR5QXR0cjogZmFsc2UsXG4gICAgICBlbnRpdHlWYXI6IGZhbHNlLFxuICAgICAgdmFsdWVWYXI6IGZhbHNlLFxuICAgIH1cbiAgICBsb2coXCIgRm91bmQ6IFwiICsgZW50aXR5LmlkKTtcbiAgICByZXR1cm4gZW50aXR5O1xuICB9IGVsc2Uge1xuICAgIGxvZyhcIiBOb3QgZm91bmQ6IFwiICsgc2VhcmNoKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkOyAgXG4gIH1cbn1cbi8vIFJldHVybnMgdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gZGlzcGxheSBuYW1lLlxuZnVuY3Rpb24gZmluZEV2ZUNvbGxlY3Rpb24oc2VhcmNoOiBzdHJpbmcpOiBDb2xsZWN0aW9uIHtcbiAgbG9nKFwiU2VhcmNoaW5nIGZvciBjb2xsZWN0aW9uOiBcIiArIHNlYXJjaCk7XG4gIGxldCBmb3VuZENvbGxlY3Rpb247XG4gIGxldCBuYW1lOiBzdHJpbmc7XG4gIC8vIFRyeSB0byBmaW5kIGJ5IGRpc3BsYXkgbmFtZSBmaXJzdFxuICBsZXQgZGlzcGxheSA9IGV2ZS5maW5kT25lKFwiaW5kZXggbmFtZVwiLHsgbmFtZTogc2VhcmNoIH0pO1xuICBpZiAoZGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm91bmRDb2xsZWN0aW9uID0gZXZlLmZpbmRPbmUoXCJjb2xsZWN0aW9uXCIsIHsgY29sbGVjdGlvbjogZGlzcGxheS5pZCB9KTtcbiAgICBuYW1lID0gc2VhcmNoO1xuICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBpdCB0aGF0IHdheSwgdHJ5IGFnYWluIGJ5IElEXG4gIH0gZWxzZSB7XG4gICAgZm91bmRDb2xsZWN0aW9uID0gZXZlLmZpbmRPbmUoXCJjb2xsZWN0aW9uXCIsIHsgY29sbGVjdGlvbjogc2VhcmNoIH0pO1xuICB9XG4gIC8vIEJ1aWxkIHRoZSBjb2xsZWN0aW9uXG4gIGlmIChmb3VuZENvbGxlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpc3BsYXkgPSBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLHsgaWQ6IHNlYXJjaCB9KTtcbiAgICAgIG5hbWUgPSBkaXNwbGF5Lm5hbWU7ICBcbiAgICB9XG4gICAgbGV0IGNvbGxlY3Rpb246IENvbGxlY3Rpb24gPSB7XG4gICAgICBpZDogZm91bmRDb2xsZWN0aW9uLmNvbGxlY3Rpb24sXG4gICAgICBkaXNwbGF5TmFtZTogbmFtZSxcbiAgICAgIHZhcmlhYmxlOiBuYW1lLnJlcGxhY2UoLyAvZywnJyksXG4gICAgICBwcm9qZWN0OiB0cnVlLFxuICAgIH1cbiAgICBsb2coXCIgRm91bmQ6IFwiICsgY29sbGVjdGlvbi5pZCk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgbG9nKFwiIE5vdCBmb3VuZDogXCIgKyBzZWFyY2gpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7ICBcbiAgfVxufVxuXG4vLyBSZXR1cm5zIHRoZSBhdHRyaWJ1dGUgd2l0aCB0aGUgZ2l2ZW4gZGlzcGxheSBuYW1lIGF0dGFjaGVkIHRvIHRoZSBnaXZlbiBlbnRpdHlcbi8vIElmIHRoZSBlbnRpdHkgZG9lcyBub3QgaGF2ZSB0aGF0IGF0dHJpYnV0ZSwgb3IgdGhlIGVudGl0eSBkb2VzIG5vdCBleGlzdCwgcmV0dXJucyB1bmRlZmluZWRcbmZ1bmN0aW9uIGZpbmRFdmVBdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogQXR0cmlidXRlIHtcbiAgbG9nKFwiU2VhcmNoaW5nIGZvciBhdHRyaWJ1dGU6IFwiICsgbmFtZSk7XG4gIGxldCBmb3VuZEF0dHJpYnV0ZSA9IGV2ZS5maW5kT25lKFwiZW50aXR5IGVhdnNcIiwgeyBhdHRyaWJ1dGU6IG5hbWUgfSk7XG4gIGlmIChmb3VuZEF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IGF0dHJpYnV0ZTogQXR0cmlidXRlID0ge1xuICAgICAgaWQ6IGZvdW5kQXR0cmlidXRlLmF0dHJpYnV0ZSxcbiAgICAgIGRpc3BsYXlOYW1lOiBuYW1lLFxuICAgICAgdmFyaWFibGU6IG5hbWUucmVwbGFjZSgvIC9nLCcnKSxcbiAgICAgIHByb2plY3Q6IHRydWUsXG4gICAgfVxuICAgIGxvZyhcIiBGb3VuZDogXCIgKyBuYW1lKTtcbiAgICBsb2coYXR0cmlidXRlKTtcbiAgICByZXR1cm4gYXR0cmlidXRlO1xuICB9XG4gIGxvZyhcIiBOb3QgZm91bmQ6IFwiICsgbmFtZSk7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmVudW0gUmVsYXRpb25zaGlwVHlwZXMge1xuICBOT05FLFxuICBESVJFQ1QsXG4gIE9ORUhPUCxcbiAgVFdPSE9QLFxuICBJTlRFUlNFQ1RJT04sXG59XG5cbmludGVyZmFjZSBSZWxhdGlvbnNoaXAge1xuICB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcyxcbiAgbm9kZXM/OiBBcnJheTxOb2RlPixcbiAgaW1wbGljaXROb2Rlcz86IEFycmF5PE5vZGU+LFxufVxuXG5mdW5jdGlvbiBmaW5kUmVsYXRpb25zaGlwKG5vZGVBOiBOb2RlLCBub2RlQjogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IFJlbGF0aW9uc2hpcCB7XG4gIGxldCByZWxhdGlvbnNoaXAgPSB7dHlwZTogUmVsYXRpb25zaGlwVHlwZXMuTk9ORX07XG4gIGlmICgobm9kZUEgPT09IG5vZGVCKSB8fCBcbiAgICAgIChjb250ZXh0LnN0YXRlRmxhZ3MuaW5zZXJ0KSB8fFxuICAgICAgKG5vZGVBLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUVVBTlRJVFkpICYmIG5vZGVCLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUVVBTlRJVFkpKSkge1xuICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG4gIH1cbiAgbG9nKGBGaW5kaW5nIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFwiJHtub2RlQS5uYW1lfVwiIGFuZCBcIiR7bm9kZUIubmFtZX1cImApO1xuICAgIFxuICAvLyBTb3J0IHRoZSBub2RlcyBpbiBvcmRlclxuICAvLyAxKSBDb2xsZWN0aW9uIFxuICAvLyAyKSBFbnRpdHkgXG4gIC8vIDMpIEF0dHJpYnV0ZVxuICAvLyA0KSBGdW5jdGlvblxuICAvLyA1KSBRdWFudGl0eVxuICAvLyA2KSBTdHJpbmdcbiAgbm9kZUEucHJvcGVydGllcy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIG5vZGVCLnByb3BlcnRpZXMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBsZXQgbm9kZXMgPSBbbm9kZUEsIG5vZGVCXS5zb3J0KChhLCBiKSA9PiBhLnByb3BlcnRpZXNbMF0gLSBiLnByb3BlcnRpZXNbMF0pO1xuICBub2RlQSA9IG5vZGVzWzBdXG4gIG5vZGVCID0gbm9kZXNbMV07XG4gIFxuICAvLyBGaW5kIHRoZSBwcm9wZXIgcmVsYXRpb25zaGlwXG4gIGlmIChub2RlQS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkVOVElUWSkgJiYgbm9kZUIuaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpKSB7XG4gICAgcmVsYXRpb25zaGlwID0gZmluZEVudFRvQXR0clJlbGF0aW9uc2hpcChub2RlQSwgbm9kZUIsIGNvbnRleHQpO1xuICB9IGVsc2UgaWYgKG5vZGVBLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikgJiYgbm9kZUIuaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpKSB7XG4gICAgcmVsYXRpb25zaGlwID0gZmluZENvbGxUb0F0dHJSZWxhdGlvbnNoaXAobm9kZUEsIG5vZGVCLCBjb250ZXh0KTtcbiAgfSBlbHNlIGlmIChub2RlQS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pICYmIG5vZGVCLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikpIHtcbiAgICByZWxhdGlvbnNoaXAgPSBmaW5kQ29sbFRvQ29sbFJlbGF0aW9uc2hpcChub2RlQSwgbm9kZUIsIGNvbnRleHQpO1xuICB9IGVsc2UgaWYgKG5vZGVBLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSAmJiBub2RlQi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFUVFJJQlVURSkpIHtcbiAgICByZWxhdGlvbnNoaXAgPSBmaW5kQXR0clRvQXR0clJlbGF0aW9uc2hpcChub2RlQSwgbm9kZUIsIGNvbnRleHQpO1xuICB9IGVsc2UgaWYgKG5vZGVBLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikgJiYgbm9kZUIuaGFzUHJvcGVydHkoUHJvcGVydGllcy5FTlRJVFkpKSB7XG4gICAgcmVsYXRpb25zaGlwID0gZmluZENvbGxUb0VudFJlbGF0aW9uc2hpcChub2RlQSwgbm9kZUIsIGNvbnRleHQpO1xuICB9IFxuICBcbiAgLy8gQWRkIHJlbGF0aW9uc2hpcHMgdG8gdGhlIG5vZGVzIGFuZCBjb250ZXh0XG4gIGlmIChyZWxhdGlvbnNoaXAudHlwZSAhPT0gUmVsYXRpb25zaGlwVHlwZXMuTk9ORSkge1xuICAgIG5vZGVBLnJlbGF0aW9uc2hpcHMucHVzaChyZWxhdGlvbnNoaXApO1xuICAgIG5vZGVCLnJlbGF0aW9uc2hpcHMucHVzaChyZWxhdGlvbnNoaXApO1xuICAgIGNvbnRleHQucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7XG4gIC8vIElmIG5vIHJlbGF0aW9uc2hpcCB3YXMgZm91bmQsIGNoYW5nZSB0aGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGVcbiAgfSBlbHNlIHtcbiAgICBub2RlcyA9IFtub2RlQSwgbm9kZUJdLnNvcnQoKGEsYikgPT4gYS5peCAtIGIuaXgpO1xuICAgIG5vZGVBID0gbm9kZXNbMF07XG4gICAgbm9kZUIgPSBub2Rlc1sxXTtcbiAgICBsZXQgcmVwQ2hhbmdlZCA9IGZhbHNlO1xuICAgIC8vIElmIG9uZSBub2RlIGlzIHBvc3Nlc3NpdmUsIGl0IHN1Z2dlc3RzIHRoZSBvdGhlciBzaG91bGQgYmUgcmVwcmVzZW50ZWQgYXMgYW4gYXR0cmlidXRlIG9mIHRoZSBmaXJzdFxuICAgIGlmIChub2RlQS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlBPU1NFU1NJVkUpICYmICFub2RlQi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFUVFJJQlVURSkgJiYgbm9kZUIucmVwcmVzZW50YXRpb25zLmF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXBDaGFuZ2VkID0gY2hhbmdlUmVwcmVzZW50YXRpb24obm9kZUIsIFByb3BlcnRpZXMuQVRUUklCVVRFLCBjb250ZXh0KTsgXG4gICAgfSBlbHNlIGlmIChub2RlQS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pICYmIG5vZGVCLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikgJiYgbm9kZUIucmVwcmVzZW50YXRpb25zLmF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXBDaGFuZ2VkID0gY2hhbmdlUmVwcmVzZW50YXRpb24obm9kZUIsIFByb3BlcnRpZXMuQVRUUklCVVRFLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHJlcENoYW5nZWQpIHtcbiAgICAgIHJlbGF0aW9uc2hpcCA9IGZpbmRSZWxhdGlvbnNoaXAobm9kZUEsIG5vZGVCLCBjb250ZXh0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbn1cblxuLy8gZS5nLiBDb3JleSdzIHdpZmUncyBhZ2VcbmZ1bmN0aW9uIGZpbmRBdHRyVG9BdHRyUmVsYXRpb25zaGlwKGF0dHJBOiBOb2RlLCBhdHRyQjogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IFJlbGF0aW9uc2hpcCB7XG4gIGxvZyhgRmluZGluZyBBdHRyIC0+IEF0dHIgcmVsYXRpb25zaGlwIGJldHdlZW4gXCIke2F0dHJBLm5hbWV9XCIgYW5kIFwiJHthdHRyQi5uYW1lfVwiLi4uYCk7XG4gIFxuICBjb25zb2xlLmxvZyhhdHRyQSlcbiAgY29uc29sZS5sb2coYXR0ckIpXG4gIFxuICBpZiAoYXR0ckEuaGFzUHJvcGVydHkoUHJvcGVydGllcy5RVUFOVElUWSkpIHtcbiAgICBsZXQgdGVtcCA9IGF0dHJBO1xuICAgIGF0dHJBID0gYXR0ckI7IFxuICAgIGF0dHJCID0gdGVtcDtcbiAgfVxuICBcbiAgLy8gZS5nLiBlbXBsb3llZXMgd2hvc2Ugc2FsYXJ5IGlzIDEwXG4gIGlmIChhdHRyQS5yZWxhdGlvbnNoaXBzLmxlbmd0aCA+IDAgJiYgYXR0ckIuaGFzUHJvcGVydHkoUHJvcGVydGllcy5RVUFOVElUWSkgJiYgIWF0dHJBLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFSR1VNRU5UKSkge1xuICAgIGF0dHJBLmF0dHJpYnV0ZS52YXJpYWJsZSA9IGAke2F0dHJCLnF1YW50aXR5fWA7XG4gICAgYXR0ckEuYXR0cmlidXRlLmF0dHJpYnV0ZVZhciA9IGZhbHNlO1xuICAgIGF0dHJBLmF0dHJpYnV0ZS5wcm9qZWN0ID0gZmFsc2U7XG4gICAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5ESVJFQ1QsIG5vZGVzOiBbYXR0ckEsIGF0dHJCXX07ICAgXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FfTsgIFxuICB9XG4gIFxuICAvLyBDaGVjayB3aGV0aGVyIG9uZSBvZiB0aGUgYXR0cmlidXRlcyBpcyBhbiBlbnRpdHkgYXR0cmlidXRlXG4gIGxldCBkaXJlY3QgPSBmYWxzZTtcbiAgaWYgKGF0dHJBLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUE9TU0VTU0lWRSkpIHtcbiAgICBkaXJlY3QgPSB0cnVlOyAgICBcbiAgfSBlbHNlIGlmIChhdHRyQi5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLlBPU1NFU1NJVkUpKSB7XG4gICAgbGV0IHROb2RlID0gYXR0ckE7XG4gICAgYXR0ckEgPSBhdHRyQjtcbiAgICBhdHRyQiA9IHROb2RlO1xuICAgIGRpcmVjdCA9IHRydWU7XG4gIH1cbiAgXG4gIGlmIChkaXJlY3QpIHtcbiAgICBsb2coXCIgIEZvdW5kIGEgZGlyZWN0IHJlbGF0aW9uc2hpcFwiKTtcbiAgICAvLyBDcmVhdGUgYW4gZW50aXR5IGF0dHJpYnV0ZVxuICAgIGxldCBlbnRpdHlBdHRyID0gYXR0ckEuYXR0cmlidXRlO1xuICAgIGxldCBlbnQ6IEVudGl0eSA9IHtcbiAgICAgIGlkOiBlbnRpdHlBdHRyLnZhcmlhYmxlLFxuICAgICAgZGlzcGxheU5hbWU6IGVudGl0eUF0dHIudmFyaWFibGUsXG4gICAgICB2YXJpYWJsZTogZW50aXR5QXR0ci52YXJpYWJsZSxcbiAgICAgIHByb2plY3Q6IGZhbHNlLFxuICAgICAgZW50aXR5QXR0cjogdHJ1ZSxcbiAgICAgIGVudGl0eVZhcjogZmFsc2UsXG4gICAgICB2YWx1ZVZhcjogZmFsc2UsXG4gICAgfVxuICAgIGxldCBuVG9rZW4gPSBuZXdUb2tlbihlbnRpdHlBdHRyLnZhcmlhYmxlKTtcbiAgICBsZXQgbk5vZGUgPSBuZXdOb2RlKG5Ub2tlbik7XG4gICAgbk5vZGUuZW50aXR5ID0gZW50O1xuICAgIGVudC5ub2RlID0gbk5vZGU7XG4gICAgYXR0ckIuYXR0cmlidXRlLnZhcmlhYmxlID0gYCR7YXR0ckEuYXR0cmlidXRlLnZhcmlhYmxlfXwke2F0dHJCLmF0dHJpYnV0ZS5pZH1gO1xuICAgIGF0dHJCLmF0dHJpYnV0ZS5yZWZzID0gW25Ob2RlXTtcbiAgICByZXR1cm4ge3R5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkRJUkVDVCwgbm9kZXM6IFthdHRyQSwgYXR0ckJdfTsgXG4gIH1cbiAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FfTsgIFxufVxuXG5cbi8vIGUuZy4gXCJtZWV0aW5ncyBqb2huIHdhcyBpblwiXG5mdW5jdGlvbiBmaW5kQ29sbFRvRW50UmVsYXRpb25zaGlwKGNvbGw6IE5vZGUsIGVudDogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IFJlbGF0aW9uc2hpcCB7XG4gIGxvZyhgRmluZGluZyBDb2xsIC0+IEVudCByZWxhdGlvbnNoaXAgYmV0d2VlbiBcIiR7Y29sbC5uYW1lfVwiIGFuZCBcIiR7ZW50Lm5hbWV9XCIuLi5gKTtcbiAgLyppZiAoY29sbCA9PT0gXCJjb2xsZWN0aW9uc1wiKSB7XG4gICAgaWYgKGV2ZS5maW5kT25lKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGVudGl0eTogbm9kZUIuZW50aXR5LmlkIH0pKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5ESVJFQ1QgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGV2ZS5maW5kT25lKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwuY29sbGVjdGlvbi5pZCwgZW50aXR5OiBlbnQuZW50aXR5LmlkIH0pKSB7XG4gICAgbG9nKFwiICBGb3VuZCBEaXJlY3QgcmVsYXRpb25zaGlwXCIpXG4gICAgcmV0dXJuIHsgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRElSRUNUIH07XG4gIH0qL1xuICBsZXQgZXZlUmVsYXRpb25zaGlwID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHsgY29sbGVjdGlvbjogY29sbC5jb2xsZWN0aW9uLmlkIH0sIFwiY29sbGVjdGlvblwiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJjb2xsZWN0aW9uXCIsIFwiZW50aXR5XCJdLCBsaW5rOiBlbnQuZW50aXR5LmlkIH0sIFwibGlua3NcIilcbiAgICAuZXhlYygpO1xuICBpZiAoZXZlUmVsYXRpb25zaGlwLnVucHJvamVjdGVkLmxlbmd0aCkge1xuICAgIGxldCBlbnRpdGllcyA9IGV4dHJhY3RGcm9tVW5wcm9qZWN0ZWQoZXZlUmVsYXRpb25zaGlwLnVucHJvamVjdGVkLCAxLCAyLCBcImxpbmtcIik7XG4gICAgbGV0IGNvbGxlY3Rpb25zID0gZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzKTtcbiAgICBsZXQgY29sbExpbmtJRDtcbiAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgbG9nKFwiICBGb3VuZCBEaXJlY3QgUmVsYXRpb25zaGlwXCIpO1xuICAgICAgbGV0IGVudGl0eSA9IGVudC5lbnRpdHk7XG4gICAgICBlbnRpdHkuZW50aXR5VmFyID0gdHJ1ZTtcbiAgICAgIGVudGl0eS5wcm9qZWN0ID0gZmFsc2U7XG4gICAgICBlbnRpdHkudmFyaWFibGUgPSBjb2xsLmNvbGxlY3Rpb24udmFyaWFibGU7XG4gICAgICBsZXQgcmVsYXRpb25zaGlwID0ge3R5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLkRJUkVDVCwgbm9kZXM6IFtjb2xsLCBlbnRdfTtcbiAgICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG4gICAgfVxuICB9XG4gIC8qXG4gIC8vIGUuZy4gZXZlbnRzIHdpdGggY2hyaXMgZ3JhbmdlciAoZXZlbnRzIC0+IG1lZXRpbmdzIC0+IGNocmlzIGdyYW5nZXIpXG4gIGxldCByZWxhdGlvbnNoaXBzMiA9IGV2ZS5xdWVyeShgYClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwgfSwgXCJjb2xsZWN0aW9uXCIpXG4gICAgLnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgeyBlbnRpdHk6IFtcImNvbGxlY3Rpb25cIiwgXCJlbnRpdHlcIl0gfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0sIGxpbms6IGVudCB9LCBcImxpbmtzMlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZC5sZW5ndGgpIHtcbiAgICBsZXQgZW50aXRpZXMgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKHJlbGF0aW9uc2hpcHMyLnVucHJvamVjdGVkLCAxLCAzKTtcbiAgICByZXR1cm4geyB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5UV09IT1AgfTtcbiAgfSovXG4gIGxvZyhcIiAgTm8gcmVsYXRpb25zaGlwIGZvdW5kXCIpO1xuICByZXR1cm4geyB0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRFbnRUb0F0dHJSZWxhdGlvbnNoaXAoZW50OiBOb2RlLCBhdHRyOiBOb2RlLCBjb250ZXh0OiBDb250ZXh0KTogUmVsYXRpb25zaGlwIHtcbiAgbG9nKGBGaW5kaW5nIEVudCAtPiBBdHRyIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFwiJHtlbnQubmFtZX1cIiBhbmQgXCIke2F0dHIubmFtZX1cIi4uLmApOyAgXG4gIFxuICAvLyBJZiB0aGUgbm9kZSBhbHJlYWR5IGhhcyBhIHJlbGF0aW9uc2hpcCwgdGhlbiB0cmVhdCB0aGUgZW50aXR5IGFzIGZpbHRlcmluZyB0aGUgbm9kZVxuICBpZiAoYXR0ci5yZWxhdGlvbnNoaXBzLmxlbmd0aCA+IDAgJiYgIWF0dHIucGFyZW50Lmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVJHVU1FTlQpKSB7XG4gICAgYXR0ci5hdHRyaWJ1dGUudmFyaWFibGUgPSBlbnQuZW50aXR5LmlkO1xuICAgIGF0dHIuYXR0cmlidXRlLmF0dHJpYnV0ZVZhciA9IGZhbHNlO1xuICAgIGF0dHIuYXR0cmlidXRlLnByb2plY3QgPSBmYWxzZTtcbiAgICBlbnQuZW50aXR5LnByb2plY3QgPSBmYWxzZTtcbiAgICBlbnQuZW50aXR5LmhhbmRsZWQgPSB0cnVlO1xuICAgIHJldHVybiB7dHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRElSRUNULCBub2RlczogW2VudCwgYXR0cl19O1xuICB9IGVsc2UgaWYgKGF0dHIucmVsYXRpb25zaGlwcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FfTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIGEgZGlyZWN0IHJlbGF0aW9uc2hpcFxuICAvLyBlLmcuIFwiSm9zaCdzIGFnZVwiXG4gIGxldCBldmVSZWxhdGlvbnNoaXAgPSBldmUuZmluZE9uZShcImVudGl0eSBlYXZzXCIsIHsgZW50aXR5OiBlbnQuZW50aXR5LmlkLCBhdHRyaWJ1dGU6IGF0dHIuYXR0cmlidXRlLmlkIH0pO1xuICBpZiAoZXZlUmVsYXRpb25zaGlwKSB7XG4gICAgbG9nKFwiICBGb3VuZCBhIGRpcmVjdCByZWxhdGlvbnNoaXAuXCIpO1xuICAgIGxldCBhdHRyaWJ1dGUgPSBhdHRyLmF0dHJpYnV0ZTtcbiAgICBsZXQgdmFyTmFtZSA9IGAke2VudC5uYW1lfXwke2F0dHIubmFtZX1gLnJlcGxhY2UoLyAvZywnJyk7XG4gICAgYXR0cmlidXRlLnZhcmlhYmxlID0gdmFyTmFtZTtcbiAgICBhdHRyaWJ1dGUucmVmcyA9IFtlbnRdO1xuICAgIGF0dHJpYnV0ZS5wcm9qZWN0ID0gdHJ1ZTtcbiAgICBlbnQuZW50aXR5LmhhbmRsZWQgPSB0cnVlO1xuICAgIHJldHVybiB7dHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRElSRUNULCBub2RlczogW2VudCwgYXR0cl0sIGltcGxpY2l0Tm9kZXM6IFtdfTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYSBvbmUtaG9wIHJlbGF0aW9uc2hpcFxuICAvLyBlLmcuIFwiU2FsYXJpZXMgaW4gZW5naW5lZXJpbmdcIlxuICBldmVSZWxhdGlvbnNoaXAgPSBldmUucXVlcnkoYGApXG4gICAgLnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgeyBlbnRpdHk6IGVudC5lbnRpdHkuaWQgfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJlbnRpdHkgZWF2c1wiLCB7IGVudGl0eTogW1wibGlua3NcIiwgXCJsaW5rXCJdLCBhdHRyaWJ1dGU6IGF0dHIuYXR0cmlidXRlLmlkIH0sIFwiZWF2XCIpXG4gICAgLmV4ZWMoKTtcbiAgaWYgKGV2ZVJlbGF0aW9uc2hpcC51bnByb2plY3RlZC5sZW5ndGgpIHtcbiAgICBcbiAgICBsb2coZXZlUmVsYXRpb25zaGlwKTtcbiAgICAvLyBGaWxsIGluIHRoZSBhdHRyaWJ1dGVcbiAgICBsZXQgZW50aXRpZXMgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKGV2ZVJlbGF0aW9uc2hpcC51bnByb2plY3RlZCwgMCwgMiwgXCJsaW5rXCIpO1xuICAgIGxldCBjb2xsZWN0aW9ucyA9IGZpbmRDb21tb25Db2xsZWN0aW9ucyhlbnRpdGllcyk7XG5cbiAgICBsZXQgY29sbExpbmtJRDtcbiAgICBpZiAoY29sbGVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgbG9nKFwiICBGb3VuZCBPbmUtSG9wIFJlbGF0aW9uc2hpcFwiKTtcbiAgICAgIFxuICAgICAgLy8gQEhBQ0sgQ2hvb3NlIHRoZSBjb3JyZWN0IGNvbGxlY3Rpb24gaW4gYSBzbWFydCB3YXkuIFxuICAgICAgLy8gTGFyZ2VzdCBjb2xsZWN0aW9uIG90aGVyIHRoYW4gZW50aXR5IG9yIHRlc3RkYXRhP1xuICAgICAgY29sbExpbmtJRCA9IGNvbGxlY3Rpb25zWzBdOyAgXG4gICAgXG4gICAgICBsZXQgZm91bmRDb2xsZWN0aW9uID0gZmluZEV2ZUNvbGxlY3Rpb24oY29sbExpbmtJRCk7XG4gICAgICBsZXQgbGlua1Rva2VuID0gbmV3VG9rZW4oZm91bmRDb2xsZWN0aW9uLmRpc3BsYXlOYW1lKTtcbiAgICAgIGxldCBsaW5rQ29sbGVjdGlvbiA9IG5ld05vZGUobGlua1Rva2VuKTtcbiAgICAgIGZpbmRDb2xsZWN0aW9uKGxpbmtDb2xsZWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIGxldCBhdHRyaWJ1dGUgPSBhdHRyLmF0dHJpYnV0ZTtcbiAgICAgIGxldCB2YXJOYW1lID0gYCR7bGlua0NvbGxlY3Rpb24ubmFtZX18JHthdHRyLm5hbWV9YC5yZXBsYWNlKC8gL2csJycpO1xuICAgICAgYXR0cmlidXRlLnZhcmlhYmxlID0gdmFyTmFtZTtcbiAgICAgIGF0dHJpYnV0ZS5yZWZzID0gW2xpbmtDb2xsZWN0aW9uXTtcbiAgICAgIFxuICAgICAgLy8gRmluZCB0aGUgb25lLWhvcCBsaW5rXG4gICAgICBsZXQgZ2V0QXR0ciA9IGV2ZS5xdWVyeShgYClcbiAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7IGVudGl0eTogZW50LmVudGl0eS5pZCB9LCBcImxpbmtzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdChcImVudGl0eSBlYXZzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0sIHZhbHVlOiBlbnQuZW50aXR5LmlkIH0sIFwiZWF2XCIpIFxuICAgICAgICAgICAgICAgICAgICAgIC5leGVjKCk7XG4gICAgICBsZXQgYXR0cmlidXRlcyA9IGV4dHJhY3RGcm9tVW5wcm9qZWN0ZWQoZ2V0QXR0ci51bnByb2plY3RlZCwxLDIsXCJhdHRyaWJ1dGVcIik7XG4gICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5maWx0ZXIob25seVVuaXF1ZSk7XG4gICAgICBsZXQgYXR0ckxpbmtJRDtcbiAgICAgIGxldCBuTm9kZTtcbiAgICAgIGxldCBpbXBsaWNpdE5vZGVzID0gW107XG4gICAgICBpZiAoYXR0cmlidXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF0dHJMaW5rSUQgPSBhdHRyaWJ1dGVzWzBdO1xuICAgICAgICAvLyBCdWlsZCBhIGxpbmsgYXR0cmlidXRlIG5vZGVcbiAgICAgICAgbGV0IG5ld05hbWUgPSBhdHRyTGlua0lEO1xuICAgICAgICBsZXQgblRva2VuID0gbmV3VG9rZW4obmV3TmFtZSk7XG4gICAgICAgIG5Ob2RlID0gbmV3Tm9kZShuVG9rZW4pO1xuICAgICAgICBsZXQgbkF0dHJpYnV0ZTogQXR0cmlidXRlID0ge1xuICAgICAgICAgIGlkOiBhdHRyTGlua0lELFxuICAgICAgICAgIHJlZnM6IFtsaW5rQ29sbGVjdGlvbl0sXG4gICAgICAgICAgbm9kZTogbk5vZGUsXG4gICAgICAgICAgZGlzcGxheU5hbWU6IGF0dHJMaW5rSUQsXG4gICAgICAgICAgdmFyaWFibGU6IGBcIiR7ZW50LmVudGl0eS5pZH1cImAsXG4gICAgICAgICAgcHJvamVjdDogZmFsc2UsXG4gICAgICAgIH1cbiAgICAgICAgbk5vZGUuYXR0cmlidXRlID0gbkF0dHJpYnV0ZTtcbiAgICAgICAgbk5vZGUucHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuQVRUUklCVVRFKTtcbiAgICAgICAgbk5vZGUuZm91bmQgPSB0cnVlO1xuICAgICAgICBpbXBsaWNpdE5vZGVzLnB1c2gobk5vZGUpO1xuICAgICAgfVxuICAgICAgLy8gUHJvamVjdCB3aGF0IHdlIG5lZWQgdG9cbiAgICAgIGF0dHJpYnV0ZS5wcm9qZWN0ID0gdHJ1ZTtcbiAgICAgIGVudC5lbnRpdHkucHJvamVjdCA9IGZhbHNlO1xuICAgICAgZW50LmVudGl0eS5oYW5kbGVkID0gdHJ1ZTtcbiAgICAgIGxldCByZWxhdGlvbnNoaXAgPSB7dHlwZTogUmVsYXRpb25zaGlwVHlwZXMuT05FSE9QLCBub2RlczogW2VudCwgYXR0cl0sIGltcGxpY2l0Tm9kZXM6IGltcGxpY2l0Tm9kZXN9O1xuICAgICAgaWYgKG5Ob2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbk5vZGUucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7ICBcbiAgICAgIH1cbiAgICAgIHJldHVybiByZWxhdGlvbnNoaXBcbiAgICB9XG4gIH1cbiAgLypcbiAgbGV0IHJlbGF0aW9uc2hpcHMyID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBlbnRpdHkuaWQgfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0gfSwgXCJsaW5rczJcIilcbiAgICAuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgeyBlbnRpdHk6IFtcImxpbmtzMlwiLCBcImxpbmtcIl0sIGF0dHJpYnV0ZTogYXR0ciB9LCBcImVhdlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZC5sZW5ndGgpIHtcbiAgICBsZXQgZW50aXRpZXMgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKHJlbGF0aW9uc2hpcHMyLnVucHJvamVjdGVkLCAwLCAzKTtcbiAgICBsZXQgZW50aXRpZXMyID0gZXh0cmFjdEZyb21VbnByb2plY3RlZChyZWxhdGlvbnNoaXBzMi51bnByb2plY3RlZCwgMSwgMyk7XG4gICAgLy9yZXR1cm4geyBkaXN0YW5jZTogMiwgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuRU5USVRZX0FUVFJJQlVURSwgbm9kZXM6IFtmaW5kQ29tbW9uQ29sbGVjdGlvbnMoZW50aXRpZXMpLCBmaW5kQ29tbW9uQ29sbGVjdGlvbnMoZW50aXRpZXMyKV0gfTtcbiAgfSovXG4gIGxvZyhcIiAgTm8gcmVsYXRpb25zaGlwIGZvdW5kLlwiKTtcbiAgcmV0dXJuIHsgdHlwZTogUmVsYXRpb25zaGlwVHlwZXMuTk9ORSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZENvbGxUb0NvbGxSZWxhdGlvbnNoaXAoY29sbEE6IE5vZGUsIGNvbGxCOiBOb2RlLCBjb250ZXh0OiBDb250ZXh0KTogUmVsYXRpb25zaGlwIHsgIFxuICBsb2coYEZpbmRpbmcgQ29sbCAtPiBDb2xsIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFwiJHtjb2xsQS5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfVwiIGFuZCBcIiR7Y29sbEIuY29sbGVjdGlvbi5kaXNwbGF5TmFtZX1cIi4uLmApO1xuICAvLyBhcmUgdGhlcmUgdGhpbmdzIGluIGJvdGggc2V0cz9cbiAgbGV0IGludGVyc2VjdGlvbiA9IGV2ZS5xdWVyeShgJHtjb2xsQS5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfS0+JHtjb2xsQi5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfWApXG4gICAgLnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBjb2xsZWN0aW9uOiBjb2xsQS5jb2xsZWN0aW9uLmlkIH0sIFwiY29sbEFcIilcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGxCLmNvbGxlY3Rpb24uaWQsIGVudGl0eTogW1wiY29sbEFcIiwgXCJlbnRpdHlcIl0gfSwgXCJjb2xsQlwiKVxuICAgIC5leGVjKCk7XG4gIC8vIGlzIHRoZXJlIGEgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhpbmdzIGluIGJvdGggc2V0c1xuICBsZXQgZXZlUmVsYXRpb25zaGlwID0gZXZlLnF1ZXJ5KGByZWxhdGlvbnNoaXBzIGJldHdlZW4gJHtjb2xsQS5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfSBhbmQgJHtjb2xsQi5jb2xsZWN0aW9uLmRpc3BsYXlOYW1lfWApXG4gICAgLnNlbGVjdChcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgeyBjb2xsZWN0aW9uOiBjb2xsQS5jb2xsZWN0aW9uLmlkIH0sIFwiY29sbEFcIilcbiAgICAuc2VsZWN0KFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCB7IGVudGl0eTogW1wiY29sbEFcIiwgXCJlbnRpdHlcIl0gfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHsgY29sbGVjdGlvbjogY29sbEIuY29sbGVjdGlvbi5pZCwgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0gfSwgXCJjb2xsQlwiKVxuICAgIC5ncm91cChbW1wibGlua3NcIiwgXCJsaW5rXCJdXSlcbiAgICAuYWdncmVnYXRlKFwiY291bnRcIiwge30sIFwiY291bnRcIilcbiAgICAucHJvamVjdCh7IHR5cGU6IFtcImxpbmtzXCIsIFwibGlua1wiXSwgY291bnQ6IFtcImNvdW50XCIsIFwiY291bnRcIl0gfSlcbiAgICAuZXhlYygpO1xuICBsZXQgbWF4UmVsID0geyB0eXBlOiBcIlwiLCBjb3VudDogMCB9O1xuICBmb3IgKGxldCByZXN1bHQgb2YgZXZlUmVsYXRpb25zaGlwLnJlc3VsdHMpIHtcbiAgICBpZiAocmVzdWx0LmNvdW50ID4gbWF4UmVsLmNvdW50KSBtYXhSZWwgPSByZXN1bHQ7XG4gIH1cblxuICAvLyB3ZSBkaXZpZGUgYnkgdHdvIGJlY2F1c2UgdW5wcm9qZWN0ZWQgcmVzdWx0cyBwYWNrIHJvd3MgbmV4dCB0byBlYWNob3RoZXJcbiAgLy8gYW5kIHdlIGhhdmUgdHdvIHNlbGVjdHMuXG4gIGxldCBpbnRlcnNlY3Rpb25TaXplID0gaW50ZXJzZWN0aW9uLnVucHJvamVjdGVkLmxlbmd0aCAvIDI7XG4gIGlmIChtYXhSZWwuY291bnQgPiBpbnRlcnNlY3Rpb25TaXplKSB7XG4gICAgLypcbiAgICBjb25zb2xlLmxvZyhldmVSZWxhdGlvbnNoaXApXG4gICAgbGV0IGVudGl0aWVzID0gZXh0cmFjdEZyb21VbnByb2plY3RlZChldmVSZWxhdGlvbnNoaXAudW5wcm9qZWN0ZWQsMSwyLFwibGlua1wiKS5maWx0ZXIoKGUpID0+IGUgIT09IHVuZGVmaW5lZCk7XG4gICAgbGV0IGNvbGxlY3Rpb25zID0gZmluZENvbW1vbkNvbGxlY3Rpb25zKGVudGl0aWVzKTtcbiAgICBjb25zb2xlLmxvZyhlbnRpdGllcyk7XG4gICAgY29uc29sZS5sb2coY29sbGVjdGlvbnMpXG4gICAgY29uc29sZS5sb2coZmluZEV2ZUNvbGxlY3Rpb24oY29sbGVjdGlvbnNbMF0pKTsqL1xuICAgIGxvZyhcIiBEaXJlY3QgcmVsYXRpb25zaGlwIGZvdW5kXCIpO1xuICAgIGxldCBuTmFtZSA9IGAke2NvbGxBLm5hbWV9fCR7Y29sbEIubmFtZX1gO1xuICAgIGxldCBuVG9rZW4gPSBuZXdUb2tlbihuTmFtZSk7XG4gICAgbGV0IG5Ob2RlID0gbmV3Tm9kZShuVG9rZW4pO1xuICAgIC8vIENyZWF0ZSBhIGxpbmsgZWF2XG4gICAgbGV0IGVudGl0eTogRW50aXR5ID0ge1xuICAgICAgaWQ6IG5OYW1lLFxuICAgICAgZGlzcGxheU5hbWU6IG5OYW1lLFxuICAgICAgdmFyaWFibGU6IGNvbGxCLmNvbGxlY3Rpb24udmFyaWFibGUsXG4gICAgICB2YWx1ZTogY29sbEEuY29sbGVjdGlvbi52YXJpYWJsZSxcbiAgICAgIHByb2plY3Q6IGZhbHNlLFxuICAgICAgZW50aXR5QXR0cjogZmFsc2UsXG4gICAgICBlbnRpdHlWYXI6IHRydWUsXG4gICAgICB2YWx1ZVZhcjogdHJ1ZSxcbiAgICAgIG5vZGU6IG5Ob2RlLFxuICAgICAgaGFuZGxlZDogZmFsc2UsXG4gICAgfVxuICAgIG5Ob2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkVOVElUWSk7XG4gICAgbk5vZGUuZW50aXR5ID0gZW50aXR5O1xuICAgIG5Ob2RlLmZvdW5kID0gdHJ1ZTtcbiAgICBjb2xsQi5hZGRDaGlsZChuTm9kZSk7XG4gICAgbGV0IHJlbGF0aW9uc2hpcCA9IHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5ESVJFQ1QsIG5vZGVzOiBbY29sbEEsIGNvbGxCXX07XG4gICAgbk5vZGUucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7ICAgIFxuICAgIHJldHVybiByZWxhdGlvbnNoaXA7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9uU2l6ZSA+IDApIHtcbiAgICBsb2coXCIgRm91bmQgSW50ZXJzZWN0aW9uIHJlbGF0aW9uc2hpcC5cIik7XG4gICAgY29sbEEuY29sbGVjdGlvbi52YXJpYWJsZSA9IGNvbGxCLmNvbGxlY3Rpb24udmFyaWFibGU7XG4gICAgY29sbEIuY29sbGVjdGlvbi5wcm9qZWN0ID0gdHJ1ZTtcbiAgICBjb2xsQS5jb2xsZWN0aW9uLnByb2plY3QgPSBmYWxzZTtcbiAgICByZXR1cm4ge3R5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLklOVEVSU0VDVElPTiwgbm9kZXM6IFtjb2xsQSwgY29sbEJdfTtcbiAgfSBlbHNlIGlmIChtYXhSZWwuY291bnQgPT09IDAgJiYgaW50ZXJzZWN0aW9uU2l6ZSA9PT0gMCkge1xuICAgIGxvZyhcIiAgTm8gcmVsYXRpb25zaGlwIGZvdW5kMlwiKTtcbiAgICByZXR1cm4ge3R5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLk5PTkV9O1xuICB9IGVsc2Uge1xuICAgIC8vIEBUT0RPXG4gICAgbG9nKFwiICBObyByZWxhdGlvbnNoaXAgZm91bmQzXCIpO1xuICAgIHJldHVybiB7dHlwZTogUmVsYXRpb25zaGlwVHlwZXMuTk9ORX07XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZENvbGxUb0F0dHJSZWxhdGlvbnNoaXAoY29sbDogTm9kZSwgYXR0cjogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IFJlbGF0aW9uc2hpcCB7XG4gIC8vIEZpbmRzIGEgZGlyZWN0IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGNvbGxlY3Rpb24gYW5kIGF0dHJpYnV0ZVxuICAvLyBlLmcuIFwicGV0cycgbGVuZ3Roc1wiXCIgPT4gcGV0IC0+IGxlbmd0aFxuICBsb2coYEZpbmRpbmcgQ29sbCAtPiBBdHRyIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFwiJHtjb2xsLm5hbWV9XCIgYW5kIFwiJHthdHRyLm5hbWV9XCIuLi5gKTtcbiAgbGV0IGV2ZVJlbGF0aW9uc2hpcCA9IGV2ZS5xdWVyeShgYClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwuY29sbGVjdGlvbi5pZCB9LCBcImNvbGxlY3Rpb25cIilcbiAgICAuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgeyBlbnRpdHk6IFtcImNvbGxlY3Rpb25cIiwgXCJlbnRpdHlcIl0sIGF0dHJpYnV0ZTogYXR0ci5hdHRyaWJ1dGUuaWQgfSwgXCJlYXZcIilcbiAgICAuZXhlYygpO1xuICBpZiAoZXZlUmVsYXRpb25zaGlwLnVucHJvamVjdGVkLmxlbmd0aCA+IDApIHsgICAgXG4gICAgbG9nKFwiICBGb3VuZCBEaXJlY3QgUmVsYXRpb25zaGlwXCIpO1xuICAgIC8vIEJ1aWxkIGFuIGF0dHJpYnV0ZSBub2RlXG4gICAgbGV0IGF0dHJpYnV0ZSA9IGF0dHIuYXR0cmlidXRlO1xuICAgIGxldCB2YXJOYW1lID0gYCR7Y29sbC5uYW1lfXwke2F0dHIubmFtZX1gLnJlcGxhY2UoLyAvZywnJyk7XG4gICAgYXR0cmlidXRlLnZhcmlhYmxlID0gdmFyTmFtZTtcbiAgICBhdHRyaWJ1dGUucmVmcyA9IFtjb2xsXTtcbiAgICBhdHRyaWJ1dGUucHJvamVjdCA9IHRydWU7XG4gICAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5ESVJFQ1QsIG5vZGVzOiBbY29sbCwgYXR0cl0sIGltcGxpY2l0Tm9kZXM6IFtdfTtcbiAgfVxuICAvLyBGaW5kcyBhIG9uZSBob3AgcmVsYXRpb25zaGlwXG4gIC8vIGUuZy4gXCJkZXBhcnRtZW50IHNhbGFyaWVzXCIgPT4gZGVwYXJ0bWVudCAtPiBlbXBsb3llZSAtPiBzYWxhcnlcbiAgZXZlUmVsYXRpb25zaGlwID0gZXZlLnF1ZXJ5KGBgKVxuICAgIC5zZWxlY3QoXCJjb2xsZWN0aW9uIGVudGl0aWVzXCIsIHsgY29sbGVjdGlvbjogY29sbC5jb2xsZWN0aW9uLmlkIH0sIFwiY29sbGVjdGlvblwiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJjb2xsZWN0aW9uXCIsIFwiZW50aXR5XCJdIH0sIFwibGlua3NcIilcbiAgICAuc2VsZWN0KFwiZW50aXR5IGVhdnNcIiwgeyBlbnRpdHk6IFtcImxpbmtzXCIsIFwibGlua1wiXSwgYXR0cmlidXRlOiBhdHRyLmF0dHJpYnV0ZS5pZCB9LCBcImVhdlwiKVxuICAgIC5leGVjKCk7XG4gIGlmIChldmVSZWxhdGlvbnNoaXAudW5wcm9qZWN0ZWQubGVuZ3RoID4gMCkge1xuICAgIGxvZyhcIiAgRm91bmQgT25lLUhvcCBSZWxhdGlvbnNoaXBcIik7XG4gICAgbG9nKGV2ZVJlbGF0aW9uc2hpcClcbiAgICAvLyBGaW5kIHRoZSBvbmUtaG9wIGxpbmtcbiAgICBsZXQgZW50aXRpZXMgPSBleHRyYWN0RnJvbVVucHJvamVjdGVkKGV2ZVJlbGF0aW9uc2hpcC51bnByb2plY3RlZCwgMSwgMywgXCJsaW5rXCIpO1xuICAgIGxldCBjb2xsZWN0aW9ucyA9IGZpbmRDb21tb25Db2xsZWN0aW9ucyhlbnRpdGllcylcbiAgICBsZXQgbGlua0lEO1xuICAgIGlmIChjb2xsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBASEFDSyBDaG9vc2UgdGhlIGNvcnJlY3QgY29sbGVjdGlvbiBpbiBhIHNtYXJ0IHdheS4gXG4gICAgICAvLyBMYXJnZXN0IGNvbGxlY3Rpb24gb3RoZXIgdGhhbiBlbnRpdHkgb3IgdGVzdGRhdGE/XG4gICAgICBsaW5rSUQgPSBjb2xsZWN0aW9uc1swXTsgIFxuICAgIH0gICAgXG4gICAgLy8gRmlsbCBpbiB0aGUgYXR0cmlidXRlXG4gICAgbGV0IGZvdW5kQ29sbGVjdGlvbiA9IGZpbmRFdmVDb2xsZWN0aW9uKGxpbmtJRCk7XG4gICAgbGV0IGxpbmtUb2tlbiA9IG5ld1Rva2VuKGZvdW5kQ29sbGVjdGlvbi5kaXNwbGF5TmFtZSk7XG4gICAgbGV0IGxpbmtDb2xsZWN0aW9uID0gbmV3Tm9kZShsaW5rVG9rZW4pO1xuICAgIGZpbmRDb2xsZWN0aW9uKGxpbmtDb2xsZWN0aW9uLCBjb250ZXh0KTtcbiAgICBsZXQgYXR0cmlidXRlID0gYXR0ci5hdHRyaWJ1dGU7XG4gICAgbGV0IHZhck5hbWUgPSBgJHtsaW5rQ29sbGVjdGlvbi5uYW1lfXwke2F0dHIubmFtZX1gLnJlcGxhY2UoLyAvZywnJyk7XG4gICAgYXR0cmlidXRlLnZhcmlhYmxlID0gdmFyTmFtZTtcbiAgICBhdHRyaWJ1dGUucmVmcyA9IFtsaW5rQ29sbGVjdGlvbl07XG4gICAgYXR0cmlidXRlLnByb2plY3QgPSB0cnVlO1xuICAgIC8vIEJ1aWxkIGEgbGluayBhdHRyaWJ1dGUgbm9kZVxuICAgIGxldCBuZXdOYW1lID0gY29sbC5jb2xsZWN0aW9uLnZhcmlhYmxlO1xuICAgIGxldCBuVG9rZW4gPSBuZXdUb2tlbihuZXdOYW1lKTtcbiAgICBsZXQgbk5vZGUgPSBuZXdOb2RlKG5Ub2tlbik7XG4gICAgbGV0IG5BdHRyaWJ1dGU6IEF0dHJpYnV0ZSA9IHtcbiAgICAgIGlkOiBjb2xsLmNvbGxlY3Rpb24uZGlzcGxheU5hbWUsXG4gICAgICByZWZzOiBbbGlua0NvbGxlY3Rpb25dLFxuICAgICAgbm9kZTogbk5vZGUsXG4gICAgICBkaXNwbGF5TmFtZTogbmV3TmFtZSxcbiAgICAgIHZhcmlhYmxlOiBuZXdOYW1lLFxuICAgICAgcHJvamVjdDogZmFsc2UsXG4gICAgfVxuICAgIG5Ob2RlLmF0dHJpYnV0ZSA9IG5BdHRyaWJ1dGU7XG4gICAgbk5vZGUucHJvcGVydGllcy5wdXNoKFByb3BlcnRpZXMuQVRUUklCVVRFKTtcbiAgICBuTm9kZS5mb3VuZCA9IHRydWU7XG4gICAgLy8gUHJvamVjdCB3aGF0IHdlIG5lZWQgdG9cbiAgICBsaW5rQ29sbGVjdGlvbi5jb2xsZWN0aW9uLnByb2plY3QgPSB0cnVlO1xuICAgIGNvbGwuY29sbGVjdGlvbi5wcm9qZWN0ID0gdHJ1ZTtcbiAgICBsZXQgcmVsYXRpb25zaGlwID0ge3R5cGU6IFJlbGF0aW9uc2hpcFR5cGVzLk9ORUhPUCwgbm9kZXM6IFtjb2xsLCBhdHRyXSwgaW1wbGljaXROb2RlczogW25Ob2RlXX07XG4gICAgbk5vZGUucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7XG4gICAgbGlua0NvbGxlY3Rpb24ucmVsYXRpb25zaGlwcy5wdXNoKHJlbGF0aW9uc2hpcCk7XG4gICAgcmV0dXJuIHJlbGF0aW9uc2hpcDtcbiAgfVxuICAvKlxuICAvLyBOb3Qgc3VyZSBpZiB0aGlzIG9uZSB3b3Jrcy4uLiB1c2luZyB0aGUgZW50aXR5IHRhYmxlLCBhIDIgaG9wIGxpbmsgY2FuXG4gIC8vIGJlIGZvdW5kIGFsbW9zdCBhbnl3aGVyZSwgeWllbGRpbmcgcmVzdWx0cyBsaWtlXG4gIC8vIGUuZy4gXCJQZXRzIGhlaWdodHNcIiA9PiBwZXRzIC0+IHNuYWtlIC0+IGVudGl0eSAtPiBjb3JleSAtPiBoZWlnaHRcbiAgIHJlbGF0aW9uc2hpcCA9IGV2ZS5xdWVyeShgYClcbiAgICAuc2VsZWN0KFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGNvbGxlY3Rpb246IGNvbGwuaWQgfSwgXCJjb2xsZWN0aW9uXCIpXG4gICAgLnNlbGVjdChcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgeyBlbnRpdHk6IFtcImNvbGxlY3Rpb25cIiwgXCJlbnRpdHlcIl0gfSwgXCJsaW5rc1wiKVxuICAgIC5zZWxlY3QoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIHsgZW50aXR5OiBbXCJsaW5rc1wiLCBcImxpbmtcIl0gfSwgXCJsaW5rczJcIilcbiAgIC5zZWxlY3QoXCJlbnRpdHkgZWF2c1wiLCB7IGVudGl0eTogW1wibGlua3MyXCIsIFwibGlua1wiXSwgYXR0cmlidXRlOiBhdHRyIH0sIFwiZWF2XCIpXG4gICAgLmV4ZWMoKTtcbiAgaWYgKHJlbGF0aW9uc2hpcC51bnByb2plY3RlZC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0qL1xuICBsb2coXCIgIE5vIHJlbGF0aW9uc2hpcCBmb3VuZFwiKTtcbiAgcmV0dXJuIHt0eXBlOiBSZWxhdGlvbnNoaXBUeXBlcy5OT05FfTtcbn1cblxuLy8gRXh0cmFjdHMgZW50aXRpZXMgZnJvbSB1bnByb2plY3RlZCByZXN1bHRzXG5mdW5jdGlvbiBleHRyYWN0RnJvbVVucHJvamVjdGVkKGNvbGwsIGl4OiBudW1iZXIsIHNpemU6IG51bWJlciwgZmllbGQ6IHN0cmluZyk6IEFycmF5PHN0cmluZz4ge1xuICBsZXQgcmVzdWx0czogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gY29sbC5sZW5ndGg7IGkgPCBsZW47IGkgKz0gc2l6ZSkge1xuICAgIHJlc3VsdHMucHVzaChjb2xsW2kgKyBpeF1bZmllbGRdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8gRmluZCBjb2xsZWN0aW9ucyB0aGF0IGVudGl0aWVzIGhhdmUgaW4gY29tbW9uXG5mdW5jdGlvbiBmaW5kQ29tbW9uQ29sbGVjdGlvbnMoZW50aXRpZXM6IEFycmF5PHN0cmluZz4pOiBBcnJheTxzdHJpbmc+IHtcbiAgbGV0IGludGVyc2VjdGlvbiA9IGVudGl0eVRvY29sbGVjdGlvbnNBcnJheShlbnRpdGllc1swXSk7XG4gIGludGVyc2VjdGlvbi5zb3J0KCk7XG4gIGZvciAobGV0IGVudElkIG9mIGVudGl0aWVzLnNsaWNlKDEpKSB7XG4gICAgbGV0IGN1ciA9IGVudGl0eVRvY29sbGVjdGlvbnNBcnJheShlbnRJZCk7XG4gICAgY3VyLnNvcnQoKTtcbiAgICBhcnJheUludGVyc2VjdChpbnRlcnNlY3Rpb24sIGN1cik7XG4gIH1cbiAgaW50ZXJzZWN0aW9uLnNvcnQoKGEsIGIpID0+IHtcbiAgICByZXR1cm4gZXZlLmZpbmRPbmUoXCJjb2xsZWN0aW9uXCIsIHsgY29sbGVjdGlvbjogYSB9KVtcImNvdW50XCJdIC0gZXZlLmZpbmRPbmUoXCJjb2xsZWN0aW9uXCIsIHsgY29sbGVjdGlvbjogYiB9KVtcImNvdW50XCJdO1xuICB9KTtcbiAgcmV0dXJuIGludGVyc2VjdGlvbjtcbn1cblxuZnVuY3Rpb24gZW50aXR5VG9jb2xsZWN0aW9uc0FycmF5KGVudGl0eTogc3RyaW5nKTogQXJyYXk8c3RyaW5nPiB7XG4gIGxldCBlbnRpdGllcyA9IGV2ZS5maW5kKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCB7IGVudGl0eSB9KTtcbiAgcmV0dXJuIGVudGl0aWVzLm1hcCgoYSkgPT4gYVtcImNvbGxlY3Rpb25cIl0pO1xufVxuXG5mdW5jdGlvbiBmaW5kQ29sbGVjdGlvbihub2RlOiBOb2RlLCBjb250ZXh0OiBDb250ZXh0KTogYm9vbGVhbiB7XG4gIGxldCBjb2xsZWN0aW9uOiBDb2xsZWN0aW9uO1xuICBjb2xsZWN0aW9uID0gZmluZEV2ZUNvbGxlY3Rpb24obm9kZS5uYW1lKTtcbiAgaWYgKGNvbGxlY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRleHQuZm91bmQucHVzaChub2RlKTtcbiAgICBjb2xsZWN0aW9uLm5vZGUgPSBub2RlO1xuICAgIG5vZGUuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgbm9kZS5yZXByZXNlbnRhdGlvbnMuY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgbm9kZS50eXBlID0gTm9kZVR5cGVzLkNPTExFQ1RJT047XG4gICAgbm9kZS5mb3VuZCA9IHRydWU7XG4gICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5DT0xMRUNUSU9OKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGZpbmRFbnRpdHkobm9kZTogTm9kZSwgY29udGV4dDogQ29udGV4dCk6IGJvb2xlYW4ge1xuICBsZXQgZW50aXR5OiBFbnRpdHk7XG4gIGVudGl0eSA9IGZpbmRFdmVFbnRpdHkobm9kZS5uYW1lKTtcbiAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGV4dC5mb3VuZC5wdXNoKG5vZGUpO1xuICAgIGVudGl0eS5ub2RlID0gbm9kZTtcbiAgICBub2RlLmVudGl0eSA9IGVudGl0eTtcbiAgICBub2RlLnJlcHJlc2VudGF0aW9ucy5lbnRpdHkgPSBlbnRpdHk7XG4gICAgbm9kZS50eXBlID0gTm9kZVR5cGVzLkVOVElUWTtcbiAgICBub2RlLmZvdW5kID0gdHJ1ZTtcbiAgICBub2RlLnByb3BlcnRpZXMucHVzaChQcm9wZXJ0aWVzLkVOVElUWSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBmaW5kQXR0cmlidXRlKG5vZGU6IE5vZGUsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgaWYgKG5vZGUubmFtZSA9PT0gXCJpcyBhXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGF0dHJpYnV0ZTogQXR0cmlidXRlO1xuICBhdHRyaWJ1dGUgPSBmaW5kRXZlQXR0cmlidXRlKG5vZGUubmFtZSk7XG4gIGlmIChhdHRyaWJ1dGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRleHQuZm91bmQucHVzaChub2RlKTtcbiAgICBhdHRyaWJ1dGUubm9kZSA9IG5vZGU7XG4gICAgbm9kZS5hdHRyaWJ1dGUgPSBhdHRyaWJ1dGU7XG4gICAgbm9kZS5yZXByZXNlbnRhdGlvbnMuYXR0cmlidXRlID0gYXR0cmlidXRlO1xuICAgIG5vZGUudHlwZSA9IE5vZGVUeXBlcy5BVFRSSUJVVEU7XG4gICAgbm9kZS5mb3VuZCA9IHRydWU7XG4gICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2goUHJvcGVydGllcy5BVFRSSUJVVEUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUXVlcnkgZnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmludGVyZmFjZSBGaWVsZCB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdmFsdWU6IHN0cmluZyB8IG51bWJlcixcbiAgdmFyaWFibGU6IGJvb2xlYW4sXG59XG5cbmludGVyZmFjZSBUZXJtIHtcbiAgdHlwZTogc3RyaW5nLFxuICB0YWJsZT86IHN0cmluZyxcbiAgZmllbGRzOiBBcnJheTxGaWVsZD4sXG4gIG5vZGU/OiBOb2RlLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5IHtcbiAgdHlwZTogc3RyaW5nLFxuICB0ZXJtczogQXJyYXk8VGVybT4sXG4gIHN1YnF1ZXJpZXM6IEFycmF5PFF1ZXJ5PixcbiAgcHJvamVjdHM6IEFycmF5PFRlcm0+LFxuICB0b1N0cmluZyhudW1iZXI/OiBudW1iZXIpOiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGFkZEZpZWxkc1RvUHJvamVjdChwcm9qZWN0RmllbGRzOiBBcnJheTxGaWVsZD4sIGZpZWxkczogQXJyYXk8RmllbGQ+KTogdm9pZCB7XG4gIGxldCBmaWVsZFxuICBmb3IgKGZpZWxkIG9mIGZpZWxkcykge1xuICAgIGxldCBtYXRjaGluZ0ZpZWxkcyA9IHByb2plY3RGaWVsZHMuZmlsdGVyKChmKSA9PiBmLm5hbWUgPT09IGZpZWxkLm5hbWUpO1xuICAgIGlmIChtYXRjaGluZ0ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHByb2plY3RGaWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG5lZ2F0ZVRlcm0odGVybTogVGVybSk6IFF1ZXJ5IHtcbiAgaWYgKHRlcm0udGFibGUgPT09IFwiZW50aXR5IGVhdnNcIiAmJiB0ZXJtLmZpZWxkc1syXSAhPT0gdW5kZWZpbmVkICYmIHRlcm0uZmllbGRzWzJdLm5hbWUgPT09IFwidmFsdWVcIikge1xuICAgIHRlcm0uZmllbGRzLnNwbGljZSgyLDEpO1xuICB9XG4gIGxldCBuZWdhdGUgPSBuZXdRdWVyeShbdGVybV0pO1xuICBuZWdhdGUudHlwZSA9IFwibmVnYXRlXCI7XG4gIHJldHVybiBuZWdhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdRdWVyeSh0ZXJtcz86IEFycmF5PFRlcm0+LCBzdWJxdWVyaWVzPzogQXJyYXk8UXVlcnk+LCBwcm9qZWN0cz86IEFycmF5PFRlcm0+KTogUXVlcnkge1xuICBpZiAodGVybXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHRlcm1zID0gW107XG4gIH1cbiAgaWYgKHN1YnF1ZXJpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHN1YnF1ZXJpZXMgPSBbXTtcbiAgfVxuICBpZiAocHJvamVjdHMgPT09IHVuZGVmaW5lZCkge1xuICAgIHByb2plY3RzID0gW107XG4gIH1cbiAgLy8gRGVkdXBlIHRlcm1zXG4gIGxldCB0ZXJtU3RyaW5ncyA9IHRlcm1zLm1hcCh0ZXJtVG9TdHJpbmcpO1xuICBsZXQgdW5pcXVlVGVybXM6IEFycmF5PGJvb2xlYW4+ID0gdGVybVN0cmluZ3MubWFwKCh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+IHtcbiAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXg7XG4gIH0pOyBcbiAgdGVybXMgPSB0ZXJtcy5maWx0ZXIoKHRlcm0sIGluZGV4KSA9PiB1bmlxdWVUZXJtc1tpbmRleF0pO1xuICBsZXQgcXVlcnk6IFF1ZXJ5ID0ge1xuICAgIHR5cGU6IFwicXVlcnlcIixcbiAgICB0ZXJtczogdGVybXMsXG4gICAgc3VicXVlcmllczogc3VicXVlcmllcyxcbiAgICBwcm9qZWN0czogcHJvamVjdHMsXG4gICAgdG9TdHJpbmc6IHF1ZXJ5VG9TdHJpbmcsXG4gIH1cbiAgZnVuY3Rpb24gcXVlcnlUb1N0cmluZyhkZXB0aD86IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHF1ZXJ5LnRlcm1zLmxlbmd0aCA9PT0gMCAmJiBxdWVyeS5wcm9qZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVwdGggPSAwO1xuICAgIH1cbiAgICBsZXQgaW5kZW50ID0gQXJyYXkoZGVwdGgrMSkuam9pbihcIlxcdFwiKTtcbiAgICBsZXQgcXVlcnlTdHJpbmcgPSBpbmRlbnQgKyBcIihcIjtcbiAgICAvLyBNYXAgZWFjaCB0ZXJtL3N1YnF1ZXJ5L3Byb2plY3QgdG8gYSBzdHJpbmdcbiAgICBsZXQgdHlwZVN0cmluZyA9IHF1ZXJ5LnR5cGU7XG4gICAgbGV0IHRlcm1TdHJpbmcgPSBxdWVyeS50ZXJtcy5tYXAoKHRlcm0pID0+IHRlcm1Ub1N0cmluZyh0ZXJtLGRlcHRoKzEpKS5qb2luKFwiXFxuXCIpO1xuICAgIGxldCBzdWJxdWVyaWVzU3RyaW5nID0gcXVlcnkuc3VicXVlcmllcy5tYXAoKHF1ZXJ5KSA9PiBxdWVyeS50b1N0cmluZyhkZXB0aCArIDEpKS5qb2luKFwiXFxuXCIpO1xuICAgIGxldCBwcm9qZWN0c1N0cmluZyA9IHF1ZXJ5LnByb2plY3RzLm1hcCgodGVybSkgPT4gdGVybVRvU3RyaW5nKHRlcm0sZGVwdGgrMSkpLmpvaW4oXCJcXG5cIik7XG4gICAgLy8gTm93IGNvbXBvc2UgdGhlIHF1ZXJ5IHN0cmluZ1xuICAgIHF1ZXJ5U3RyaW5nICs9IHR5cGVTdHJpbmc7XG4gICAgcXVlcnlTdHJpbmcgKz0gdGVybVN0cmluZyA9PT0gXCJcIiA/IFwiXCIgOiBcIlxcblwiICsgdGVybVN0cmluZztcbiAgICBxdWVyeVN0cmluZyArPSBzdWJxdWVyaWVzU3RyaW5nID09PSBcIlwiID8gXCJcIiA6IFwiXFxuXCIgKyBzdWJxdWVyaWVzU3RyaW5nO1xuICAgIHF1ZXJ5U3RyaW5nICs9IHByb2plY3RzU3RyaW5nID09PSBcIlwiID8gXCJcIiA6IFwiXFxuXCIgKyBwcm9qZWN0c1N0cmluZztcbiAgICAvLyBDbG9zZSBvdXQgdGhlIHF1ZXJ5XG4gICAgcXVlcnlTdHJpbmcgKz0gXCJcXG5cIiArIGluZGVudCArIFwiKVwiO1xuICAgIHJldHVybiBxdWVyeVN0cmluZztcbiAgfVxuICBmdW5jdGlvbiB0ZXJtVG9TdHJpbmcodGVybTogVGVybSwgZGVwdGg/OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXB0aCA9IDA7XG4gICAgfVxuICAgIGxldCBpbmRlbnQgPSBBcnJheShkZXB0aCsxKS5qb2luKFwiXFx0XCIpO1xuICAgIGxldCB0ZXJtU3RyaW5nID0gaW5kZW50ICsgXCIoXCI7XG4gICAgdGVybVN0cmluZyArPSBgJHt0ZXJtLnR5cGV9IGA7XG4gICAgdGVybVN0cmluZyArPSBgJHt0ZXJtLnRhYmxlID09PSB1bmRlZmluZWQgPyBcIlwiIDogYFwiJHt0ZXJtLnRhYmxlfVwiIGB9YDtcbiAgICB0ZXJtU3RyaW5nICs9IHRlcm0uZmllbGRzLm1hcCgoZmllbGQpID0+IGA6JHtmaWVsZC5uYW1lfSAke2ZpZWxkLnZhcmlhYmxlID8gZmllbGQudmFsdWUgOiBgXCIke2ZpZWxkLnZhbHVlfVwiYH1gKS5qb2luKFwiIFwiKTtcbiAgICB0ZXJtU3RyaW5nICs9IFwiKVwiO1xuICAgIHJldHVybiB0ZXJtU3RyaW5nO1xuICB9XG4gIHJldHVybiBxdWVyeTtcbn1cblxuZnVuY3Rpb24gZm9ybVF1ZXJ5KG5vZGU6IE5vZGUpOiBRdWVyeSB7XG4gIGxldCBxdWVyeTogUXVlcnkgPSBuZXdRdWVyeSgpO1xuICBsZXQgcHJvamVjdEZpZWxkczogQXJyYXk8RmllbGQ+ID0gW107XG4gIFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEhhbmRsZSB0aGUgY2hpbGRyZW4gbm9kZXNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgbGV0IGNoaWxkUXVlcmllcyA9IG5vZGUuY2hpbGRyZW4ubWFwKGZvcm1RdWVyeSk7XG4gIC8vIFN1YnN1bWUgY2hpbGQgcXVlcmllc1xuICBsZXQgY29tYmluZWRQcm9qZWN0RmllbGRzOiBBcnJheTxGaWVsZD4gPSBbXTtcbiAgZm9yIChsZXQgY1F1ZXJ5IG9mIGNoaWxkUXVlcmllcykge1xuICAgIHF1ZXJ5LnRlcm1zID0gcXVlcnkudGVybXMuY29uY2F0KGNRdWVyeS50ZXJtcyk7XG4gICAgcXVlcnkuc3VicXVlcmllcyA9IHF1ZXJ5LnN1YnF1ZXJpZXMuY29uY2F0KGNRdWVyeS5zdWJxdWVyaWVzKTtcbiAgICAvLyBDb21iaW5lIHVubmFtZWQgcHJvamVjdHNcbiAgICBmb3IgKGxldCBwcm9qZWN0IG9mIGNRdWVyeS5wcm9qZWN0cykge1xuICAgICAgaWYgKHByb2plY3QudGFibGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGRGaWVsZHNUb1Byb2plY3QoY29tYmluZWRQcm9qZWN0RmllbGRzLCBwcm9qZWN0LmZpZWxkcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChjb21iaW5lZFByb2plY3RGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgIHByb2plY3RGaWVsZHMgPSBjb21iaW5lZFByb2plY3RGaWVsZHM7XG4gIH1cbiAgLy8gU29ydCB0ZXJtc1xuICBxdWVyeS50ZXJtcyA9IHF1ZXJ5LnRlcm1zLnNvcnQoKGEsYikgPT4ge1xuICAgIGxldCBhUmFuayA9IHNldFJhbmsoYS50YWJsZSk7XG4gICAgbGV0IGJSYW5rID0gc2V0UmFuayhiLnRhYmxlKTtcbiAgICBmdW5jdGlvbiBzZXRSYW5rKHRhYmxlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgaWYgKHRhYmxlID09PSBcImVudGl0eSBlYXZzXCIpIHsgcmV0dXJuIDEgfVxuICAgICAgZWxzZSBpZiAodGFibGUgPT09IFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiKSB7IHJldHVybiAyIH1cbiAgICAgIGVsc2UgaWYgKHRhYmxlID09PSBcImlzIGEgYXR0cmlidXRlc1wiKSB7IHJldHVybiAzIH1cbiAgICAgIGVsc2UgeyByZXR1cm4gNCB9XG4gICAgfVxuICAgIHJldHVybiBhUmFuayAtIGJSYW5rO1xuICB9KTtcbiAgXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBIYW5kbGUgdGhlIGN1cnJlbnQgbm9kZVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIC8vIEp1c3QgcmV0dXJuIGF0IHRoZSByb290XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuUk9PVCkgfHwgbm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFSR1VNRU5UKSkge1xuICAgIGlmIChwcm9qZWN0RmllbGRzLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgIGxldCBwcm9qZWN0ID0ge1xuICAgICAgICB0eXBlOiBcInByb2plY3QhXCIsXG4gICAgICAgIGZpZWxkczogcHJvamVjdEZpZWxkcyxcbiAgICAgIH1cbiAgICAgIHF1ZXJ5LnByb2plY3RzLnB1c2gocHJvamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuICAvLyBIYW5kbGUgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgaWYgKG5vZGUuaGFzUHJvcGVydHkoUHJvcGVydGllcy5GVU5DVElPTikgJiYgXG4gICAgICBub2RlLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLk5FR0FURSkge1xuICAgIGxvZyhcIkJ1aWxkaW5nIG5lZ2F0ZSB0ZXJtIGZvcjogXCIgKyBub2RlLm5hbWUpOyBcbiAgICBsZXQgbmVnYXRlZFRlcm0gPSBxdWVyeS50ZXJtcy5wb3AoKTtcbiAgICBsZXQgbmVnYXRlZFF1ZXJ5ID0gbmVnYXRlVGVybShuZWdhdGVkVGVybSk7XG4gICAgcXVlcnkuc3VicXVlcmllcy5wdXNoKG5lZ2F0ZWRRdWVyeSk7XG4gICAgcHJvamVjdEZpZWxkcyA9IFtdO1xuICB9XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRlVOQ1RJT04pICYmICggXG4gICAgICBub2RlLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLkFHR1JFR0FURSB8fCBcbiAgICAgIG5vZGUuZnhuLnR5cGUgPT09IEZ1bmN0aW9uVHlwZXMuQ0FMQ1VMQVRFIHx8XG4gICAgICBub2RlLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLkZJTFRFUikpIHtcbiAgICAvLyBDb2xsZWN0aW9uIGFsbCBpbnB1dCBhbmQgb3V0cHV0IG5vZGVzIHdoaWNoIHdlcmUgZm91bmRcbiAgICBsZXQgYWxsQXJnc0ZvdW5kID0gbm9kZS5jaGlsZHJlbi5ldmVyeSgoY2hpbGQpID0+IGNoaWxkLmZvdW5kKTtcbiAgICAgICAgXG4gICAgLy8gSWYgd2UgaGF2ZSB0aGUgcmlnaHQgbnVtYmVyIG9mIGFyZ3VtZW50cywgcHJvY2VlZFxuICAgIGxldCBvdXRwdXQ7XG4gICAgaWYgKGFsbEFyZ3NGb3VuZCkge1xuICAgICAgbG9nKFwiQnVpbGRpbmcgZnVuY3Rpb24gdGVybSBmb3I6IFwiICsgbm9kZS5uYW1lKTtcbiAgICAgIGxldCBhcmdzID0gbm9kZS5jaGlsZHJlbi5maWx0ZXIoKGNoaWxkKSA9PiBjaGlsZC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkFSR1VNRU5UKSkubWFwKChhcmcpID0+IGFyZy5jaGlsZHJlblswXSk7XG4gICAgICBsZXQgZmllbGRzOiBBcnJheTxGaWVsZD4gPSBhcmdzLm1hcCgoYXJnLGkpID0+IHtcbiAgICAgICAgaWYgKGFyZy5wYXJlbnQuaGFzUHJvcGVydHkoUHJvcGVydGllcy5ST09UKSkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtuYW1lOiBub2RlLmZ4bi5maWVsZHNbaV0ubmFtZSwgXG4gICAgICAgICAgICAgICAgdmFsdWU6IGFyZy5hdHRyaWJ1dGUudmFyaWFibGUsIFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlOiBhcmcuYXR0cmlidXRlLmF0dHJpYnV0ZVZhciAhPT0gdW5kZWZpbmVkID8gYXJnLmF0dHJpYnV0ZS5hdHRyaWJ1dGVWYXIgOiB0cnVlXG4gICAgICAgICAgICAgICB9OyBcbiAgICAgIH0pLmZpbHRlcigoZikgPT4gZiAhPT0gdW5kZWZpbmVkKTtcbiAgICAgIGxldCB0ZXJtOiBUZXJtID0ge1xuICAgICAgICB0eXBlOiBcInNlbGVjdFwiLFxuICAgICAgICB0YWJsZTogbm9kZS5meG4ubmFtZSxcbiAgICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB9XG4gICAgICBxdWVyeS50ZXJtcy5wdXNoKHRlcm0pO1xuICAgICAgLy8gcHJvamVjdCBvdXRwdXQgaWYgbmVjZXNzYXJ5XG4gICAgICBpZiAobm9kZS5meG4ucHJvamVjdCA9PT0gdHJ1ZSkge1xuICAgICAgICBwcm9qZWN0RmllbGRzID0gYXJncy5maWx0ZXIoKGFyZykgPT4gYXJnLnBhcmVudC5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLk9VVFBVVCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoYXJnKSA9PiB7cmV0dXJuIHtuYW1lOiBub2RlLmZ4bi5uYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhcmcuYXR0cmlidXRlLnZhcmlhYmxlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlOiB0cnVlfX0pO1xuICAgICAgICBhcmdzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIGlmIChhLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSkge1xuICAgICAgICAgICAgYS5hdHRyaWJ1dGUucHJvamVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgYS5hdHRyaWJ1dGUucHJvamVjdGVkQXMgPSB1bmRlZmluZWQ7ICBcbiAgICAgICAgICB9IGVsc2UgaWYgKGEuaGFzUHJvcGVydHkoUHJvcGVydGllcy5DT0xMRUNUSU9OKSkge1xuICAgICAgICAgICAgYS5jb2xsZWN0aW9uLnByb2plY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGEuY29sbGVjdGlvbi5wcm9qZWN0ZWRBcyA9IHVuZGVmaW5lZDsgIFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHF1ZXJ5LnByb2plY3RzID0gW107IC8vIENsZWFycyBhbGwgcHJldmlvdXMgcHJvamVjdHNcbiAgICAgIH1cbiAgICB9IFxuICB9XG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRlVOQ1RJT04pICYmICggXG4gICAgICBub2RlLmZ4bi50eXBlID09PSBGdW5jdGlvblR5cGVzLkdST1VQKSkge1xuICAgIGxldCBhbGxBcmdzRm91bmQgPSBub2RlLmNoaWxkcmVuLmV2ZXJ5KChjaGlsZCkgPT4gY2hpbGQuZm91bmQpO1xuICAgIGlmIChhbGxBcmdzRm91bmQpIHtcbiAgICAgIGxvZyhcIkJ1aWxkaW5nIGZ1bmN0aW9uIHRlcm0gZm9yOiBcIiArIG5vZGUubmFtZSk7XG4gICAgICBcbiAgICAgIGxldCBncm91cE5vZGUgPSBub2RlLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGdyb3VwTm9kZS5oYXNQcm9wZXJ0eShQcm9wZXJ0aWVzLkNPTExFQ1RJT04pKSB7XG4gICAgICAgIGdyb3VwTm9kZS5jb2xsZWN0aW9uLmhhbmRsZWQgPSBmYWxzZTsgIFxuICAgICAgfSBlbHNlIGlmIChncm91cE5vZGUuaGFzUHJvcGVydHkoUHJvcGVydGllcy5BVFRSSUJVVEUpKSB7XG4gICAgICAgIGdyb3VwTm9kZS5hdHRyaWJ1dGUuaGFuZGxlZCA9IGZhbHNlOyAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBzdWJxdWVyeSA9IHF1ZXJ5O1xuICAgICAgbGV0IHF1ZXJ5MiA9IGZvcm1RdWVyeShncm91cE5vZGUpO1xuICAgICAgcXVlcnkgPSBuZXdRdWVyeSgpO1xuICAgICAgcXVlcnkuc3VicXVlcmllcy5wdXNoKHN1YnF1ZXJ5KTtcbiAgICAgIHF1ZXJ5LnRlcm1zID0gcXVlcnkudGVybXMuY29uY2F0KHF1ZXJ5Mi50ZXJtcyk7IFxuICAgIH1cbiAgfVxuICAvLyBIYW5kbGUgYXR0cmlidXRlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQVRUUklCVVRFKSAmJiAhbm9kZS5hdHRyaWJ1dGUuaGFuZGxlZCkge1xuICAgIGxvZyhcIkJ1aWxkaW5nIGF0dHJpYnV0ZSB0ZXJtIGZvcjogXCIgKyBub2RlLm5hbWUpO1xuICAgIGxldCBmaWVsZHM6IEFycmF5PEZpZWxkPiA9IFtdO1xuICAgIGxldCBhdHRyID0gbm9kZS5hdHRyaWJ1dGU7XG4gICAgaWYgKGF0dHIucmVmcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGxldCByZWYgb2YgYXR0ci5yZWZzKSB7XG4gICAgICAgIGxldCBlbnRpdHlWYXIgPSByZWYuZW50aXR5ICE9PSB1bmRlZmluZWQgPyByZWYuZW50aXR5LmlkIDogcmVmLmNvbGxlY3Rpb24udmFyaWFibGU7XG4gICAgICAgIGxldCBmaWVsZFZhciA9IHJlZi5lbnRpdHkgIT09IHVuZGVmaW5lZCAmJiByZWYuZW50aXR5LmVudGl0eUF0dHIgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxldCBlbnRpdHlGaWVsZCA9IHtcbiAgICAgICAgICAgIG5hbWU6IFwiZW50aXR5XCIsIFxuICAgICAgICAgICAgdmFsdWU6IGVudGl0eVZhciwgXG4gICAgICAgICAgICB2YXJpYWJsZTogZmllbGRWYXIsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBmaWVsZHMucHVzaChlbnRpdHlGaWVsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVpbGQgYSBxdWVyeSBmb3IgZWFjaCByZWYgYW5kIG1lcmdlIGl0IHdpdGggdGhlIGN1cnJlbnQgcXVlcnlcbiAgICAgICAgbGV0IHJlZlF1ZXJ5ID0gZm9ybVF1ZXJ5KHJlZik7XG4gICAgICAgIHF1ZXJ5LnRlcm1zID0gcXVlcnkudGVybXMuY29uY2F0KHJlZlF1ZXJ5LnRlcm1zKTtcbiAgICAgICAgaWYgKHJlZlF1ZXJ5LnByb2plY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhZGRGaWVsZHNUb1Byb2plY3QocHJvamVjdEZpZWxkcywgcmVmUXVlcnkucHJvamVjdHNbMF0uZmllbGRzKVxuICAgICAgICB9XG4gICAgICB9ICAgICAgXG4gICAgfSAgICAgICAgICAgICBcbiAgICBsZXQgYXR0ckZpZWxkID0ge1xuICAgICAgbmFtZTogXCJhdHRyaWJ1dGVcIiwgXG4gICAgICB2YWx1ZTogYXR0ci5pZCwgXG4gICAgICB2YXJpYWJsZTogZmFsc2VcbiAgICB9O1xuICAgIGZpZWxkcy5wdXNoKGF0dHJGaWVsZCk7ICAgICAgICAgICBcbiAgICBsZXQgdmFsdWVGaWVsZCA9IHtcbiAgICAgIG5hbWU6IFwidmFsdWVcIiwgXG4gICAgICB2YWx1ZTogYXR0ci52YXJpYWJsZSwgXG4gICAgICB2YXJpYWJsZTogYXR0ci5hdHRyaWJ1dGVWYXIgIT09IHVuZGVmaW5lZCA/IGF0dHIuYXR0cmlidXRlVmFyIDogdHJ1ZSxcbiAgICB9O1xuICAgIGZpZWxkcy5wdXNoKHZhbHVlRmllbGQpOyAgICAgICAgICAgIFxuICAgIGxldCB0ZXJtOiBUZXJtID0ge1xuICAgICAgdHlwZTogXCJzZWxlY3RcIixcbiAgICAgIHRhYmxlOiBcImVudGl0eSBlYXZzXCIsXG4gICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgfVxuICAgIHF1ZXJ5LnRlcm1zLnB1c2godGVybSk7XG4gICAgLy8gcHJvamVjdCBpZiBuZWNlc3NhcnlcbiAgICBpZiAobm9kZS5hdHRyaWJ1dGUucHJvamVjdCkge1xuICAgICAgbGV0IHByb2plY3RBdHRyaWJ1dGUgPSB7XG4gICAgICAgIG5hbWU6IGF0dHIuZGlzcGxheU5hbWUucmVwbGFjZSgvIC9nLCcnKSwgXG4gICAgICAgIHZhbHVlOiBhdHRyLnZhcmlhYmxlLCBcbiAgICAgICAgdmFyaWFibGU6IHRydWVcbiAgICAgIH07XG4gICAgICBhdHRyLnByb2plY3RlZEFzID0gcHJvamVjdEF0dHJpYnV0ZS5uYW1lO1xuICAgICAgYWRkRmllbGRzVG9Qcm9qZWN0KHByb2plY3RGaWVsZHMsIFtwcm9qZWN0QXR0cmlidXRlXSk7XG4gICAgfVxuICAgIG5vZGUuYXR0cmlidXRlLmhhbmRsZWQgPSB0cnVlO1xuICB9XG4gIC8vIEhhbmRsZSBjb2xsZWN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuQ09MTEVDVElPTikgJiYgIW5vZGUuY29sbGVjdGlvbi5oYW5kbGVkKSB7XG4gICAgbG9nKFwiQnVpbGRpbmcgY29sbGVjdGlvbiB0ZXJtIGZvcjogXCIgKyBub2RlLm5hbWUpO1xuICAgIGxldCBjb2xsZWN0aW9uID0gbm9kZS5jb2xsZWN0aW9uO1xuICAgIGxldCBlbnRpdHlGaWVsZCA9IHtcbiAgICAgIG5hbWU6IFwiZW50aXR5XCIsIFxuICAgICAgdmFsdWU6IGNvbGxlY3Rpb24udmFyaWFibGUsIFxuICAgICAgdmFyaWFibGU6IHRydWVcbiAgICB9O1xuICAgIGxldCBjb2xsZWN0aW9uRmllbGQgPSB7XG4gICAgICBuYW1lOiBcImNvbGxlY3Rpb25cIiwgXG4gICAgICB2YWx1ZTogY29sbGVjdGlvbi5pZCwgXG4gICAgICB2YXJpYWJsZTogZmFsc2VcbiAgICB9O1xuICAgIGxldCB0ZXJtOiBUZXJtID0ge1xuICAgICAgdHlwZTogXCJzZWxlY3RcIixcbiAgICAgIHRhYmxlOiBcImlzIGEgYXR0cmlidXRlc1wiLFxuICAgICAgZmllbGRzOiBbZW50aXR5RmllbGQsIGNvbGxlY3Rpb25GaWVsZF0sXG4gICAgICBub2RlOiBub2RlLFxuICAgIH1cbiAgICBxdWVyeS50ZXJtcy5wdXNoKHRlcm0pO1xuICAgIC8vIHByb2plY3QgaWYgbmVjZXNzYXJ5XG4gICAgaWYgKG5vZGUuY29sbGVjdGlvbi5wcm9qZWN0KSB7XG4gICAgICBsZXQgcHJvamVjdENvbGxlY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6IGNvbGxlY3Rpb24udmFyaWFibGUucmVwbGFjZSgvIC9nLCcnKSwgXG4gICAgICAgIHZhbHVlOiBjb2xsZWN0aW9uLnZhcmlhYmxlLCBcbiAgICAgICAgdmFyaWFibGU6IHRydWVcbiAgICAgIH07XG4gICAgICBjb2xsZWN0aW9uLnByb2plY3RlZEFzID0gcHJvamVjdENvbGxlY3Rpb24ubmFtZTtcbiAgICAgIGFkZEZpZWxkc1RvUHJvamVjdChwcm9qZWN0RmllbGRzLCBbcHJvamVjdENvbGxlY3Rpb25dKTtcbiAgICB9XG4gICAgbm9kZS5jb2xsZWN0aW9uLmhhbmRsZWQgPSB0cnVlO1xuICB9XG4gIC8vIEhhbmRsZSBlbnRpdGllcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGlmIChub2RlLmhhc1Byb3BlcnR5KFByb3BlcnRpZXMuRU5USVRZKSAmJiAhbm9kZS5lbnRpdHkuaGFuZGxlZCkge1xuICAgIGxvZyhcIkJ1aWxkaW5nIGVudGl0eSB0ZXJtIGZvcjogXCIgKyBub2RlLm5hbWUpO1xuICAgIGxldCBlbnRpdHkgPSBub2RlLmVudGl0eTtcbiAgICBsZXQgZmllbGRzID0gW107XG4gICAgbGV0IGVudGl0eUZpZWxkID0ge1xuICAgICAgbmFtZTogXCJlbnRpdHlcIiwgXG4gICAgICB2YWx1ZTogZW50aXR5LmVudGl0eVZhciA/IGVudGl0eS52YXJpYWJsZSA6IGVudGl0eS5pZCwgXG4gICAgICB2YXJpYWJsZTogZW50aXR5LmVudGl0eVZhcixcbiAgICB9O1xuICAgIGZpZWxkcy5wdXNoKGVudGl0eUZpZWxkKTtcblxuICAgIGlmIChlbnRpdHkuZW50aXR5VmFyKSB7XG4gICAgICBsZXQgdmFsdWVGaWVsZCA9IHtcbiAgICAgICAgbmFtZTogZW50aXR5LmVudGl0eVZhciA/IFwibGlua1wiIDogXCJ2YWx1ZVwiLCBcbiAgICAgICAgdmFsdWU6IGVudGl0eS52YWx1ZVZhciA/IGVudGl0eS52YWx1ZSA6IGVudGl0eS5pZCwgXG4gICAgICAgIHZhcmlhYmxlOiBlbnRpdHkudmFsdWVWYXIsXG4gICAgICB9O1xuICAgICAgZmllbGRzLnB1c2godmFsdWVGaWVsZCk7ICBcbiAgICB9XG4gICAgbGV0IHRlcm06IFRlcm0gPSB7XG4gICAgICB0eXBlOiBcInNlbGVjdFwiLFxuICAgICAgdGFibGU6IGVudGl0eS5lbnRpdHlWYXIgPyBcImRpcmVjdGlvbmxlc3MgbGlua3NcIiA6IFwiZW50aXR5IGVhdnNcIixcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgbm9kZTogbm9kZSxcbiAgICB9XG4gICAgcXVlcnkudGVybXMucHVzaCh0ZXJtKTtcbiAgICAvLyBwcm9qZWN0IGlmIG5lY2Vzc2FyeVxuICAgIGlmIChlbnRpdHkucHJvamVjdCA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IHByb2plY3RFbnRpdHkgPSB7XG4gICAgICAgIG5hbWU6IGVudGl0eS5kaXNwbGF5TmFtZS5yZXBsYWNlKC8gL2csJycpLFxuICAgICAgICB2YWx1ZTogZW50aXR5LmlkLCBcbiAgICAgICAgdmFyaWFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgICAgZW50aXR5LnByb2plY3RlZEFzID0gcHJvamVjdEVudGl0eS5uYW1lO1xuICAgICAgYWRkRmllbGRzVG9Qcm9qZWN0KHByb2plY3RGaWVsZHMsIFtwcm9qZWN0RW50aXR5XSk7XG4gICAgfVxuICAgIG5vZGUuZW50aXR5LmhhbmRsZWQgPSB0cnVlO1xuICB9XG4gIC8vIFByb2plY3Qgc29tZXRoaW5nIGlmIG5lY2Vzc2FyeSAgICAgICBcbiAgaWYgKHByb2plY3RGaWVsZHMubGVuZ3RoID4gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIGxldCBwcm9qZWN0ID0ge1xuICAgICAgdHlwZTogXCJwcm9qZWN0IVwiLFxuICAgICAgZmllbGRzOiBwcm9qZWN0RmllbGRzLFxuICAgIH1cbiAgICBxdWVyeS5wcm9qZWN0cy5wdXNoKHByb2plY3QpO1xuICB9XG4gIHJldHVybiBxdWVyeTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRGVidWcgdXRpbGl0eSBmdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG5sZXQgZGl2aWRlciA9IFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIjtcblxuZXhwb3J0IGxldCBkZWJ1ZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBsb2coeDogYW55KSB7XG4gIGlmIChkZWJ1Zykge1xuICAgIGNvbnNvbGUubG9nKHgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRva2VuVG9TdHJpbmcodG9rZW46IFRva2VuLCBzMT86IG51bWJlciwgczI/OiBudW1iZXIsIHMzPzogbnVtYmVyLCBzND86IG51bWJlciwgczU/OiBudW1iZXIpOiBzdHJpbmcge1xuICBsZXQgcHJvcGVydGllcyA9IGAoJHt0b2tlbi5wcm9wZXJ0aWVzLm1hcCgocHJvcGVydHk6IFByb3BlcnRpZXMpID0+IFByb3BlcnRpZXNbcHJvcGVydHldKS5qb2luKFwifFwiKX0pYDtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMubGVuZ3RoID09PSAyID8gXCJcIiA6IHByb3BlcnRpZXM7XG4gIGxldCB0b2tlblNwYW4gPSB0b2tlbi5zdGFydCA9PT0gdW5kZWZpbmVkID8gXCIgXCIgOiBgIFske3Rva2VuLnN0YXJ0fS0ke3Rva2VuLmVuZH1dIGA7XG4gIGxldCBzcGFjZXIxID0gQXJyYXkoczEtYCR7dG9rZW4uaXh9YC5sZW5ndGggKyAxKS5qb2luKFwiIFwiKTtcbiAgbGV0IHNwYWNlcjIgPSBBcnJheShzMi1gJHt0b2tlbi5vcmlnaW5hbFdvcmR9YC5sZW5ndGggKyAxKS5qb2luKFwiIFwiKTtcbiAgbGV0IHNwYWNlcjMgPSBBcnJheShzMy1gJHt0b2tlbi5ub3JtYWxpemVkV29yZH1gLmxlbmd0aCArIDEpLmpvaW4oXCIgXCIpO1xuICBsZXQgc3BhY2VyNCA9IEFycmF5KHM0IC0gYCR7TWFqb3JQYXJ0c09mU3BlZWNoW2dldE1ham9yUE9TKHRva2VuLlBPUyldfWAubGVuZ3RoICsgMSkuam9pbihcIiBcIik7XG4gIGxldCBzcGFjZXI1ID0gQXJyYXkoczUgLSBgJHtNaW5vclBhcnRzT2ZTcGVlY2hbdG9rZW4uUE9TXX1gLmxlbmd0aCArIDEpLmpvaW4oXCIgXCIpO1xuICBsZXQgdG9rZW5TdHJpbmcgPSBgJHt0b2tlbi5peH06JHtzcGFjZXIxfSAke3Rva2VuLm9yaWdpbmFsV29yZH0ke3NwYWNlcjJ9IHwgJHt0b2tlbi5ub3JtYWxpemVkV29yZH0ke3NwYWNlcjN9IHwgJHtNYWpvclBhcnRzT2ZTcGVlY2hbZ2V0TWFqb3JQT1ModG9rZW4uUE9TKV19JHtzcGFjZXI0fSB8ICR7TWlub3JQYXJ0c09mU3BlZWNoW3Rva2VuLlBPU119JHtzcGFjZXI1fSB8ICR7cHJvcGVydGllc31gIDtcbiAgcmV0dXJuIHRva2VuU3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5BcnJheVRvU3RyaW5nKHRva2VuczogQXJyYXk8VG9rZW4+KTogc3RyaW5nIHtcbiAgbGV0IHMxOiBudW1iZXIgPSBgJHt0b2tlbnNbdG9rZW5zLmxlbmd0aC0xXS5peH1gLmxlbmd0aDsgXG4gIGxldCBzMjogbnVtYmVyID0gdG9rZW5zLm1hcCgodG9rZW4pID0+IHRva2VuLm9yaWdpbmFsV29yZC5sZW5ndGgpLnJlZHVjZSgoYSxiKSA9PiB7XG4gICAgaWYgKGIgPiBhKSB7IHJldHVybiBiOyB9IGVsc2UgeyByZXR1cm4gYTsgfVxuICB9KTtcbiAgbGV0IHMzOiBudW1iZXIgPSB0b2tlbnMubWFwKCh0b2tlbikgPT4gdG9rZW4ubm9ybWFsaXplZFdvcmQubGVuZ3RoKS5yZWR1Y2UoKGEsYikgPT4ge1xuICAgIGlmIChiID4gYSkgeyByZXR1cm4gYjsgfSBlbHNlIHsgcmV0dXJuIGE7IH0gXG4gIH0pO1xuICBsZXQgczQ6IG51bWJlciA9IHRva2Vucy5tYXAoKHRva2VuKSA9PiBgJHtNYWpvclBhcnRzT2ZTcGVlY2hbZ2V0TWFqb3JQT1ModG9rZW4uUE9TKV19YC5sZW5ndGgpLnJlZHVjZSgoYSxiKSA9PiB7XG4gICAgaWYgKGIgPiBhKSB7IHJldHVybiBiOyB9IGVsc2UgeyByZXR1cm4gYTsgfSBcbiAgfSk7XG4gIGxldCBzNTogbnVtYmVyID0gdG9rZW5zLm1hcCgodG9rZW4pID0+IGAke01pbm9yUGFydHNPZlNwZWVjaFt0b2tlbi5QT1NdfWAubGVuZ3RoKS5yZWR1Y2UoKGEsYikgPT4ge1xuICAgIGlmIChiID4gYSkgeyByZXR1cm4gYjsgfSBlbHNlIHsgcmV0dXJuIGE7IH0gXG4gIH0pO1xuICBsZXQgdG9rZW5BcnJheVN0cmluZyA9IHRva2Vucy5tYXAoKHRva2VuKSA9PiB0b2tlblRvU3RyaW5nKHRva2VuLHMxLHMyLHMzLHM0LHM1KSkuam9pbihcIlxcblwiKTtcbiAgcmV0dXJuIGRpdmlkZXIgKyBcIlxcblwiICsgdG9rZW5BcnJheVN0cmluZyArIFwiXFxuXCIgKyBkaXZpZGVyO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVdGlsaXR5IGZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBmbGF0dGVuTmVzdGVkQXJyYXkobmVzdGVkQXJyYXk6IEFycmF5PEFycmF5PGFueT4+KTogQXJyYXk8YW55PiB7XG4gIGxldCBmbGF0dGVuZWQ6IEFycmF5PGFueT4gPSBbXS5jb25jYXQuYXBwbHkoW10sbmVzdGVkQXJyYXkpO1xuICByZXR1cm4gZmxhdHRlbmVkO1xufVxuXG5mdW5jdGlvbiBvbmx5VW5pcXVlKHZhbHVlLCBpbmRleCwgc2VsZikgeyBcbiAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xufVxuXG5mdW5jdGlvbiBhcnJheUludGVyc2VjdChhLCBiKSB7XG4gIGxldCBhaSA9IDA7XG4gIGxldCBiaSA9IDA7XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgd2hpbGUgKGFpIDwgYS5sZW5ndGggJiYgYmkgPCBiLmxlbmd0aCkge1xuICAgIGlmIChhW2FpXSA8IGJbYmldKSBhaSsrO1xuICAgIGVsc2UgaWYgKGFbYWldID4gYltiaV0pIGJpKys7XG4gICAgZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChhW2FpXSk7XG4gICAgICBhaSsrO1xuICAgICAgYmkrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gaXNOdW1lcmljKG46IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xufVxuXG5mdW5jdGlvbiBhbGxGb3VuZChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gIGxldCBjRm91bmQgPSBub2RlLmNoaWxkcmVuLm1hcChhbGxGb3VuZCkuZXZlcnkoKGMpPT5jKTtcbiAgaWYgKGNGb3VuZCAmJiBub2RlLmZvdW5kKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59IFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5kZWNsYXJlIHZhciBleHBvcnRzO1xud2luZG93W1wiTkxRUFwiXSA9IGV4cG9ydHM7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwibWljcm9SZWFjdC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdmVuZG9yL21hcmtlZC5kLnRzXCIgLz5cbmltcG9ydCAqIGFzIG1pY3JvUmVhY3QgZnJvbSBcIi4vbWljcm9SZWFjdFwiO1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tIFwiLi9ydW50aW1lXCI7XG5pbXBvcnQge1VJUmVuZGVyZXJ9IGZyb20gXCIuL3VpUmVuZGVyZXJcIjtcbmltcG9ydCB7RU5WLCBERUJVRywgdXVpZH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IHZhciBzeW5jZWRUYWJsZXMgPSBbXCJzb3VyY2VkIGVhdlwiLCBcInZpZXdcIiwgXCJhY3Rpb25cIiwgXCJhY3Rpb24gc291cmNlXCIsIFwiYWN0aW9uIG1hcHBpbmdcIiwgXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiLCBcImFjdGlvbiBtYXBwaW5nIHNvcnRlZFwiLCBcImFjdGlvbiBtYXBwaW5nIGxpbWl0XCJdO1xuZXhwb3J0IHZhciBldmVMb2NhbFN0b3JhZ2VLZXkgPSBcImV2ZVwiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUmVuZGVyZXJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBwZXJmU3RhdHM7XG52YXIgcGVyZlN0YXRzVWk7XG52YXIgdXBkYXRlU3RhdCA9IDA7XG5leHBvcnQgdmFyIHJlbmRlcmVyO1xuZXhwb3J0IHZhciB1aVJlbmRlcmVyO1xuZnVuY3Rpb24gaW5pdFJlbmRlcmVyKCkge1xuICByZW5kZXJlciA9IG5ldyBtaWNyb1JlYWN0LlJlbmRlcmVyKCk7XG4gIHVpUmVuZGVyZXIgPSBuZXcgVUlSZW5kZXJlcihldmUpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLmNvbnRlbnQpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZW5kZXIpO1xuICBwZXJmU3RhdHNVaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHBlcmZTdGF0c1VpLmlkID0gXCJwZXJmU3RhdHNcIjtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwZXJmU3RhdHNVaSk7XG59XG5cbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHZhciBwZXJmb3JtYW5jZSA9IHdpbmRvd1tcInBlcmZvcm1hbmNlXCJdIHx8IHsgbm93OiAoKSA9PiAobmV3IERhdGUoKSkuZ2V0VGltZSgpIH1cblxuZXhwb3J0IHZhciByZW5kZXJSb290cyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgaWYoIXJlbmRlcmVyIHx8IHJlbmRlcmVyLnF1ZXVlZCkgcmV0dXJuO1xuICByZW5kZXJlci5xdWV1ZWQgPSB0cnVlO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgbGV0IHN0YXRzOmFueSA9IHt9O1xuICAgIGxldCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgbGV0IHRyZWVzID0gW107XG4gICAgZm9yICh2YXIgcm9vdCBpbiByZW5kZXJSb290cykge1xuICAgICAgdHJlZXMucHVzaChyZW5kZXJSb290c1tyb290XSgpKTtcbiAgICB9XG5cbiAgICBzdGF0cy5yb290ID0gKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpLnRvRml4ZWQoMik7XG4gICAgaWYgKCtzdGF0cy5yb290ID4gMTApIGNvbnNvbGUuaW5mbyhcIlNsb3cgcm9vdDogXCIgKyBzdGF0cy5yb290KTtcblxuICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IGR5bmFtaWNVSSA9IGV2ZS5maW5kKFwic3lzdGVtIHVpXCIpLm1hcCgodWkpID0+IHVpW1widGVtcGxhdGVcIl0pO1xuICAgIGlmKERFQlVHICYmIERFQlVHLlVJX0NPTVBJTEUpIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhcImNvbXBpbGluZ1wiLCBkeW5hbWljVUkpO1xuICAgICAgY29uc29sZS5pbmZvKFwiKlwiLCB1aVJlbmRlcmVyLmNvbXBpbGUoZHluYW1pY1VJKSk7XG4gICAgfVxuICAgIHRyZWVzLnB1c2guYXBwbHkodHJlZXMsIHVpUmVuZGVyZXIuY29tcGlsZShkeW5hbWljVUkpKTtcbiAgICBzdGF0cy51aUNvbXBpbGUgPSAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkudG9GaXhlZCgyKTtcbiAgICBpZiAoK3N0YXRzLnVpQ29tcGlsZSA+IDEwKSBjb25zb2xlLmluZm8oXCJTbG93IHVpIGNvbXBpbGU6IFwiICsgc3RhdHMudWlDb21waWxlKTtcblxuICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRyZWVzKTtcbiAgICBzdGF0cy5yZW5kZXIgPSAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkudG9GaXhlZCgyKTtcbiAgICBzdGF0cy51cGRhdGUgPSB1cGRhdGVTdGF0LnRvRml4ZWQoMik7XG5cbiAgICBsZXQgaHRtbCA9IFwiXCI7XG4gICAgaHRtbCArPSBgPHNwYW4+cm9vdDogJHtzdGF0cy5yb290fTwvc3Bhbj5gO1xuICAgIC8vIGh0bWwgKz0gYDxzcGFuPnVpIGNvbXBpbGU6ICR7c3RhdHMudWlDb21waWxlfTwvc3Bhbj5gO1xuICAgIGh0bWwgKz0gYDxzcGFuPnJlbmRlcjogJHtzdGF0cy5yZW5kZXJ9PC9zcGFuPmA7XG4gICAgaHRtbCArPSBgPHNwYW4+dXBkYXRlOiAke3N0YXRzLnVwZGF0ZX08L3NwYW4+YDtcbiAgICBwZXJmU3RhdHNVaS5pbm5lckhUTUwgPSBodG1sO1xuICAgIHBlcmZTdGF0cyA9IHN0YXRzO1xuXG4gICAgcmVuZGVyZXIucXVldWVkID0gZmFsc2U7XG4gIH0pO1xufVxuXG52YXIgc3RvcmVRdWV1ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHN0b3JlTG9jYWxseSgpIHtcbiAgaWYoc3RvcmVRdWV1ZWQpIHJldHVybjtcbiAgc3RvcmVRdWV1ZWQgPSB0cnVlO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBsZXQgc2VyaWFsaXplZCA9IGV2ZS5zZXJpYWxpemUodHJ1ZSk7XG4gICAgaWYgKGV2ZUxvY2FsU3RvcmFnZUtleSA9PT0gXCJldmVcIikge1xuICAgICAgZm9yIChsZXQgc3luY2VkIG9mIHN5bmNlZFRhYmxlcykge1xuICAgICAgICBkZWxldGUgc2VyaWFsaXplZFtzeW5jZWRdO1xuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUgc2VyaWFsaXplZFtcInByb3ZlbmFuY2VcIl07XG4gICAgbG9jYWxTdG9yYWdlW2V2ZUxvY2FsU3RvcmFnZUtleV0gPSBKU09OLnN0cmluZ2lmeShzZXJpYWxpemVkKTtcbiAgICBzdG9yZVF1ZXVlZCA9IGZhbHNlO1xuICB9LCAxMDAwKTtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIERpc3BhdGNoXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5sZXQgZGlzcGF0Y2hlcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlKGV2ZW50LCBmdW5jKSB7XG4gIGlmIChkaXNwYXRjaGVzW2V2ZW50XSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYE92ZXJ3cml0aW5nIGhhbmRsZXIgZm9yICcke2V2ZW50fSdgKTtcbiAgfVxuICBkaXNwYXRjaGVzW2V2ZW50XSA9IGZ1bmM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChldmVudD86IHN0cmluZywgaW5mbz86IHsgW2tleTogc3RyaW5nXTogYW55IH0sIGRpc3BhdGNoSW5mbz8pIHtcbiAgbGV0IHJlc3VsdCA9IGRpc3BhdGNoSW5mbztcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICByZXN1bHQgPSBldmUuZGlmZigpO1xuICAgIHJlc3VsdC5tZXRhLnJlbmRlciA9IHRydWU7XG4gICAgcmVzdWx0Lm1ldGEuc3RvcmUgPSB0cnVlO1xuICB9XG4gIHJlc3VsdC5kaXNwYXRjaCA9IChldmVudCwgaW5mbykgPT4ge1xuICAgIHJldHVybiBkaXNwYXRjaChldmVudCwgaW5mbywgcmVzdWx0KTtcbiAgfTtcbiAgcmVzdWx0LmNvbW1pdCA9ICgpID0+IHtcbiAgICB2YXIgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAvLyByZXN1bHQucmVtb3ZlKFwiYnVpbHRpbiBlbnRpdHlcIiwge2VudGl0eTogXCJyZW5kZXIgcGVyZm9ybWFuY2Ugc3RhdGlzdGljc1wifSk7XG4gICAgLy8gcmVzdWx0LmFkZChcImJ1aWx0aW4gZW50aXR5XCIsIHtlbnRpdHk6IFwicmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3NcIiwgY29udGVudDogYFxuICAgIC8vICMgUmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3MgKHtpcyBhOiBzeXN0ZW19KVxuICAgIC8vIHJvb3Q6IHtyb290OiAke3BlcmZTdGF0cy5yb290fX1cbiAgICAvLyB1aSBjb21waWxlOiB7dWkgY29tcGlsZTogJHtwZXJmU3RhdHMudWlDb21waWxlfX1cbiAgICAvLyByZW5kZXI6IHtyZW5kZXI6ICR7cGVyZlN0YXRzLnJlbmRlcn19XG4gICAgLy8gdXBkYXRlOiB7dXBkYXRlOiAke3BlcmZTdGF0cy51cGRhdGV9fVxuICAgIC8vIEhvcnJpYmxlIGhhY2ssIGRpc3JlZ2FyZCB0aGlzOiB7cGVyZiBzdGF0czogcmVuZGVyIHBlcmZvcm1hbmNlIHN0YXRpc3RpY3N9XG4gICAgLy8gYH0pO1xuICAgIGlmKCFydW50aW1lLklOQ1JFTUVOVEFMKSB7XG4gICAgICBldmUuYXBwbHlEaWZmKHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZS5hcHBseURpZmZJbmNyZW1lbnRhbChyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lm1ldGEucmVuZGVyKSB7XG4gICAgICByZW5kZXIoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5tZXRhLnN0b3JlKSB7XG4gICAgICBzdG9yZUxvY2FsbHkoKTtcbiAgICAgIGlmIChldmVMb2NhbFN0b3JhZ2VLZXkgPT09IFwiZXZlXCIpIHtcbiAgICAgICAgc2VuZENoYW5nZVNldChyZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTdGF0ID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcbiAgfVxuICBpZighZXZlbnQpIHJldHVybiByZXN1bHQ7XG4gIGxldCBmdW5jID0gZGlzcGF0Y2hlc1tldmVudF07XG4gIGlmICghZnVuYykge1xuICAgIGNvbnNvbGUuZXJyb3IoYE5vIGRpc3BhdGNoZXMgZm9yICcke2V2ZW50fScgd2l0aCAke0pTT04uc3RyaW5naWZ5KGluZm8pIH1gKTtcbiAgfSBlbHNlIHtcbiAgICBmdW5jKHJlc3VsdCwgaW5mbyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gTm8tb3AgZGlzcGF0Y2ggdG8gdHJpZ2dlciBhIHJlcmVuZGVyIG9yIHN0YXJ0IGEgY2hhaW4uXG5oYW5kbGUoXCJyZXJlbmRlclwiLCAoY2hhbmdlczpydW50aW1lLkRpZmYpID0+IHtcbn0pO1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdGF0ZVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IHZhciBldmUgPSBydW50aW1lLmluZGV4ZXIoKTtcbmV4cG9ydCB2YXIgaW5pdGlhbGl6ZXJzID0ge307XG5leHBvcnQgdmFyIGFjdGl2ZVNlYXJjaGVzID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KG5hbWUsIGZ1bmMpIHtcbiAgaW5pdGlhbGl6ZXJzW25hbWVdID0gZnVuYztcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZUluaXRpYWxpemVycygpIHtcbiAgZm9yIChsZXQgaW5pdE5hbWUgaW4gaW5pdGlhbGl6ZXJzKSB7XG4gICAgaW5pdGlhbGl6ZXJzW2luaXROYW1lXSgpO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBXZWJzb2NrZXRcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBtZSA9IHV1aWQoKTtcbmlmKHRoaXMubG9jYWxTdG9yYWdlKSB7XG4gIGlmKGxvY2FsU3RvcmFnZVtcIm1lXCJdKSBtZSA9IGxvY2FsU3RvcmFnZVtcIm1lXCJdO1xuICBlbHNlIGxvY2FsU3RvcmFnZVtcIm1lXCJdID0gbWU7XG59XG5cbmV4cG9ydCB2YXIgc29ja2V0O1xuZnVuY3Rpb24gY29ubmVjdFRvU2VydmVyKCkge1xuICBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIHx8IFwibG9jYWxob3N0XCJ9OjgwODBgKTtcbiAgc29ja2V0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIHNlcnZlciwgZmFsbGluZyBiYWNrIHRvIGxvY2FsIHN0b3JhZ2VcIik7XG4gICAgZXZlTG9jYWxTdG9yYWdlS2V5ID0gXCJsb2NhbC1ldmVcIjtcbiAgICBleGVjdXRlSW5pdGlhbGl6ZXJzKCk7XG4gICAgcmVuZGVyKCk7XG4gIH1cbiAgc29ja2V0Lm9ub3BlbiA9ICgpID0+IHtcbiAgICBzZW5kU2VydmVyKFwiY29ubmVjdFwiLCBtZSk7XG4gIH1cbiAgc29ja2V0Lm9ubWVzc2FnZSA9IChkYXRhKSA9PiB7XG4gICAgbGV0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YS5kYXRhKTtcbiAgICBjb25zb2xlLmxvZyhcIldTIE1FU1NBR0U6XCIsIHBhcnNlZCk7XG5cbiAgICBpZiAocGFyc2VkLmtpbmQgPT09IFwibG9hZFwiKSB7XG4gICAgICAvLyBldmUubG9hZChwYXJzZWQuZGF0YSk7XG4gICAgICBleGVjdXRlSW5pdGlhbGl6ZXJzKCk7XG4gICAgICByZW5kZXIoKTtcbiAgICB9IGVsc2UgaWYgKHBhcnNlZC5raW5kID09PSBcImNoYW5nZXNldFwiKSB7XG4gICAgICBsZXQgZGlmZiA9IGV2ZS5kaWZmKCk7XG4gICAgICBkaWZmLnRhYmxlcyA9IHBhcnNlZC5kYXRhO1xuICAgICAgZXZlLmFwcGx5RGlmZihkaWZmKTtcbiAgICAgIHJlbmRlcigpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2VuZFNlcnZlcihtZXNzYWdlS2luZCwgZGF0YSkge1xuICBpZiAoIXNvY2tldCkgcmV0dXJuO1xuICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IGtpbmQ6IG1lc3NhZ2VLaW5kLCBtZSwgdGltZTogKG5ldyBEYXRlKS5nZXRUaW1lKCksIGRhdGEgfSkpO1xufVxuXG5mdW5jdGlvbiBzZW5kQ2hhbmdlU2V0KGNoYW5nZXNldCkge1xuICBpZiAoIXNvY2tldCkgcmV0dXJuO1xuICBsZXQgY2hhbmdlcyA9IHt9O1xuICBsZXQgc2VuZCA9IGZhbHNlO1xuICBmb3IgKGxldCB0YWJsZSBvZiBzeW5jZWRUYWJsZXMpIHtcbiAgICBpZiAoY2hhbmdlc2V0LnRhYmxlc1t0YWJsZV0pIHtcbiAgICAgIHNlbmQgPSB0cnVlO1xuICAgICAgY2hhbmdlc1t0YWJsZV0gPSBjaGFuZ2VzZXQudGFibGVzW3RhYmxlXTtcbiAgICB9XG4gIH1cbiAgaWYgKHNlbmQpIHNlbmRTZXJ2ZXIoXCJjaGFuZ2VzZXRcIiwgY2hhbmdlcyk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHb1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpbml0UmVuZGVyZXIoKTtcbiAgICAvLyBjb25uZWN0VG9TZXJ2ZXIoKTtcbiAgICBldmVMb2NhbFN0b3JhZ2VLZXkgPSBcImxvY2FsLWV2ZVwiO1xuICAgIGV4ZWN1dGVJbml0aWFsaXplcnMoKTtcbiAgICByZW5kZXIoKTtcbiAgfSk7XG59XG5cbmluaXQoXCJsb2FkIGRhdGFcIixmdW5jdGlvbigpIHtcbiAgbGV0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZVtldmVMb2NhbFN0b3JhZ2VLZXldO1xuICBpZihzdG9yZWQpIHtcbiAgICBldmUubG9hZChzdG9yZWQpO1xuICB9XG59KTtcblxuZGVjbGFyZSB2YXIgZXhwb3J0cztcbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHdpbmRvd1tcImFwcFwiXSA9IGV4cG9ydHM7XG4iLCJpbXBvcnQge3VucGFkLCB0aXRsZWNhc2UsIGJ1aWx0aW5JZH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tIFwiLi9ydW50aW1lXCJcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi9hcHBcIlxuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiXG5pbXBvcnQge1VJRWxlbSwgcGFyc2VEU0wsIEFydGlmYWN0c30gZnJvbSBcIi4vcGFyc2VyXCJcbmltcG9ydCB7bm9ybWFsaXplU3RyaW5nfSBmcm9tIFwiLi9OTFF1ZXJ5UGFyc2VyXCJcbmltcG9ydCB7VUl9IGZyb20gXCIuL3VpUmVuZGVyZXJcIlxuXG5leHBvcnQgdmFyIGl4ZXIgPSBldmU7XG5kZWNsYXJlIHZhciB1dWlkO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBVdGlsaXRpZXNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxucnVudGltZS5kZWZpbmUoXCJub3JtYWxpemUgc3RyaW5nXCIsIHtyZXN1bHQ6IFwicmVzdWx0XCJ9LCBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHtyZXN1bHQ6IG5vcm1hbGl6ZVN0cmluZyh0ZXh0KX07XG4gIH1cbiAgcmV0dXJuIHtyZXN1bHQ6IHRleHR9O1xufSlcblxuLy8gZXhwb3J0IGZ1bmN0aW9uIFVJRnJvbURTTChzdHI6c3RyaW5nKTpVSSB7XG4vLyAgIGZ1bmN0aW9uIHByb2Nlc3NFbGVtKGRhdGE6VUlFbGVtKTpVSSB7XG4vLyAgICAgbGV0IGVsZW0gPSBuZXcgVUkoZGF0YS5pZCB8fCB1dWlkKCkpO1xuLy8gICAgIGlmKGRhdGEuYmluZGluZykgZWxlbS5iaW5kKGRhdGEuYmluZGluZ0tpbmQgPT09IFwicXVlcnlcIiA/IHBhcnNlRFNMKGRhdGEuYmluZGluZyk7XG4vLyAgICAgaWYoZGF0YS5lbWJlZGRlZCkgZWxlbS5lbWJlZChkYXRhLmVtYmVkZGVkKTtcbi8vICAgICBpZihkYXRhLmF0dHJpYnV0ZXMpIGVsZW0uYXR0cmlidXRlcyhkYXRhLmF0dHJpYnV0ZXMpO1xuLy8gICAgIGlmKGRhdGEuZXZlbnRzKSBlbGVtLmV2ZW50cyhkYXRhLmV2ZW50cyk7XG4vLyAgICAgaWYoZGF0YS5jaGlsZHJlbikge1xuLy8gICAgICAgZm9yKGxldCBjaGlsZCBvZiBkYXRhLmNoaWxkcmVuKSBlbGVtLmNoaWxkKHByb2Nlc3NFbGVtKGNoaWxkKSk7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiBlbGVtO1xuLy8gICB9XG4vLyAgIHJldHVybiBwcm9jZXNzRWxlbShwYXJzZVVJKHN0cikpO1xuLy8gfVxuXG5jbGFzcyBCU1BoYXNlIHtcbiAgcHJvdGVjdGVkIF92aWV3czp7W3ZpZXc6c3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuICBwcm90ZWN0ZWQgX3ZpZXdGaWVsZHM6e1t2aWV3OnN0cmluZ106IHN0cmluZ1tdfSA9IHt9O1xuICBwcm90ZWN0ZWQgX2VudGl0aWVzOnN0cmluZ1tdID0gW107XG4gIHByb3RlY3RlZCBfdWlzOntbdWk6c3RyaW5nXTogVUl9ID0ge307XG4gIHByb3RlY3RlZCBfcXVlcmllczp7W3F1ZXJ5OnN0cmluZ106IHJ1bnRpbWUuUXVlcnl9ID0ge307XG4gIHByb3RlY3RlZCBfbmFtZXM6e1tuYW1lOnN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaXhlcjpydW50aW1lLkluZGV4ZXIsIHB1YmxpYyBjaGFuZ2VzZXQgPSBpeGVyLmRpZmYoKSkge31cblxuICB2aWV3S2luZCh2aWV3OnN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl92aWV3c1t2aWV3XTtcbiAgfVxuICB2aWV3RmllbGRzKHZpZXc6c3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdGaWVsZHNbdmlld107XG4gIH1cbiAgYXBwbHkobnVrZUV4aXN0aW5nPzpib29sZWFuKSB7XG4gICAgZm9yKGxldCB2aWV3IGluIHRoaXMuX3ZpZXdzKSB7XG4gICAgICBpZih0aGlzLl92aWV3c1t2aWV3XSA9PT0gXCJ0YWJsZVwiKSBpeGVyLmFkZFRhYmxlKHZpZXcsIHRoaXMuX3ZpZXdGaWVsZHNbdmlld10pO1xuICAgIH1cbiAgICBpZihudWtlRXhpc3RpbmcpIHtcbiAgICAgIGZvcihsZXQgdmlldyBpbiB0aGlzLl92aWV3cykge1xuICAgICAgICBpZih0aGlzLl92aWV3c1t2aWV3XSAhPT0gXCJ0YWJsZVwiKSB0aGlzLmNoYW5nZXNldC5tZXJnZShydW50aW1lLlF1ZXJ5LnJlbW92ZSh2aWV3LCB0aGlzLml4ZXIpKTtcbiAgICAgIH1cbiAgICAgIGZvcihsZXQgZW50aXR5IG9mIHRoaXMuX2VudGl0aWVzKSB0aGlzLmNoYW5nZXNldC5yZW1vdmUoXCJidWlsdGluIGVudGl0eVwiLCB7ZW50aXR5fSk7XG4gICAgICBmb3IobGV0IHVpIGluIHRoaXMuX3VpcykgdGhpcy5jaGFuZ2VzZXQubWVyZ2UoVUkucmVtb3ZlKHVpLCB0aGlzLml4ZXIpKTtcbiAgICB9XG4gICAgaXhlci5hcHBseURpZmYodGhpcy5jaGFuZ2VzZXQpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBNYWNyb3NcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBhZGRGYWN0KHRhYmxlOnN0cmluZywgZmFjdDp7fSkge1xuICAgIHRoaXMuY2hhbmdlc2V0LmFkZCh0YWJsZSwgZmFjdCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRFbnRpdHkoZW50aXR5OnN0cmluZywgbmFtZTpzdHJpbmcsIGtpbmRzOnN0cmluZ1tdLCBhdHRyaWJ1dGVzPzp7fSwgZXh0cmFDb250ZW50PzpzdHJpbmcpIHtcbiAgICBlbnRpdHkgPSBidWlsdGluSWQoZW50aXR5KTtcbiAgICB0aGlzLl9uYW1lc1tuYW1lXSA9IGVudGl0eTtcbiAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG4gICAgdGhpcy5hZGRGYWN0KFwiZGlzcGxheSBuYW1lXCIsIHtpZDogZW50aXR5LCBuYW1lOiBuYW1lfSk7XG4gICAgbGV0IGlzQXMgPSBbXTtcbiAgICBmb3IobGV0IGtpbmQgb2Yga2luZHMpIHtcbiAgICAgIGxldCBzb3VyY2VJZCA9IGAke2VudGl0eX0saXMgYSwke2tpbmR9YDtcbiAgICAgIGlzQXMucHVzaChgeyR7a2luZH18cmVwPWxpbms7IGVhdiBzb3VyY2UgPSAke3NvdXJjZUlkfX1gKTtcbiAgICAgIGxldCBjb2xsRW50aXR5ID0gYnVpbHRpbklkKGtpbmQpO1xuICAgICAgdGhpcy5hZGRGYWN0KFwiZGlzcGxheSBuYW1lXCIsIHtpZDogY29sbEVudGl0eSwgbmFtZToga2luZH0pO1xuICAgICAgdGhpcy5hZGRGYWN0KFwic291cmNlZCBlYXZcIiwge2VudGl0eSwgYXR0cmlidXRlOiBcImlzIGFcIiwgdmFsdWU6IGNvbGxFbnRpdHksIHNvdXJjZTogc291cmNlSWR9KVxuICAgIH1cbiAgICBsZXQgY29sbGVjdGlvbnNUZXh0ID0gXCJcIjtcbiAgICBpZihpc0FzLmxlbmd0aClcbiAgICAgIGNvbGxlY3Rpb25zVGV4dCA9IGAke3RpdGxlY2FzZShuYW1lKX0gaXMgYSAke2lzQXMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0gJHtpc0FzLmxlbmd0aCA+IDEgPyBcImFuZFwiIDogXCJcIn0gJHtpc0FzW2lzQXMubGVuZ3RoIC0gMV19LmA7XG4gICAgbGV0IGNvbnRlbnQgPSB1bnBhZCg2KSBgXG4gICAgICAke2NvbGxlY3Rpb25zVGV4dH1cbiAgICBgO1xuICAgIGlmKGF0dHJpYnV0ZXMpIHtcbiAgICAgIGZvcihsZXQgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGxldCBzb3VyY2VJZCA9IGAke2VudGl0eX0sJHthdHRyfSwke2F0dHJpYnV0ZXNbYXR0cl19YDtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fbmFtZXNbYXR0cmlidXRlc1thdHRyXV0gfHwgYXR0cmlidXRlc1thdHRyXTtcbiAgICAgICAgdGhpcy5hZGRGYWN0KFwic291cmNlZCBlYXZcIiwge2VudGl0eSwgYXR0cmlidXRlOiBhdHRyLCB2YWx1ZSwgc291cmNlOiBzb3VyY2VJZH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihleHRyYUNvbnRlbnQpIGNvbnRlbnQgKz0gXCJcXG5cIiArIGV4dHJhQ29udGVudDtcbiAgICBsZXQgcGFnZSA9IGAke2VudGl0eX18cm9vdGA7XG4gICAgdGhpcy5hZGRGYWN0KFwicGFnZSBjb250ZW50XCIsIHtwYWdlLCBjb250ZW50fSk7XG4gICAgdGhpcy5hZGRGYWN0KFwiZW50aXR5IHBhZ2VcIiwge2VudGl0eSwgcGFnZX0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkVmlldyh2aWV3OnN0cmluZywga2luZDpzdHJpbmcsIGZpZWxkczpzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZpZXdzW3ZpZXddID0ga2luZDtcbiAgICB0aGlzLl92aWV3RmllbGRzW3ZpZXddID0gZmllbGRzO1xuICAgIHRoaXMuYWRkRmFjdChcInZpZXdcIiwge3ZpZXcsIGtpbmQ6IGtpbmR9KTtcbiAgICBmb3IobGV0IGZpZWxkIG9mIGZpZWxkcykgdGhpcy5hZGRGYWN0KFwiZmllbGRcIiwge3ZpZXcsIGZpZWxkfSk7XG4gICAgbGV0IGVudGl0eSA9IGAke3ZpZXd9IHZpZXdgO1xuICAgIHRoaXMuYWRkRW50aXR5KGVudGl0eSwgZW50aXR5LCBbXCJzeXN0ZW1cIiwga2luZF0sIHVuZGVmaW5lZCwgdW5wYWQoNikgYFxuICAgICAgIyMgRmllbGRzXG4gICAgICAke2ZpZWxkcy5tYXAoKGZpZWxkKSA9PiBgKiAke2ZpZWxkfWApLmpvaW4oXCJcXG4gICAgICBcIil9XG4gICAgYCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRUYWJsZSh2aWV3OnN0cmluZywgZmllbGRzOnN0cmluZ1tdKSB7XG4gICAgdGhpcy5hZGRWaWV3KHZpZXcsIFwidGFibGVcIiwgZmllbGRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZFVuaW9uKHZpZXc6c3RyaW5nLCBmaWVsZHM6c3RyaW5nW10sIGJ1aWx0aW46Ym9vbGVhbiA9IHRydWUpIHtcbiAgICB0aGlzLmFkZFZpZXcodmlldywgXCJ1bmlvblwiLCBmaWVsZHMpO1xuICAgIGlmKGJ1aWx0aW4pIHtcbiAgICAgIGxldCB0YWJsZSA9IGBidWlsdGluICR7dmlld31gO1xuICAgICAgdGhpcy5hZGRUYWJsZSh0YWJsZSwgZmllbGRzKTtcbiAgICAgIHRoaXMuYWRkVW5pb25NZW1iZXIodmlldywgdGFibGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkVW5pb25NZW1iZXIodW5pb246c3RyaW5nLCBtZW1iZXI6IHN0cmluZywgbWFwcGluZz86e30pIHtcbiAgICAvLyBhcHBseSB0aGUgbmF0dXJhbCBtYXBwaW5nLlxuICAgIGlmKCFtYXBwaW5nKSB7XG4gICAgICBpZih0aGlzLnZpZXdLaW5kKHVuaW9uKSAhPT0gXCJ1bmlvblwiKSB0aHJvdyBuZXcgRXJyb3IoYFVuaW9uICcke3VuaW9ufScgbXVzdCBiZSBhZGRlZCBiZWZvcmUgYWRkaW5nIG1lbWJlcnNgKTtcbiAgICAgIG1hcHBpbmcgPSB7fTtcbiAgICAgIGZvcihsZXQgZmllbGQgb2YgdGhpcy52aWV3RmllbGRzKHVuaW9uKSkgbWFwcGluZ1tmaWVsZF0gPSBmaWVsZDtcbiAgICB9XG4gICAgbGV0IGFjdGlvbiA9IGAke3VuaW9ufSA8LS0gJHttZW1iZXJ9IDwtLSAke0pTT04uc3RyaW5naWZ5KG1hcHBpbmcpfWA7XG4gICAgdGhpcy5hZGRGYWN0KFwiYWN0aW9uXCIsIHt2aWV3OiB1bmlvbiwgYWN0aW9uLCBraW5kOiBcInVuaW9uXCIsIGl4OiAwfSlcbiAgICAgIC5hZGRGYWN0KFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IG1lbWJlcn0pO1xuXG4gICAgZm9yKGxldCBmaWVsZCBpbiBtYXBwaW5nKSB7XG4gICAgICBsZXQgbWFwcGVkID0gbWFwcGluZ1tmaWVsZF07XG4gICAgICBpZihtYXBwZWQuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgIHRoaXMuYWRkRmFjdChcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb24sIGZyb206IGZpZWxkLCBcInZhbHVlXCI6IG1hcHBlZFswXX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRGYWN0KFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbiwgZnJvbTogZmllbGQsIFwidG8gc291cmNlXCI6IG1lbWJlciwgXCJ0byBmaWVsZFwiOiBtYXBwZWR9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRRdWVyeSh2aWV3OnN0cmluZywgcXVlcnk6cnVudGltZS5RdWVyeSkge1xuICAgIHF1ZXJ5Lm5hbWUgPSB2aWV3O1xuICAgIHRoaXMuX3F1ZXJpZXNbdmlld10gPSBxdWVyeTtcbiAgICB0aGlzLmFkZFZpZXcodmlldywgXCJxdWVyeVwiLCBPYmplY3Qua2V5cyhxdWVyeS5wcm9qZWN0aW9uTWFwIHx8IHt9KSk7XG4gICAgdGhpcy5jaGFuZ2VzZXQubWVyZ2UocXVlcnkuY2hhbmdlc2V0KHRoaXMuaXhlcikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkQXJ0aWZhY3RzKGFydGlmYWN0czpBcnRpZmFjdHMpIHtcbiAgICBsZXQgdmlld3MgPSBhcnRpZmFjdHMudmlld3M7XG4gICAgZm9yKGxldCB2aWV3IGluIGFydGlmYWN0cy52aWV3cykge1xuICAgICAgdGhpcy5fdmlld3Nbdmlld10gPSBcInF1ZXJ5XCI7XG4gICAgfVxuICAgIGZvcihsZXQgaWQgaW4gdmlld3MpIHRoaXMuY2hhbmdlc2V0Lm1lcmdlKHZpZXdzW2lkXS5jaGFuZ2VzZXQoZXZlKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRVSShpZDpzdHJpbmcsIHVpOlVJKSB7XG4gICAgdWkuaWQgPSBpZDtcbiAgICB0aGlzLl91aXNbaWRdID0gdWk7XG4gICAgdGhpcy5hZGRFbnRpdHkoaWQsIGlkLCBbXCJzeXN0ZW1cIiwgXCJ1aVwiXSk7XG4gICAgdGhpcy5jaGFuZ2VzZXQubWVyZ2UodWkuY2hhbmdlc2V0KHRoaXMuaXhlcikpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUnVudGltZSBTZXR1cFxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5hcHAuaW5pdChcImJvb3RzdHJhcFwiLCBmdW5jdGlvbiBib290c3RyYXAoKSB7XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRW50aXR5IFN5c3RlbVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGxldCBwaGFzZSA9IG5ldyBCU1BoYXNlKGV2ZSk7XG4gIHBoYXNlLmNoYW5nZXNldC5hZGRNYW55KFwiZGlzcGxheSBuYW1lXCIsIFt7aWQ6IFwiaXMgYVwiLCBuYW1lOiBcImlzIGFcIn0sIHtpZDogXCJjb250ZW50XCIsIG5hbWU6IFwiY29udGVudFwifSwge2lkOiBcImFydGlmYWN0XCIsIG5hbWU6IFwiYXJ0aWZhY3RcIn1dKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJtYW51YWwgZW50aXR5XCIsIFtcImVudGl0eVwiLCBcImNvbnRlbnRcIl0pO1xuICBwaGFzZS5hZGRUYWJsZShcInNvdXJjZWQgZWF2XCIsIFtcImVudGl0eVwiLCBcImF0dHJpYnV0ZVwiLCBcInZhbHVlXCIsIFwic291cmNlXCJdKTtcbiAgcGhhc2UuYWRkVGFibGUoXCJwYWdlIGNvbnRlbnRcIiwgW1wicGFnZVwiLCBcImNvbnRlbnRcIl0pO1xuICBwaGFzZS5hZGRUYWJsZShcImVudGl0eSBwYWdlXCIsIFtcImVudGl0eVwiLCBcInBhZ2VcIl0pO1xuICBwaGFzZS5hZGRUYWJsZShcImFjdGlvbiBlbnRpdHlcIiwgW1wiZW50aXR5XCIsIFwiY29udGVudFwiLCBcInNvdXJjZVwiXSk7XG4gIHBoYXNlXG4gICAgLmFkZEVudGl0eShcImVudGl0eVwiLCBcImVudGl0eVwiLCBbXCJzeXN0ZW1cIl0pXG4gICAgLmFkZEVudGl0eShcImNvbGxlY3Rpb25cIiwgXCJjb2xsZWN0aW9uXCIsIFtcInN5c3RlbVwiXSlcbiAgICAuYWRkRW50aXR5KFwic3lzdGVtXCIsIFwic3lzdGVtXCIsIFtcInN5c3RlbVwiLCBcImNvbGxlY3Rpb25cIl0pXG4gICAgLmFkZEVudGl0eShcInVuaW9uXCIsIFwidW5pb25cIiwgW1wic3lzdGVtXCIsIFwiY29sbGVjdGlvblwiXSlcbiAgICAuYWRkRW50aXR5KFwicXVlcnlcIiwgXCJxdWVyeVwiLCBbXCJzeXN0ZW1cIiwgXCJjb2xsZWN0aW9uXCJdKVxuICAgIC5hZGRFbnRpdHkoXCJ0YWJsZVwiLCBcInRhYmxlXCIsIFtcInN5c3RlbVwiLCBcImNvbGxlY3Rpb25cIl0pXG4gICAgLmFkZEVudGl0eShcInVpXCIsIFwidWlcIiwgW1wic3lzdGVtXCIsIFwiY29sbGVjdGlvblwiXSlcbiAgICAuYWRkRW50aXR5KFwiaG9tZVwiLCBcImhvbWVcIiwgW1wic3lzdGVtXCJdLCB1bmRlZmluZWQsIHVucGFkKDYpIGBcbiAgICAgIHtlbnRpdHl8cmVwID0gZGlyZWN0b3J5fVxuICAgIGApO1xuXG4gIHBoYXNlLmFkZFVuaW9uKFwiZW50aXR5IGVhdnNcIiwgW1wiZW50aXR5XCIsIFwiYXR0cmlidXRlXCIsIFwidmFsdWVcIl0sIHRydWUpXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiZW50aXR5IGVhdnNcIiwgXCJnZW5lcmF0ZWQgZWF2XCIsIHtlbnRpdHk6IFwiZW50aXR5XCIsIGF0dHJpYnV0ZTogXCJhdHRyaWJ1dGVcIiwgdmFsdWU6IFwidmFsdWVcIn0pXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiZW50aXR5IGVhdnNcIiwgXCJzb3VyY2VkIGVhdlwiLCB7ZW50aXR5OiBcImVudGl0eVwiLCBhdHRyaWJ1dGU6IFwiYXR0cmlidXRlXCIsIHZhbHVlOiBcInZhbHVlXCJ9KVxuICAgIC8vIHRoaXMgaXMgYSBzdG9yZWQgdW5pb24gdGhhdCBpcyB1c2VkIGJ5IHRoZSBhZGQgZWF2IGFjdGlvbiB0byB0YWtlIHF1ZXJ5IHJlc3VsdHMgYW5kXG4gICAgLy8gcHVzaCB0aGVtIGludG8gZWF2cywgZS5nLiBzdW0gc2FsYXJpZXMgcGVyIGRlcGFydG1lbnQgLT4gW3RvdGFsIHNhbGFyeSA9ICpdXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiZW50aXR5IGVhdnNcIiwgXCJhZGRlZCBlYXZzXCIpO1xuXG4gIHBoYXNlLmFkZFVuaW9uKFwiZW50aXR5IGxpbmtzXCIsIFtcImVudGl0eVwiLCBcImxpbmtcIiwgXCJ0eXBlXCJdKVxuICAgIC5hZGRVbmlvbk1lbWJlcihcImVudGl0eSBsaW5rc1wiLCBcImVhdiBlbnRpdHkgbGlua3NcIilcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJlbnRpdHkgbGlua3NcIiwgXCJpcyBhIGF0dHJpYnV0ZXNcIiwge2VudGl0eTogXCJlbnRpdHlcIiwgbGluazogXCJjb2xsZWN0aW9uXCIsIHR5cGU6IFtcImlzIGFcIl19KTtcblxuICBwaGFzZS5hZGRVbmlvbihcImRpcmVjdGlvbmxlc3MgbGlua3NcIiwgW1wiZW50aXR5XCIsIFwibGlua1wiXSlcbiAgICAuYWRkVW5pb25NZW1iZXIoXCJkaXJlY3Rpb25sZXNzIGxpbmtzXCIsIFwiZW50aXR5IGxpbmtzXCIpXG4gICAgLmFkZFVuaW9uTWVtYmVyKFwiZGlyZWN0aW9ubGVzcyBsaW5rc1wiLCBcImVudGl0eSBsaW5rc1wiLCB7ZW50aXR5OiBcImxpbmtcIiwgbGluazogXCJlbnRpdHlcIn0pO1xuXG4gIHBoYXNlLmFkZFVuaW9uKFwiY29sbGVjdGlvbiBlbnRpdGllc1wiLCBbXCJlbnRpdHlcIiwgXCJjb2xsZWN0aW9uXCJdKVxuICAgIC5hZGRVbmlvbk1lbWJlcihcImNvbGxlY3Rpb24gZW50aXRpZXNcIiwgXCJpcyBhIGF0dHJpYnV0ZXNcIik7XG5cbiAgcGhhc2UuYWRkQXJ0aWZhY3RzKHBhcnNlRFNMKGBcbiAgICAocXVlcnkgOiQkdmlldyBcImJzOiBpbmRleCBuYW1lXCJcbiAgICAgIChkaXNwbGF5LW5hbWUgOmlkIGlkIDpuYW1lIHJhdylcbiAgICAgIChub3JtYWxpemUtc3RyaW5nIDp0ZXh0IHJhdyA6cmVzdWx0IG5hbWUpXG4gICAgICAocHJvamVjdCEgXCJpbmRleCBuYW1lXCIgOmlkIGlkIDpuYW1lIG5hbWUpKVxuICBgKSk7XG4gIFxuICBwaGFzZS5hZGRBcnRpZmFjdHMocGFyc2VEU0woYFxuICAgIChxdWVyeSA6JCR2aWV3IFwiYnM6IGVudGl0eVwiXG4gICAgICAoZW50aXR5LXBhZ2UgOmVudGl0eSBlbnRpdHkgOnBhZ2UgcGFnZSlcbiAgICAgIChwYWdlLWNvbnRlbnQgOnBhZ2UgcGFnZSA6Y29udGVudCBjb250ZW50KVxuICAgICAgKHByb2plY3QhIFwiZW50aXR5XCIgOmVudGl0eSBlbnRpdHkgOmNvbnRlbnQgY29udGVudCkpXG4gIGApKTtcblxuICBwaGFzZS5hZGRBcnRpZmFjdHMocGFyc2VEU0woYFxuICAgIChxdWVyeSA6JCR2aWV3IFwiYnM6IHVubW9kaWZpZWQgYWRkZWQgYml0c1wiXG4gICAgICAoYWRkZWQtYml0cyA6ZW50aXR5IGVudGl0eSA6Y29udGVudCBjb250ZW50KVxuICAgICAgKG5lZ2F0ZSAobWFudWFsLWVudGl0eSA6ZW50aXR5IGVudGl0eSkpXG4gICAgICAocHJvamVjdCEgXCJ1bm1vZGlmaWVkIGFkZGVkIGJpdHNcIiA6ZW50aXR5IGVudGl0eSA6Y29udGVudCBjb250ZW50KSlcbiAgYCkpO1xuXG4gIHBoYXNlLmFkZEFydGlmYWN0cyhwYXJzZURTTChgXG4gICAgKHF1ZXJ5IDokJHZpZXcgXCJiczogaXMgYSBhdHRyaWJ1dGVzXCJcbiAgICAgIChlbnRpdHktZWF2cyA6YXR0cmlidXRlIFwiaXMgYVwiIDplbnRpdHkgZW50aXR5IDp2YWx1ZSB2YWx1ZSlcbiAgICAgIChwcm9qZWN0ISBcImlzIGEgYXR0cmlidXRlc1wiIDpjb2xsZWN0aW9uIHZhbHVlIDplbnRpdHkgZW50aXR5KSlcbiAgYCkpO1xuXG4gIC8vIEBIQUNLOiB0aGlzIHZpZXcgaXMgcmVxdWlyZWQgYmVjYXVzZSB5b3UgY2FuJ3QgY3VycmVudGx5IGpvaW4gYSBzZWxlY3Qgb24gdGhlIHJlc3VsdCBvZiBhIGZ1bmN0aW9uLlxuICAvLyBzbyB3ZSBjcmVhdGUgYSB2ZXJzaW9uIG9mIHRoZSBlYXZzIHRhYmxlIHRoYXQgYWxyZWFkeSBoYXMgZXZlcnl0aGluZyBsb3dlcmNhc2VkLlxuICBwaGFzZS5hZGRBcnRpZmFjdHMocGFyc2VEU0woYFxuICAgIChxdWVyeSA6JCR2aWV3IFwiYnM6IGxvd2VyY2FzZSBlYXZzXCJcbiAgICAgIChlbnRpdHktZWF2cyA6ZW50aXR5IGVudGl0eSA6YXR0cmlidXRlIGF0dHJpYnV0ZSA6dmFsdWUgdmFsdWUpXG4gICAgICAobG93ZXJjYXNlIDp0ZXh0IHZhbHVlIDpyZXN1bHQgbG93ZXJjYXNlZClcbiAgICAgIChwcm9qZWN0ISBcImxvd2VyY2FzZSBlYXZzXCIgOmVudGl0eSBlbnRpdHkgOmF0dHJpYnV0ZSBhdHRyaWJ1dGUgOnZhbHVlIGxvd2VyY2FzZWQpKVxuICBgKSk7XG5cbiAgcGhhc2UuYWRkQXJ0aWZhY3RzKHBhcnNlRFNMKGBcbiAgICAocXVlcnkgOiQkdmlldyBcImJzOiBlYXYgZW50aXR5IGxpbmtzXCJcbiAgICAgIChlbnRpdHktZWF2cyA6ZW50aXR5IGVudGl0eSA6YXR0cmlidXRlIGF0dHJpYnV0ZSA6dmFsdWUgdmFsdWUpXG4gICAgICAoZW50aXR5IDplbnRpdHkgdmFsdWUpXG4gICAgICAocHJvamVjdCEgXCJlYXYgZW50aXR5IGxpbmtzXCIgOmVudGl0eSBlbnRpdHkgOnR5cGUgYXR0cmlidXRlIDpsaW5rIHZhbHVlKSlcbiAgYCkpO1xuXG4gIHBoYXNlLmFkZEFydGlmYWN0cyhwYXJzZURTTChgXG4gICAgKHF1ZXJ5IDokJHZpZXcgXCJiczogY29sbGVjdGlvblwiXG4gICAgICAoaXMtYS1hdHRyaWJ1dGVzIDpjb2xsZWN0aW9uIGVudGl0eSlcbiAgICAgIChxdWVyeSA6JCR2aWV3IFwiYnM6IGNvbGxlY3Rpb24gY291bnRcIlxuICAgICAgICAoaXMtYS1hdHRyaWJ1dGVzIDpjb2xsZWN0aW9uIGVudGl0eSA6ZW50aXR5IGNoaWxkKVxuICAgICAgICAoY291bnQgOmNvdW50IGNoaWxkQ291bnQpKVxuICAgICAgKHByb2plY3QhIFwiY29sbGVjdGlvblwiIDpjb2xsZWN0aW9uIGVudGl0eSA6Y291bnQgY2hpbGRDb3VudCkpXG4gIGApKTtcblxuICBwaGFzZS5hZGRFbnRpdHkoXCJlbnRpdHlcIiwgXCJlbnRpdHlcIiwgW1wic3lzdGVtXCJdKTtcbiAgcGhhc2UuYWRkRW50aXR5KFwiY29sbGVjdGlvblwiLCBcImNvbGxlY3Rpb25cIiwgW1wic3lzdGVtXCJdKTtcbiAgcGhhc2UuYWRkQXJ0aWZhY3RzKHBhcnNlRFNMKHVucGFkKDQpIGBcbiAgICAocXVlcnkgOiQkdmlldyBcImJzOiBlbnRpdHkgZWF2cyBmcm9tIGVudGl0aWVzXCJcbiAgICAgIChlbnRpdHkgOmVudGl0eSBlbnRpdHkpXG4gICAgICAocHJvamVjdCEgXCJlbnRpdHkgZWF2c1wiIDplbnRpdHkgZW50aXR5IDphdHRyaWJ1dGUgXCJpcyBhXCIgOnZhbHVlIFwiJHtidWlsdGluSWQoXCJlbnRpdHlcIil9XCIpKVxuICBgKSk7XG4gIHBoYXNlLmFkZEFydGlmYWN0cyhwYXJzZURTTCh1bnBhZCg0KSBgXG4gICAgKHF1ZXJ5IDokJHZpZXcgXCJiczogZW50aXR5IGVhdnMgZnJvbSBjb2xsZWN0aW9uc1wiXG4gICAgICAoaXMtYS1hdHRyaWJ1dGVzIDpjb2xsZWN0aW9uIGNvbGwpXG4gICAgICAocHJvamVjdCEgXCJlbnRpdHkgZWF2c1wiIDplbnRpdHkgY29sbCA6YXR0cmlidXRlIFwiaXMgYVwiIDp2YWx1ZSBcIiR7YnVpbHRpbklkKFwiY29sbGVjdGlvblwiKX1cIikpXG4gIGApKTtcbi8qICBwaGFzZS5hZGRBcnRpZmFjdHMocGFyc2VEU0wodW5wYWQoNCkgYFxuICAgIChxdWVyeVxuICAgICAgKGVudGl0eSA6ZW50aXR5IGVudGl0eSlcbiAgICAgIChuZWdhdGUgKHF1ZXJ5XG4gICAgICAgIChkaXJlY3Rpb25sZXNzLWxpbmtzIDplbnRpdHkgZW50aXR5IDpsaW5rIGxpbmspXG4gICAgICAgICghPSBsaW5rIFwiQVVUT0dFTkVSQVRFRCBlbnRpdHkgVEhJUyBTSE9VTEROJ1QgU0hPVyBVUCBBTllXSEVSRVwiKVxuICAgICAgICAoIT0gbGluayBcIkFVVE9HRU5FUkFURUQgb3JwaGFuZWQgVEhJUyBTSE9VTEROJ1QgU0hPVyBVUCBBTllXSEVSRVwiKVxuICAgICAgICApKVxuICAgICAgKHByb2plY3QhIFwiZW50aXR5IGVhdnNcIiA6ZW50aXR5IGNvbGwgOmF0dHJpYnV0ZSBcImlzIGFcIiA6dmFsdWUgXCJBVVRPR0VORVJBVEVEIGNvbGxlY3Rpb24gVEhJUyBTSE9VTEROJ1QgU0hPVyBVUCBBTllXSEVSRVwiKSlcbmApKTsqL1xuXG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgcGFuZVwiLCBbXCJwYW5lXCIsIFwia2luZFwiLCBcInJlcFwiLCBcImNvbnRhaW5zXCIsIFwicGFyYW1zXCJdKTtcbiAgaWYoZXZlLmZpbmQoXCJ1aSBwYW5lXCIpLmxlbmd0aCA9PT0gMCkgcGhhc2UuYWRkRmFjdChcInVpIHBhbmVcIiwge3BhbmU6IFwicDFcIiwga2luZDogMCwgcmVwOiBcImVudGl0eVwiLCBjb250YWluczogXCJcIiwgcGFyYW1zOiBcIlwifSk7XG4gIHBoYXNlLmFwcGx5KHRydWUpO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVUlcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBwaGFzZSA9IG5ldyBCU1BoYXNlKGV2ZSk7XG5cbiAgLy8gQEZJWE1FOiBUaGVzZSBzaG91bGQgcHJvYmFibHkgYmUgdW5pb25pemVkLlxuICBmdW5jdGlvbiByZXNvbHZlKHRhYmxlLCBmaWVsZHMpIHtcbiAgICByZXR1cm4gZmllbGRzLm1hcCgoZmllbGQpID0+IGAke3RhYmxlfTogJHtmaWVsZH1gKTtcbiAgfVxuICBwaGFzZS5hZGRUYWJsZShcInVpIHRlbXBsYXRlXCIsIHJlc29sdmUoXCJ1aSB0ZW1wbGF0ZVwiLCBbXCJ0ZW1wbGF0ZVwiLCBcInBhcmVudFwiLCBcIml4XCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCByZXNvbHZlKFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCBbXCJ0ZW1wbGF0ZVwiLCBcInF1ZXJ5XCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZW1iZWRcIiwgcmVzb2x2ZShcInVpIGVtYmVkXCIsIFtcImVtYmVkXCIsIFwidGVtcGxhdGVcIiwgXCJwYXJlbnRcIiwgXCJpeFwiXSkpO1xuICBwaGFzZS5hZGRUYWJsZShcInVpIGVtYmVkIHNjb3BlXCIsIHJlc29sdmUoXCJ1aSBlbWJlZCBzY29wZVwiLCBbXCJlbWJlZFwiLCBcImtleVwiLCBcInZhbHVlXCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZW1iZWQgc2NvcGUgYmluZGluZ1wiLCByZXNvbHZlKFwidWkgZW1iZWQgc2NvcGUgYmluZGluZ1wiLCBbXCJlbWJlZFwiLCBcImtleVwiLCBcInNvdXJjZVwiLCBcImFsaWFzXCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgYXR0cmlidXRlXCIsIHJlc29sdmUoXCJ1aSBhdHRyaWJ1dGVcIiwgW1widGVtcGxhdGVcIiwgXCJwcm9wZXJ0eVwiLCBcInZhbHVlXCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIiwgcmVzb2x2ZShcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsIFtcInRlbXBsYXRlXCIsIFwicHJvcGVydHlcIiwgXCJzb3VyY2VcIiwgXCJhbGlhc1wiXSkpO1xuICBwaGFzZS5hZGRUYWJsZShcInVpIGV2ZW50XCIsIHJlc29sdmUoXCJ1aSBldmVudFwiLCBbXCJ0ZW1wbGF0ZVwiLCBcImV2ZW50XCJdKSk7XG4gIHBoYXNlLmFkZFRhYmxlKFwidWkgZXZlbnQgc3RhdGVcIiwgcmVzb2x2ZShcInVpIGV2ZW50IHN0YXRlXCIsIFtcInRlbXBsYXRlXCIsIFwiZXZlbnRcIiwgXCJrZXlcIiwgXCJ2YWx1ZVwiXSkpO1xuICBwaGFzZS5hZGRUYWJsZShcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwgcmVzb2x2ZShcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwgW1widGVtcGxhdGVcIiwgXCJldmVudFwiLCBcImtleVwiLCBcInNvdXJjZVwiLCBcImFsaWFzXCJdKSk7XG5cbiAgcGhhc2UuYWRkVGFibGUoXCJzeXN0ZW0gdWlcIiwgW1widGVtcGxhdGVcIl0pO1xuXG4gIHBoYXNlLmFwcGx5KHRydWUpO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGVzdGluZ1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIHBoYXNlID0gbmV3IEJTUGhhc2UoZXZlKTtcbiAgbGV0IHRlc3REYXRhID0ge1xuICAgIFwidGVzdCBkYXRhXCI6IFtdLFxuICAgIHBldDogW10sXG4gICAgZXhvdGljOiBbXSxcbiAgICBkYW5nZXJvdXM6IFtdLFxuICAgIGNhdDogW1wicGV0XCJdLFxuICAgIGRvZzogW1wicGV0XCJdLFxuICAgIGZpc2g6IFtcInBldFwiXSxcbiAgICBzbmFrZTogW1wicGV0XCIsIFwiZXhvdGljXCJdLFxuICAgIGtvYWxhOiBbXCJwZXRcIiwgXCJleG90aWNcIl0sXG4gICAgc2xvdGg6IFtcInBldFwiLCBcImV4b3RpY1wiXSxcbiAgICBrYW5nYXJvbzogW1wiZXhvdGljXCJdLFxuICAgIGdpcmFmZmU6IFtcImV4b3RpY1wiXSxcbiAgICBnb3JpbGxhOiBbXCJleG90aWNcIiwgXCJkYW5nZXJvdXNcIl0sXG5cbiAgICBjb21wYW55OiBbXSxcbiAgICBrb2Rvd2E6IFtcImNvbXBhbnlcIl0sXG5cbiAgICBkZXBhcnRtZW50OiBbXSxcbiAgICBlbmdpbmVlcmluZzogW1wiZGVwYXJ0bWVudFwiXSxcbiAgICBvcGVyYXRpb25zOiBbXCJkZXBhcnRtZW50XCJdLFxuICAgIG1hZ2ljOiBbXCJkZXBhcnRtZW50XCJdLFxuXG4gICAgZW1wbG95ZWU6IFtdLFxuICAgIGpvc2g6IFtcImVtcGxveWVlXCJdLFxuICAgIGNvcmV5OiBbXCJlbXBsb3llZVwiXSxcbiAgICBjaHJpczogW1wiZW1wbG95ZWVcIl0sXG4gICAgcm9iOiBbXCJlbXBsb3llZVwiXSxcbiAgICBlcmljOiBbXCJlbXBsb3llZVwiXSxcbiAgfTtcbiAgbGV0IHRlc3RBdHRycyA9IHtcbiAgICBjYXQ6IHtsZW5ndGg6IDR9LFxuICAgIGRvZzoge2xlbmd0aDogM30sXG4gICAgZmlzaDoge2xlbmd0aDogMX0sXG4gICAgc25ha2U6IHtsZW5ndGg6IDR9LFxuICAgIGtvYWxhOiB7bGVuZ3RoOiAzfSxcbiAgICBzbG90aDoge2xlbmd0aDogM30sXG4gICAgZW5naW5lZXJpbmc6IHtjb21wYW55OiBcImtvZG93YVwifSxcbiAgICBvcGVyYXRpb25zOiB7Y29tcGFueTogXCJrb2Rvd2FcIn0sXG4gICAgbWFnaWM6IHtjb21wYW55OiBcImtvZG93YVwifSxcblxuICAgIGpvc2g6IHtkZXBhcnRtZW50OiBcImVuZ2luZWVyaW5nXCIsIHNhbGFyeTogN30sXG4gICAgY29yZXk6IHtkZXBhcnRtZW50OiBcImVuZ2luZWVyaW5nXCIsIHNhbGFyeTogMTB9LFxuICAgIGNocmlzOiB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBzYWxhcnk6IDEwfSxcbiAgICBlcmljOiB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBzYWxhcnk6IDd9LFxuICAgIHJvYjoge2RlcGFydG1lbnQ6IFwib3BlcmF0aW9uc1wiLCBzYWxhcnk6IDEwfSxcbiAgfTtcbiAgZm9yKGxldCBlbnRpdHkgaW4gdGVzdERhdGEpIHBoYXNlLmFkZEVudGl0eShlbnRpdHksIGVudGl0eSwgW1widGVzdCBkYXRhXCJdLmNvbmNhdCh0ZXN0RGF0YVtlbnRpdHldKSwgdGVzdEF0dHJzW2VudGl0eV0sIFwiXCIpO1xuXG4gIC8vIHBoYXNlLmFkZFRhYmxlKFwiZGVwYXJ0bWVudFwiLCBbXCJkZXBhcnRtZW50XCJdKVxuICAvLyAgIC5hZGRGYWN0KFwiZGVwYXJ0bWVudFwiLCB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wifSlcbiAgLy8gICAuYWRkRmFjdChcImRlcGFydG1lbnRcIiwge2RlcGFydG1lbnQ6IFwib3BlcmF0aW9uc1wifSlcbiAgLy8gICAuYWRkRmFjdChcImRlcGFydG1lbnRcIiwge2RlcGFydG1lbnQ6IFwibWFnaWNcIn0pO1xuICAvLyBwaGFzZS5hZGRUYWJsZShcImVtcGxveWVlXCIsIFtcImRlcGFydG1lbnRcIiwgXCJlbXBsb3llZVwiLCBcInNhbGFyeVwiXSlcbiAgLy8gICAuYWRkRmFjdChcImVtcGxveWVlXCIsIHtkZXBhcnRtZW50OiBcImVuZ2luZWVyaW5nXCIsIGVtcGxveWVlOiBcImpvc2hcIiwgc2FsYXJ5OiAxMH0pXG4gIC8vICAgLmFkZEZhY3QoXCJlbXBsb3llZVwiLCB7ZGVwYXJ0bWVudDogXCJlbmdpbmVlcmluZ1wiLCBlbXBsb3llZTogXCJjb3JleVwiLCBzYWxhcnk6IDExfSlcbiAgLy8gICAuYWRkRmFjdChcImVtcGxveWVlXCIsIHtkZXBhcnRtZW50OiBcImVuZ2luZWVyaW5nXCIsIGVtcGxveWVlOiBcImNocmlzXCIsIHNhbGFyeTogN30pXG4gIC8vICAgLmFkZEZhY3QoXCJlbXBsb3llZVwiLCB7ZGVwYXJ0bWVudDogXCJvcGVyYXRpb25zXCIsIGVtcGxveWVlOiBcInJvYlwiLCBzYWxhcnk6IDd9KTtcblxuICAvLyBwaGFzZS5hcHBseSh0cnVlKTtcbiAgd2luZG93W1wicFwiXSA9IHBoYXNlO1xufSk7XG5cbmRlY2xhcmUgdmFyIGV4cG9ydHM7XG53aW5kb3dbXCJib290c3RyYXBcIl0gPSBleHBvcnRzO1xuIiwiZGVjbGFyZSB2YXIgVmVsb2NpdHk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFuZGxlcjxUIGV4dGVuZHMgRXZlbnQ+IHtcbiAgKGV2dDpULCBlbGVtOkVsZW1lbnQpOiB2b2lkXG59XG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckhhbmRsZXIge1xuICAobm9kZTpIVE1MRWxlbWVudCwgZWxlbTpFbGVtZW50KTogdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnQge1xuICB0PzpzdHJpbmdcbiAgYz86c3RyaW5nXG4gIGlkPzpzdHJpbmdcbiAgcGFyZW50PzpzdHJpbmdcbiAgY2hpbGRyZW4/OkVsZW1lbnRbXVxuICBpeD86bnVtYmVyXG4gIGtleT86c3RyaW5nXG4gIGRpcnR5Pzpib29sZWFuXG4gIHNlbWFudGljPzpzdHJpbmdcbiAgdHdlZW4/OiBhbnlcbiAgZW50ZXI/OiBhbnlcbiAgbGVhdmU/OiBhbnlcbiAgZGVidWc/OmFueVxuXG4gIC8vIENvbnRlbnRcbiAgY29udGVudEVkaXRhYmxlPzpib29sZWFuXG4gIGNoZWNrZWQ/OmJvb2xlYW5cbiAgZHJhZ2dhYmxlPzpib29sZWFuXG4gIGhyZWY/OnN0cmluZ1xuICBzcmM/OnN0cmluZ1xuICBkYXRhPzphbnlcbiAgZG93bmxvYWQ/OnN0cmluZ1xuICBhbGxvd2Z1bGxzY3JlZW4/OmJvb2xlYW5cbiAgcGxhY2Vob2xkZXI/OnN0cmluZ1xuICBzZWxlY3RlZD86Ym9vbGVhblxuICB0YWJpbmRleD86bnVtYmVyXG4gIHRleHQ/OnN0cmluZ1xuICBzdHJpY3RUZXh0PzogYm9vbGVhblxuICB0eXBlPzpzdHJpbmdcbiAgdmFsdWU/OnN0cmluZ1xuICBkYW5nZXJvdXNseVNldElubmVySFRNTD86c3RyaW5nXG4gIHRhcmdldD86c3RyaW5nXG5cbiAgc3R5bGU/OiBzdHJpbmcsXG5cbiAgLy8gU3R5bGVzIChTdHJ1Y3R1cmUpXG4gIGZsZXg/Om51bWJlcnxzdHJpbmdcbiAgbGVmdD86bnVtYmVyfHN0cmluZ1xuICB0b3A/Om51bWJlcnxzdHJpbmdcbiAgd2lkdGg/Om51bWJlcnxzdHJpbmdcbiAgaGVpZ2h0PzpudW1iZXJ8c3RyaW5nXG4gIHRleHRBbGlnbj86c3RyaW5nXG4gIHRyYW5zZm9ybT86c3RyaW5nXG4gIHZlcnRpY2FsQWxpZ24/OnN0cmluZ1xuICB6SW5kZXg/Om51bWJlclxuXG4gIC8vIFN0eWxlcyAoQWVzdGhldGljKVxuICBiYWNrZ3JvdW5kQ29sb3I/OnN0cmluZ1xuICBiYWNrZ3JvdW5kSW1hZ2U/OnN0cmluZ1xuICBib3JkZXI/OnN0cmluZ1xuICBib3JkZXJDb2xvcj86c3RyaW5nXG4gIGJvcmRlcldpZHRoPzpudW1iZXJ8c3RyaW5nXG4gIGJvcmRlclJhZGl1cz86bnVtYmVyfHN0cmluZ1xuICBjb2xvcj86c3RyaW5nXG4gIGNvbHNwYW4/Om51bWJlclxuICBmb250RmFtaWx5PzpzdHJpbmdcbiAgZm9udFNpemU/OnN0cmluZ1xuXG4gIG9wYWNpdHk/Om51bWJlclxuXG4gIC8vIFN2Z1xuICBzdmc/OmJvb2xlYW5cbiAgeD86bnVtYmVyfHN0cmluZ1xuICB5PzpudW1iZXJ8c3RyaW5nXG4gIGR4PzpudW1iZXJ8c3RyaW5nXG4gIGR5PzpudW1iZXJ8c3RyaW5nXG4gIGN4PzpudW1iZXJ8c3RyaW5nXG4gIGN5PzpudW1iZXJ8c3RyaW5nXG4gIHI/Om51bWJlcnxzdHJpbmdcbiAgZD86bnVtYmVyfHN0cmluZ1xuICBmaWxsPzpzdHJpbmdcbiAgc3Ryb2tlPzpzdHJpbmdcbiAgc3Ryb2tlV2lkdGg/OnN0cmluZ1xuICBzdGFydE9mZnNldD86bnVtYmVyfHN0cmluZ1xuICB0ZXh0QW5jaG9yPzpzdHJpbmdcbiAgdmlld0JveD86c3RyaW5nXG4gIHhsaW5raHJlZj86c3RyaW5nXG5cbiAgLy8gRXZlbnRzXG4gIGRibGNsaWNrPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGNsaWNrPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGNvbnRleHRtZW51PzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIG1vdXNlZG93bj86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZW1vdmU/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgbW91c2V1cD86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZW92ZXI/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgbW91c2VvdXQ/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgbW91c2VsZWF2ZT86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBtb3VzZXdoZWVsPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGRyYWdvdmVyPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGRyYWdzdGFydD86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBkcmFnZW5kPzpIYW5kbGVyPE1vdXNlRXZlbnQ+XG4gIGRyYWc/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgZHJvcD86SGFuZGxlcjxNb3VzZUV2ZW50PlxuICBzY3JvbGw/OkhhbmRsZXI8TW91c2VFdmVudD5cbiAgZm9jdXM/OkhhbmRsZXI8Rm9jdXNFdmVudD5cbiAgYmx1cj86SGFuZGxlcjxGb2N1c0V2ZW50PlxuICBpbnB1dD86SGFuZGxlcjxFdmVudD5cbiAgY2hhbmdlPzpIYW5kbGVyPEV2ZW50PlxuICBrZXl1cD86SGFuZGxlcjxLZXlib2FyZEV2ZW50PlxuICBrZXlkb3duPzpIYW5kbGVyPEtleWJvYXJkRXZlbnQ+XG5cbiAgcG9zdFJlbmRlcj86UmVuZGVySGFuZGxlclxuXG4gIFthdHRyOnN0cmluZ106IGFueVxufVxuXG5mdW5jdGlvbiBub3coKSB7XG4gIGlmKHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gIH1cbiAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbHMoYSwgYikge1xuICBpZihhID09PSBiKSByZXR1cm4gdHJ1ZTtcbiAgaWYoIWEgfHwgIWIpIHJldHVybiBmYWxzZTtcbiAgZm9yKHZhciBrIGluIGEpIHtcbiAgICBpZihhW2tdICE9PSBiW2tdKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yKHZhciBrIGluIGIpIHtcbiAgICBpZihiW2tdICE9PSBhW2tdKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHBvc3RBbmltYXRpb25SZW1vdmUoZWxlbWVudHMpIHtcbiAgZm9yKGxldCBlbGVtIG9mIGVsZW1lbnRzKSB7XG4gICAgaWYoZWxlbS5wYXJlbnROb2RlKSBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcbiAgLy8gQFRPRE86IEEgbW9yZSBwZXJmb3JtYW50IGltcGxlbWVudGF0aW9uIHdvdWxkIGhhdmUgYSB3YXkgb2YgcmVuZGVyaW5nIHN1YnRyZWVzIGFuZCBqdXN0IGhhdmUgYSBsYW1iZGEgUmVuZGVyZXIgdG8gY29tcGlsZSBpbnRvXG4gIHN0YXRpYyBfY29tcGlsZVJlbmRlcmVyOntbaWQ6c3RyaW5nXTogUmVuZGVyZXJ9ID0ge307XG4gIHN0YXRpYyBjb21waWxlKGVsZW06RWxlbWVudCkge1xuICAgIGlmKCFlbGVtLmlkKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcGlsZSBlbGVtZW50IHdpdGggaWQgXCIgKyBlbGVtLmlkKTtcbiAgICBsZXQgcmVuZGVyZXIgPSBSZW5kZXJlci5fY29tcGlsZVJlbmRlcmVyW2VsZW0uaWRdO1xuICAgIGlmKCFyZW5kZXJlcikgcmVuZGVyZXIgPSBSZW5kZXJlci5fY29tcGlsZVJlbmRlcmVyW2VsZW0uaWRdID0gbmV3IFJlbmRlcmVyKCk7XG4gICAgcmVuZGVyZXIucmVuZGVyKFtlbGVtXSk7XG4gICAgcmV0dXJuIHJlbmRlcmVyLmVsZW1lbnRDYWNoZVtlbGVtLmlkXTtcbiAgfVxuICBcbiAgY29udGVudDogSFRNTEVsZW1lbnQ7XG4gIGVsZW1lbnRDYWNoZToge1tpZDpzdHJpbmddOiBIVE1MRWxlbWVudH07XG4gIHByZXZUcmVlOntbaWQ6c3RyaW5nXTogRWxlbWVudH07XG4gIHRyZWU6e1tpZDpzdHJpbmddOiBFbGVtZW50fTtcbiAgcG9zdFJlbmRlcnM6IEVsZW1lbnRbXTtcbiAgbGFzdERpZmY6IHthZGRzOiBzdHJpbmdbXSwgdXBkYXRlczoge319O1xuICBxdWV1ZWQ6IGJvb2xlYW47XG4gIGhhbmRsZUV2ZW50OiAoYW55KTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmNvbnRlbnQuY2xhc3NOYW1lID0gXCJfX3Jvb3RcIjtcbiAgICB0aGlzLmVsZW1lbnRDYWNoZSA9IHsgXCJfX3Jvb3RcIjogdGhpcy5jb250ZW50IH07XG4gICAgdGhpcy5wcmV2VHJlZSA9IHt9O1xuICAgIHRoaXMudHJlZSA9IHt9O1xuICAgIHRoaXMucG9zdFJlbmRlcnMgPSBbXTtcbiAgICB0aGlzLmxhc3REaWZmID0ge2FkZHM6IFtdLCB1cGRhdGVzOiB7fX07XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBoYW5kbGVFdmVudChlOiBFdmVudCkge1xuICAgICAgdmFyIGlkID0gKGUuY3VycmVudFRhcmdldCB8fCBlLnRhcmdldClbXCJfaWRcIl07XG4gICAgICB2YXIgZWxlbSA9IHNlbGYudHJlZVtpZF07XG4gICAgICBpZiAoIWVsZW0pIHJldHVybjtcbiAgICAgIHZhciBoYW5kbGVyID0gZWxlbVtlLnR5cGVdO1xuICAgICAgaWYgKGhhbmRsZXIpIHsgaGFuZGxlcihlLCBlbGVtKTsgfVxuICAgIH07XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wcmV2VHJlZSA9IHRoaXMudHJlZTtcbiAgICB0aGlzLnRyZWUgPSB7fTtcbiAgICB0aGlzLnBvc3RSZW5kZXJzID0gW107XG4gIH1cblxuICBkb21pZnkoKSB7XG4gICAgdmFyIGZha2VQcmV2OkVsZW1lbnQgPSB7fTsgLy9jcmVhdGUgYW4gZW1wdHkgb2JqZWN0IG9uY2UgaW5zdGVhZCBvZiBldmVyeSBpbnN0YW5jZSBvZiB0aGUgbG9vcFxuICAgIHZhciBlbGVtZW50cyA9IHRoaXMudHJlZTtcbiAgICB2YXIgcHJldkVsZW1lbnRzID0gdGhpcy5wcmV2VHJlZTtcbiAgICB2YXIgZGlmZiA9IHRoaXMubGFzdERpZmY7XG4gICAgdmFyIGFkZHMgPSBkaWZmLmFkZHM7XG4gICAgdmFyIHVwZGF0ZXMgPSBkaWZmLnVwZGF0ZXM7XG4gICAgdmFyIGVsZW1LZXlzID0gT2JqZWN0LmtleXModXBkYXRlcyk7XG4gICAgdmFyIGVsZW1lbnRDYWNoZSA9IHRoaXMuZWxlbWVudENhY2hlO1xuICAgIHZhciB0ZW1wVHdlZW46YW55ID0ge307XG5cbiAgICAvL0NyZWF0ZSBhbGwgdGhlIG5ldyBlbGVtZW50cyB0byBlbnN1cmUgdGhhdCB0aGV5J3JlIHRoZXJlIHdoZW4gdGhleSBuZWVkIHRvIGJlXG4gICAgLy9wYXJlbnRlZFxuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IGFkZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IGFkZHNbaV07XG4gICAgICB2YXIgY3VyID0gZWxlbWVudHNbaWRdO1xuICAgICAgdmFyIGRpdjogYW55O1xuICAgICAgaWYgKGN1ci5zdmcpIHtcbiAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY3VyLnQgfHwgXCJyZWN0XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjdXIudCB8fCBcImRpdlwiKTtcbiAgICAgIH1cbiAgICAgIGRpdi5faWQgPSBpZDtcbiAgICAgIGVsZW1lbnRDYWNoZVtpZF0gPSBkaXY7XG4gICAgICBpZihjdXIuZW50ZXIpIHtcbiAgICAgICAgaWYoY3VyLmVudGVyLmRlbGF5KSB7XG4gICAgICAgICAgY3VyLmVudGVyLmRpc3BsYXkgPSBcImF1dG9cIjtcbiAgICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgVmVsb2NpdHkoZGl2LCBjdXIuZW50ZXIsIGN1ci5lbnRlcik7XG5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBlbGVtS2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGlkID0gZWxlbUtleXNbaV07XG4gICAgICB2YXIgY3VyID0gZWxlbWVudHNbaWRdO1xuICAgICAgdmFyIHByZXYgPSBwcmV2RWxlbWVudHNbaWRdIHx8IGZha2VQcmV2O1xuICAgICAgdmFyIHR5cGUgPSB1cGRhdGVzW2lkXTtcbiAgICAgIHZhciBkaXY7XG4gICAgICBpZih0eXBlID09PSBcInJlcGxhY2VkXCIpIHtcbiAgICAgICAgdmFyIG1lID0gZWxlbWVudENhY2hlW2lkXTtcbiAgICAgICAgaWYgKG1lLnBhcmVudE5vZGUpIG1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobWUpO1xuICAgICAgICBpZiAoY3VyLnN2Zykge1xuICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIGN1ci50IHx8IFwicmVjdFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGN1ci50IHx8IFwiZGl2XCIpO1xuICAgICAgICB9XG4gICAgICAgIHByZXYgPSBmYWtlUHJldjtcbiAgICAgICAgZGl2Ll9pZCA9IGlkO1xuICAgICAgICBlbGVtZW50Q2FjaGVbaWRdID0gZGl2O1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICAvL05PVEU6IEJhdGNoaW5nIHRoZSByZW1vdmVzIHN1Y2ggdGhhdCB5b3Ugb25seSByZW1vdmUgdGhlIHBhcmVudFxuICAgICAgICAvL2RpZG4ndCBhY3R1YWxseSBtYWtlIHRoaXMgZmFzdGVyIHN1cnByaXNpbmdseS4gR2l2ZW4gdGhhdCB0aGlzXG4gICAgICAgIC8vc3RyYXRlZ3kgaXMgbXVjaCBzaW1wbGVyIGFuZCB0aGVyZSdzIG5vIG5vdGljYWJsZSBwZXJmIGRpZmZlcmVuY2VcbiAgICAgICAgLy93ZSdsbCBqdXN0IGRvIHRoZSBkdW1iIHRoaW5nIGFuZCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvbmUgYnkgb25lLlxuICAgICAgICB2YXIgbWUgPSBlbGVtZW50Q2FjaGVbaWRdXG4gICAgICAgIGlmKHByZXYubGVhdmUpIHtcbiAgICAgICAgICBwcmV2LmxlYXZlLmNvbXBsZXRlID0gcG9zdEFuaW1hdGlvblJlbW92ZTtcbiAgICAgICAgICBpZihwcmV2LmxlYXZlLmFic29sdXRlKSB7XG4gICAgICAgICAgICBtZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgVmVsb2NpdHkobWUsIHByZXYubGVhdmUsIHByZXYubGVhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYobWUucGFyZW50Tm9kZSkgbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZSk7XG4gICAgICAgIGVsZW1lbnRDYWNoZVtpZF0gPSBudWxsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdiA9IGVsZW1lbnRDYWNoZVtpZF07XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbiAgICAgIGlmKGN1ci5jICE9PSBwcmV2LmMpIGRpdi5jbGFzc05hbWUgPSBjdXIuYztcbiAgICAgIGlmKGN1ci5kcmFnZ2FibGUgIT09IHByZXYuZHJhZ2dhYmxlKSBkaXYuZHJhZ2dhYmxlID0gY3VyLmRyYWdnYWJsZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IFwidHJ1ZVwiO1xuICAgICAgaWYoY3VyLmNvbnRlbnRFZGl0YWJsZSAhPT0gcHJldi5jb250ZW50RWRpdGFibGUpIGRpdi5jb250ZW50RWRpdGFibGUgPSBjdXIuY29udGVudEVkaXRhYmxlICE9PSB1bmRlZmluZWQgPyBKU09OLnN0cmluZ2lmeShjdXIuY29udGVudEVkaXRhYmxlKSA6IFwiaW5oZXJpdFwiO1xuICAgICAgaWYoY3VyLmNvbHNwYW4gIT09IHByZXYuY29sc3BhbikgZGl2LmNvbFNwYW4gPSBjdXIuY29sc3BhbjtcbiAgICAgIGlmKGN1ci5wbGFjZWhvbGRlciAhPT0gcHJldi5wbGFjZWhvbGRlcikgZGl2LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIGN1ci5wbGFjZWhvbGRlcik7XG4gICAgICBpZihjdXIuc2VsZWN0ZWQgIT09IHByZXYuc2VsZWN0ZWQpIGRpdi5zZWxlY3RlZCA9IGN1ci5zZWxlY3RlZDtcbiAgICAgIGlmKChjdXIudmFsdWUgIT09IHByZXYudmFsdWUgfHwgY3VyLnN0cmljdFRleHQpICYmIGRpdi52YWx1ZSAhPT0gY3VyLnZhbHVlKSBkaXYudmFsdWUgPSBjdXIudmFsdWU7XG4gICAgICBpZihjdXIudCA9PT0gXCJpbnB1dFwiICYmIGN1ci50eXBlICE9PSBwcmV2LnR5cGUpIGRpdi50eXBlID0gY3VyLnR5cGU7XG4gICAgICBpZihjdXIudCA9PT0gXCJpbnB1dFwiICYmIGN1ci5jaGVja2VkICE9PSBwcmV2LmNoZWNrZWQpIGRpdi5jaGVja2VkID0gY3VyLmNoZWNrZWQ7XG4gICAgICBpZigoY3VyLnRleHQgIT09IHByZXYudGV4dCB8fCBjdXIuc3RyaWN0VGV4dCkgJiYgZGl2LnRleHRDb250ZW50ICE9PSBjdXIudGV4dCkgZGl2LnRleHRDb250ZW50ID0gY3VyLnRleHQgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBjdXIudGV4dDtcbiAgICAgIGlmKGN1ci50YWJpbmRleCAhPT0gcHJldi50YWJpbmRleCkgZGl2LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIGN1ci50YWJpbmRleCk7XG4gICAgICBpZihjdXIuaHJlZiAhPT0gcHJldi5ocmVmKSBkaXYuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBjdXIuaHJlZik7XG4gICAgICBpZihjdXIuc3JjICE9PSBwcmV2LnNyYykgZGl2LnNldEF0dHJpYnV0ZShcInNyY1wiLCBjdXIuc3JjKTtcbiAgICAgIGlmKGN1ci50YXJnZXQgIT09IHByZXYudGFyZ2V0KSBkaXYuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIGN1ci50YXJnZXQpO1xuICAgICAgaWYoY3VyLmRhdGEgIT09IHByZXYuZGF0YSkgZGl2LnNldEF0dHJpYnV0ZShcImRhdGFcIiwgY3VyLmRhdGEpO1xuICAgICAgaWYoY3VyLmRvd25sb2FkICE9PSBwcmV2LmRvd25sb2FkKSBkaXYuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgY3VyLmRvd25sb2FkKTtcbiAgICAgIGlmKGN1ci5hbGxvd2Z1bGxzY3JlZW4gIT09IHByZXYuYWxsb3dmdWxsc2NyZWVuKSBkaXYuc2V0QXR0cmlidXRlKFwiYWxsb3dmdWxsc2NyZWVuXCIsIGN1ci5hbGxvd2Z1bGxzY3JlZW4pO1xuXG4gICAgICAvLyBhbmltYXRlYWJsZSBwcm9wZXJ0aWVzXG4gICAgICB2YXIgdHdlZW4gPSBjdXIudHdlZW4gfHwgdGVtcFR3ZWVuO1xuICAgICAgaWYoY3VyLmZsZXggIT09IHByZXYuZmxleCkge1xuICAgICAgICBpZih0d2Vlbi5mbGV4KSB0ZW1wVHdlZW4uZmxleCA9IGN1ci5mbGV4O1xuICAgICAgICBlbHNlIHN0eWxlLmZsZXggPSBjdXIuZmxleCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGN1ci5mbGV4O1xuICAgICAgfVxuICAgICAgaWYoY3VyLmxlZnQgIT09IHByZXYubGVmdCkge1xuICAgICAgICAgIGlmKHR3ZWVuLmxlZnQpIHRlbXBUd2Vlbi5sZWZ0ID0gY3VyLmxlZnQ7XG4gICAgICAgICAgZWxzZSBzdHlsZS5sZWZ0ID0gY3VyLmxlZnQgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBjdXIubGVmdDtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci50b3AgIT09IHByZXYudG9wKSB7XG4gICAgICAgIGlmKHR3ZWVuLnRvcCkgdGVtcFR3ZWVuLnRvcCA9IGN1ci50b3A7XG4gICAgICAgIGVsc2Ugc3R5bGUudG9wID0gY3VyLnRvcCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGN1ci50b3A7XG4gICAgICB9XG4gICAgICBpZihjdXIuaGVpZ2h0ICE9PSBwcmV2LmhlaWdodCkge1xuICAgICAgICBpZih0d2Vlbi5oZWlnaHQpIHRlbXBUd2Vlbi5oZWlnaHQgPSBjdXIuaGVpZ2h0O1xuICAgICAgICBlbHNlIHN0eWxlLmhlaWdodCA9IGN1ci5oZWlnaHQgPT09IHVuZGVmaW5lZCA/IFwiYXV0b1wiIDogY3VyLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci53aWR0aCAhPT0gcHJldi53aWR0aCkge1xuICAgICAgICBpZih0d2Vlbi53aWR0aCkgdGVtcFR3ZWVuLndpZHRoID0gY3VyLndpZHRoO1xuICAgICAgICBlbHNlIHN0eWxlLndpZHRoID0gY3VyLndpZHRoID09PSB1bmRlZmluZWQgPyBcImF1dG9cIiA6IGN1ci53aWR0aDtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci56SW5kZXggIT09IHByZXYuekluZGV4KSB7XG4gICAgICAgIGlmKHR3ZWVuLnpJbmRleCkgdGVtcFR3ZWVuLnpJbmRleCA9IGN1ci56SW5kZXg7XG4gICAgICAgIGVsc2Ugc3R5bGUuekluZGV4ID0gY3VyLnpJbmRleDtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci5iYWNrZ3JvdW5kQ29sb3IgIT09IHByZXYuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIGlmKHR3ZWVuLmJhY2tncm91bmRDb2xvcikgdGVtcFR3ZWVuLmJhY2tncm91bmRDb2xvciA9IGN1ci5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGVsc2Ugc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY3VyLmJhY2tncm91bmRDb2xvciB8fCBcInRyYW5zcGFyZW50XCI7XG4gICAgICB9XG4gICAgICBpZihjdXIuYm9yZGVyQ29sb3IgIT09IHByZXYuYm9yZGVyQ29sb3IpIHtcbiAgICAgICAgaWYodHdlZW4uYm9yZGVyQ29sb3IpIHRlbXBUd2Vlbi5ib3JkZXJDb2xvciA9IGN1ci5ib3JkZXJDb2xvcjtcbiAgICAgICAgZWxzZSBzdHlsZS5ib3JkZXJDb2xvciA9IGN1ci5ib3JkZXJDb2xvciB8fCBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmKGN1ci5ib3JkZXJXaWR0aCAhPT0gcHJldi5ib3JkZXJXaWR0aCkge1xuICAgICAgICBpZih0d2Vlbi5ib3JkZXJXaWR0aCkgdGVtcFR3ZWVuLmJvcmRlcldpZHRoID0gY3VyLmJvcmRlcldpZHRoO1xuICAgICAgICBlbHNlIHN0eWxlLmJvcmRlcldpZHRoID0gY3VyLmJvcmRlcldpZHRoIHx8IDA7XG4gICAgICB9XG4gICAgICBpZihjdXIuYm9yZGVyUmFkaXVzICE9PSBwcmV2LmJvcmRlclJhZGl1cykge1xuICAgICAgICBpZih0d2Vlbi5ib3JkZXJSYWRpdXMpIHRlbXBUd2Vlbi5ib3JkZXJSYWRpdXMgPSBjdXIuYm9yZGVyUmFkaXVzO1xuICAgICAgICBlbHNlIHN0eWxlLmJvcmRlclJhZGl1cyA9IChjdXIuYm9yZGVyUmFkaXVzIHx8IDApICsgXCJweFwiO1xuICAgICAgfVxuICAgICAgaWYoY3VyLm9wYWNpdHkgIT09IHByZXYub3BhY2l0eSkge1xuICAgICAgICBpZih0d2Vlbi5vcGFjaXR5KSB0ZW1wVHdlZW4ub3BhY2l0eSA9IGN1ci5vcGFjaXR5O1xuICAgICAgICBlbHNlIHN0eWxlLm9wYWNpdHkgPSBjdXIub3BhY2l0eSA9PT0gdW5kZWZpbmVkID8gMSA6IGN1ci5vcGFjaXR5O1xuICAgICAgfVxuICAgICAgaWYoY3VyLmZvbnRTaXplICE9PSBwcmV2LmZvbnRTaXplKSB7XG4gICAgICAgIGlmKHR3ZWVuLmZvbnRTaXplKSB0ZW1wVHdlZW4uZm9udFNpemUgPSBjdXIuZm9udFNpemU7XG4gICAgICAgIGVsc2Ugc3R5bGUuZm9udFNpemUgPSBjdXIuZm9udFNpemU7XG4gICAgICB9XG4gICAgICBpZihjdXIuY29sb3IgIT09IHByZXYuY29sb3IpIHtcbiAgICAgICAgaWYodHdlZW4uY29sb3IpIHRlbXBUd2Vlbi5jb2xvciA9IGN1ci5jb2xvcjtcbiAgICAgICAgZWxzZSBzdHlsZS5jb2xvciA9IGN1ci5jb2xvciB8fCBcImluaGVyaXRcIjtcbiAgICAgIH1cblxuICAgICAgbGV0IGFuaW1LZXlzID0gT2JqZWN0LmtleXModGVtcFR3ZWVuKTtcbiAgICAgIGlmKGFuaW1LZXlzLmxlbmd0aCkge1xuICAgICAgICBWZWxvY2l0eShkaXYsIHRlbXBUd2VlbiwgdHdlZW4pO1xuICAgICAgICB0ZW1wVHdlZW4gPSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8gbm9uLWFuaW1hdGlvbiBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICBpZihjdXIuYmFja2dyb3VuZEltYWdlICE9PSBwcmV2LmJhY2tncm91bmRJbWFnZSkgc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtjdXIuYmFja2dyb3VuZEltYWdlfScpYDtcbiAgICAgIGlmKGN1ci5ib3JkZXIgIT09IHByZXYuYm9yZGVyKSBzdHlsZS5ib3JkZXIgPSBjdXIuYm9yZGVyIHx8IFwibm9uZVwiO1xuICAgICAgaWYoY3VyLnRleHRBbGlnbiAhPT0gcHJldi50ZXh0QWxpZ24pIHtcbiAgICAgICAgc3R5bGUuYWxpZ25JdGVtcyA9IGN1ci50ZXh0QWxpZ247XG4gICAgICAgIGlmKGN1ci50ZXh0QWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICBzdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICB9IGVsc2UgaWYoY3VyLnRleHRBbGlnbiA9PT0gXCJmbGV4LWVuZFwiKSB7XG4gICAgICAgICAgc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZihjdXIudmVydGljYWxBbGlnbiAhPT0gcHJldi52ZXJ0aWNhbEFsaWduKSBzdHlsZS5qdXN0aWZ5Q29udGVudCA9IGN1ci52ZXJ0aWNhbEFsaWduO1xuICAgICAgaWYoY3VyLmZvbnRGYW1pbHkgIT09IHByZXYuZm9udEZhbWlseSkgc3R5bGUuZm9udEZhbWlseSA9IGN1ci5mb250RmFtaWx5IHx8IFwiaW5oZXJpdFwiO1xuICAgICAgaWYoY3VyLnRyYW5zZm9ybSAhPT0gcHJldi50cmFuc2Zvcm0pIHN0eWxlLnRyYW5zZm9ybSA9IGN1ci50cmFuc2Zvcm0gfHwgXCJub25lXCI7XG4gICAgICBpZihjdXIuc3R5bGUgIT09IHByZXYuc3R5bGUpIGRpdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBjdXIuc3R5bGUpO1xuXG4gICAgICBpZihjdXIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT09IHByZXYuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpIGRpdi5pbm5lckhUTUwgPSBjdXIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cbiAgICAgIC8vIGRlYnVnL3Byb2dyYW1tYXRpYyBwcm9wZXJ0aWVzXG4gICAgICBpZihjdXIuc2VtYW50aWMgIT09IHByZXYuc2VtYW50aWMpIGRpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNlbWFudGljXCIsIGN1ci5zZW1hbnRpYyk7XG4gICAgICBpZihjdXIuZGVidWcgIT09IHByZXYuZGVidWcpIGRpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRlYnVnXCIsIGN1ci5kZWJ1Zyk7XG5cbiAgICAgIC8vIFNWRyBwcm9wZXJ0aWVzXG4gICAgICBpZihjdXIuc3ZnKSB7XG4gICAgICAgIGlmKGN1ci5maWxsICE9PSBwcmV2LmZpbGwpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImZpbGxcIiwgY3VyLmZpbGwpO1xuICAgICAgICBpZihjdXIuc3Ryb2tlICE9PSBwcmV2LnN0cm9rZSkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwic3Ryb2tlXCIsIGN1ci5zdHJva2UpO1xuICAgICAgICBpZihjdXIuc3Ryb2tlV2lkdGggIT09IHByZXYuc3Ryb2tlV2lkdGgpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0cm9rZS13aWR0aFwiLCBjdXIuc3Ryb2tlV2lkdGgpO1xuICAgICAgICBpZihjdXIuZCAhPT0gcHJldi5kKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIGN1ci5kKTtcbiAgICAgICAgaWYoY3VyLmMgIT09IHByZXYuYykgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY2xhc3NcIiwgY3VyLmMpO1xuICAgICAgICBpZihjdXIueCAhPT0gcHJldi54KSAgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwieFwiLCBjdXIueCk7XG4gICAgICAgIGlmKGN1ci55ICE9PSBwcmV2LnkpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInlcIiwgY3VyLnkpO1xuICAgICAgICBpZihjdXIuZHggIT09IHByZXYuZHgpICBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkeFwiLCBjdXIuZHgpO1xuICAgICAgICBpZihjdXIuZHkgIT09IHByZXYuZHkpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImR5XCIsIGN1ci5keSk7XG4gICAgICAgIGlmKGN1ci5jeCAhPT0gcHJldi5jeCkgIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImN4XCIsIGN1ci5jeCk7XG4gICAgICAgIGlmKGN1ci5jeSAhPT0gcHJldi5jeSkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiY3lcIiwgY3VyLmN5KTtcbiAgICAgICAgaWYoY3VyLnIgIT09IHByZXYucikgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiclwiLCBjdXIucik7XG4gICAgICAgIGlmKGN1ci5oZWlnaHQgIT09IHByZXYuaGVpZ2h0KSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgY3VyLmhlaWdodCk7XG4gICAgICAgIGlmKGN1ci53aWR0aCAhPT0gcHJldi53aWR0aCkgIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIndpZHRoXCIsIGN1ci53aWR0aCk7XG4gICAgICAgIGlmKGN1ci54bGlua2hyZWYgIT09IHByZXYueGxpbmtocmVmKSAgZGl2LnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgXCJocmVmXCIsIGN1ci54bGlua2hyZWYpO1xuICAgICAgICBpZihjdXIuc3RhcnRPZmZzZXQgIT09IHByZXYuc3RhcnRPZmZzZXQpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0YXJ0T2Zmc2V0XCIsIGN1ci5zdGFydE9mZnNldCk7XG4gICAgICAgIGlmKGN1ci5pZCAhPT0gcHJldi5pZCkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaWRcIiwgY3VyLmlkKTtcbiAgICAgICAgaWYoY3VyLnZpZXdCb3ggIT09IHByZXYudmlld0JveCkgZGl2LnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBjdXIudmlld0JveCk7XG4gICAgICAgIGlmKGN1ci50cmFuc2Zvcm0gIT09IHByZXYudHJhbnNmb3JtKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgY3VyLnRyYW5zZm9ybSk7XG4gICAgICAgIGlmKGN1ci5kcmFnZ2FibGUgIT09IHByZXYuZHJhZ2dhYmxlKSBkaXYuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkcmFnZ2FibGVcIiwgY3VyLmRyYWdnYWJsZSk7XG4gICAgICAgIGlmKGN1ci50ZXh0QW5jaG9yICE9PSBwcmV2LnRleHRBbmNob3IpIGRpdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRleHQtYW5jaG9yXCIsIGN1ci50ZXh0QW5jaG9yKTtcbiAgICAgIH1cblxuICAgICAgLy9ldmVudHNcbiAgICAgIGlmKGN1ci5kYmxjbGljayAhPT0gcHJldi5kYmxjbGljaykgZGl2Lm9uZGJsY2xpY2sgPSBjdXIuZGJsY2xpY2sgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuY2xpY2sgIT09IHByZXYuY2xpY2spIGRpdi5vbmNsaWNrID0gY3VyLmNsaWNrICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmNvbnRleHRtZW51ICE9PSBwcmV2LmNvbnRleHRtZW51KSBkaXYub25jb250ZXh0bWVudSA9IGN1ci5jb250ZXh0bWVudSAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5tb3VzZWRvd24gIT09IHByZXYubW91c2Vkb3duKSBkaXYub25tb3VzZWRvd24gPSBjdXIubW91c2Vkb3duICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLm1vdXNlbW92ZSAhPT0gcHJldi5tb3VzZW1vdmUpIGRpdi5vbm1vdXNlbW92ZSA9IGN1ci5tb3VzZW1vdmUgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2V1cCAhPT0gcHJldi5tb3VzZXVwKSBkaXYub25tb3VzZXVwID0gY3VyLm1vdXNldXAgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2VvdmVyICE9PSBwcmV2Lm1vdXNlb3ZlcikgZGl2Lm9ubW91c2VvdmVyID0gY3VyLm1vdXNlb3ZlciAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5tb3VzZW91dCAhPT0gcHJldi5tb3VzZW91dCkgZGl2Lm9ubW91c2VvdXQgPSBjdXIubW91c2VvdXQgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2VsZWF2ZSAhPT0gcHJldi5tb3VzZWxlYXZlKSBkaXYub25tb3VzZWxlYXZlID0gY3VyLm1vdXNlbGVhdmUgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIubW91c2V3aGVlbCAhPT0gcHJldi5tb3VzZXdoZWVsKSBkaXYub25tb3VzZWhlZWwgPSBjdXIubW91c2V3aGVlbCAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5kcmFnb3ZlciAhPT0gcHJldi5kcmFnb3ZlcikgZGl2Lm9uZHJhZ292ZXIgPSBjdXIuZHJhZ292ZXIgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuZHJhZ3N0YXJ0ICE9PSBwcmV2LmRyYWdzdGFydCkgZGl2Lm9uZHJhZ3N0YXJ0ID0gY3VyLmRyYWdzdGFydCAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5kcmFnZW5kICE9PSBwcmV2LmRyYWdlbmQpIGRpdi5vbmRyYWdlbmQgPSBjdXIuZHJhZ2VuZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5kcmFnICE9PSBwcmV2LmRyYWcpIGRpdi5vbmRyYWcgPSBjdXIuZHJhZyAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5kcm9wICE9PSBwcmV2LmRyb3ApIGRpdi5vbmRyb3AgPSBjdXIuZHJvcCAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5zY3JvbGwgIT09IHByZXYuc2Nyb2xsKSBkaXYub25zY3JvbGwgPSBjdXIuc2Nyb2xsICE9PSB1bmRlZmluZWQgPyB0aGlzLmhhbmRsZUV2ZW50IDogdW5kZWZpbmVkO1xuICAgICAgaWYoY3VyLmZvY3VzICE9PSBwcmV2LmZvY3VzKSBkaXYub25mb2N1cyA9IGN1ci5mb2N1cyAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5ibHVyICE9PSBwcmV2LmJsdXIpIGRpdi5vbmJsdXIgPSBjdXIuYmx1ciAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5pbnB1dCAhPT0gcHJldi5pbnB1dCkgZGl2Lm9uaW5wdXQgPSBjdXIuaW5wdXQgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIuY2hhbmdlICE9PSBwcmV2LmNoYW5nZSkgZGl2Lm9uY2hhbmdlID0gY3VyLmNoYW5nZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5oYW5kbGVFdmVudCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmKGN1ci5rZXl1cCAhPT0gcHJldi5rZXl1cCkgZGl2Lm9ua2V5dXAgPSBjdXIua2V5dXAgIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG4gICAgICBpZihjdXIua2V5ZG93biAhPT0gcHJldi5rZXlkb3duKSBkaXYub25rZXlkb3duID0gY3VyLmtleWRvd24gIT09IHVuZGVmaW5lZCA/IHRoaXMuaGFuZGxlRXZlbnQgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmKHR5cGUgPT09IFwiYWRkZWRcIiB8fCB0eXBlID09PSBcInJlcGxhY2VkXCIgfHwgdHlwZSA9PT0gXCJtb3ZlZFwiKSB7XG4gICAgICAgIHZhciBwYXJlbnRFbCA9IGVsZW1lbnRDYWNoZVtjdXIucGFyZW50XTtcbiAgICAgICAgaWYocGFyZW50RWwpIHtcbiAgICAgICAgICBpZihjdXIuaXggPj0gcGFyZW50RWwuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnRFbC5pbnNlcnRCZWZvcmUoZGl2LCBwYXJlbnRFbC5jaGlsZHJlbltjdXIuaXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkaWZmKCkge1xuICAgIHZhciBhID0gdGhpcy5wcmV2VHJlZTtcbiAgICB2YXIgYiA9IHRoaXMudHJlZTtcbiAgICB2YXIgYXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYnMgPSBPYmplY3Qua2V5cyhiKTtcbiAgICB2YXIgdXBkYXRlZCA9IHt9O1xuICAgIHZhciBhZGRzID0gW107XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gYXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IGFzW2ldO1xuICAgICAgdmFyIGN1ckEgPSBhW2lkXTtcbiAgICAgIHZhciBjdXJCID0gYltpZF07XG4gICAgICBpZihjdXJCID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBkYXRlZFtpZF0gPSBcInJlbW92ZWRcIjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZihjdXJBLnQgIT09IGN1ckIudCkge1xuICAgICAgICB1cGRhdGVkW2lkXSA9IFwicmVwbGFjZWRcIjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZihjdXJBLml4ICE9PSBjdXJCLml4IHx8IGN1ckEucGFyZW50ICE9PSBjdXJCLnBhcmVudCkge1xuICAgICAgICB1cGRhdGVkW2lkXSA9IFwibW92ZWRcIjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmKCFjdXJCLmRpcnR5XG4gICAgICAgICAgJiYgY3VyQS5jID09PSBjdXJCLmNcbiAgICAgICAgICAmJiBjdXJBLmtleSA9PT0gY3VyQi5rZXlcbiAgICAgICAgICAmJiBjdXJBLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSBjdXJCLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXG4gICAgICAgICAgJiYgY3VyQS50YWJpbmRleCA9PT0gY3VyQi50YWJpbmRleFxuICAgICAgICAgICYmIGN1ckEuaHJlZiA9PT0gY3VyQi5ocmVmXG4gICAgICAgICAgJiYgY3VyQS5zcmMgPT09IGN1ckIuc3JjXG4gICAgICAgICAgJiYgY3VyQS5kYXRhID09PSBjdXJCLmRhdGFcbiAgICAgICAgICAmJiBjdXJBLmRvd25sb2FkID09PSBjdXJCLmRvd25sb2FkXG4gICAgICAgICAgJiYgY3VyQS5hbGxvd2Z1bGxzY3JlZW4gPT09IGN1ckIuYWxsb3dmdWxsc2NyZWVuXG4gICAgICAgICAgJiYgY3VyQS5wbGFjZWhvbGRlciA9PT0gY3VyQi5wbGFjZWhvbGRlclxuICAgICAgICAgICYmIGN1ckEuc2VsZWN0ZWQgPT09IGN1ckIuc2VsZWN0ZWRcbiAgICAgICAgICAmJiBjdXJBLmRyYWdnYWJsZSA9PT0gY3VyQi5kcmFnZ2FibGVcbiAgICAgICAgICAmJiBjdXJBLmNvbnRlbnRFZGl0YWJsZSA9PT0gY3VyQi5jb250ZW50RWRpdGFibGVcbiAgICAgICAgICAmJiBjdXJBLnZhbHVlID09PSBjdXJCLnZhbHVlXG4gICAgICAgICAgJiYgY3VyQS50YXJnZXQgPT09IGN1ckIudGFyZ2V0XG4gICAgICAgICAgJiYgY3VyQS50eXBlID09PSBjdXJCLnR5cGVcbiAgICAgICAgICAmJiBjdXJBLmNoZWNrZWQgPT09IGN1ckIuY2hlY2tlZFxuICAgICAgICAgICYmIGN1ckEudGV4dCA9PT0gY3VyQi50ZXh0XG4gICAgICAgICAgJiYgY3VyQS50b3AgPT09IGN1ckIudG9wXG4gICAgICAgICAgJiYgY3VyQS5mbGV4ID09PSBjdXJCLmZsZXhcbiAgICAgICAgICAmJiBjdXJBLmxlZnQgPT09IGN1ckIubGVmdFxuICAgICAgICAgICYmIGN1ckEud2lkdGggPT09IGN1ckIud2lkdGhcbiAgICAgICAgICAmJiBjdXJBLmhlaWdodCA9PT0gY3VyQi5oZWlnaHRcbiAgICAgICAgICAmJiBjdXJBLnpJbmRleCA9PT0gY3VyQi56SW5kZXhcbiAgICAgICAgICAmJiBjdXJBLmJhY2tncm91bmRDb2xvciA9PT0gY3VyQi5iYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAmJiBjdXJBLmJhY2tncm91bmRJbWFnZSA9PT0gY3VyQi5iYWNrZ3JvdW5kSW1hZ2VcbiAgICAgICAgICAmJiBjdXJBLmNvbG9yID09PSBjdXJCLmNvbG9yXG4gICAgICAgICAgJiYgY3VyQS5jb2xzcGFuID09PSBjdXJCLmNvbHNwYW5cbiAgICAgICAgICAmJiBjdXJBLmJvcmRlciA9PT0gY3VyQi5ib3JkZXJcbiAgICAgICAgICAmJiBjdXJBLmJvcmRlckNvbG9yID09PSBjdXJCLmJvcmRlckNvbG9yXG4gICAgICAgICAgJiYgY3VyQS5ib3JkZXJXaWR0aCA9PT0gY3VyQi5ib3JkZXJXaWR0aFxuICAgICAgICAgICYmIGN1ckEuYm9yZGVyUmFkaXVzID09PSBjdXJCLmJvcmRlclJhZGl1c1xuICAgICAgICAgICYmIGN1ckEub3BhY2l0eSA9PT0gY3VyQi5vcGFjaXR5XG4gICAgICAgICAgJiYgY3VyQS5mb250RmFtaWx5ID09PSBjdXJCLmZvbnRGYW1pbHlcbiAgICAgICAgICAmJiBjdXJBLmZvbnRTaXplID09PSBjdXJCLmZvbnRTaXplXG4gICAgICAgICAgJiYgY3VyQS50ZXh0QWxpZ24gPT09IGN1ckIudGV4dEFsaWduXG4gICAgICAgICAgJiYgY3VyQS50cmFuc2Zvcm0gPT09IGN1ckIudHJhbnNmb3JtXG4gICAgICAgICAgJiYgY3VyQS52ZXJ0aWNhbEFsaWduID09PSBjdXJCLnZlcnRpY2FsQWxpZ25cbiAgICAgICAgICAmJiBjdXJBLnNlbWFudGljID09PSBjdXJCLnNlbWFudGljXG4gICAgICAgICAgJiYgY3VyQS5kZWJ1ZyA9PT0gY3VyQi5kZWJ1Z1xuICAgICAgICAgICYmIGN1ckEuc3R5bGUgPT09IGN1ckIuc3R5bGVcbiAgICAgICAgICAmJiAoY3VyQi5zdmcgPT09IHVuZGVmaW5lZCB8fCAoXG4gICAgICAgICAgICAgIGN1ckEueCA9PT0gY3VyQi54XG4gICAgICAgICAgICAgICYmIGN1ckEueSA9PT0gY3VyQi55XG4gICAgICAgICAgICAgICYmIGN1ckEuZHggPT09IGN1ckIuZHhcbiAgICAgICAgICAgICAgJiYgY3VyQS5keSA9PT0gY3VyQi5keVxuICAgICAgICAgICAgICAmJiBjdXJBLmN4ID09PSBjdXJCLmN4XG4gICAgICAgICAgICAgICYmIGN1ckEuY3kgPT09IGN1ckIuY3lcbiAgICAgICAgICAgICAgJiYgY3VyQS5yID09PSBjdXJCLnJcbiAgICAgICAgICAgICAgJiYgY3VyQS5kID09PSBjdXJCLmRcbiAgICAgICAgICAgICAgJiYgY3VyQS5maWxsID09PSBjdXJCLmZpbGxcbiAgICAgICAgICAgICAgJiYgY3VyQS5zdHJva2UgPT09IGN1ckIuc3Ryb2tlXG4gICAgICAgICAgICAgICYmIGN1ckEuc3Ryb2tlV2lkdGggPT09IGN1ckIuc3Ryb2tlV2lkdGhcbiAgICAgICAgICAgICAgJiYgY3VyQS5zdGFydE9mZnNldCA9PT0gY3VyQi5zdGFydE9mZnNldFxuICAgICAgICAgICAgICAmJiBjdXJBLnRleHRBbmNob3IgPT09IGN1ckIudGV4dEFuY2hvclxuICAgICAgICAgICAgICAmJiBjdXJBLnZpZXdCb3ggPT09IGN1ckIudmlld0JveFxuICAgICAgICAgICAgICAmJiBjdXJBLnhsaW5raHJlZiA9PT0gY3VyQi54bGlua2hyZWYpKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB1cGRhdGVkW2lkXSA9IFwidXBkYXRlZFwiO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBicy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGlkID0gYnNbaV07XG4gICAgICB2YXIgY3VyQSA9IGFbaWRdO1xuICAgICAgaWYoY3VyQSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFkZHMucHVzaChpZCk7XG4gICAgICAgIHVwZGF0ZWRbaWRdID0gXCJhZGRlZFwiO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0RGlmZiA9IHthZGRzOiBhZGRzLCB1cGRhdGVzOiB1cGRhdGVkfTtcbiAgICByZXR1cm4gdGhpcy5sYXN0RGlmZjtcbiAgfVxuXG4gIHByZXBhcmUocm9vdDpFbGVtZW50KSB7XG4gICAgdmFyIGVsZW1MZW4gPSAxO1xuICAgIHZhciB0cmVlID0gdGhpcy50cmVlO1xuICAgIHZhciBlbGVtZW50cyA9IFtyb290XTtcbiAgICB2YXIgZWxlbTpFbGVtZW50O1xuICAgIGZvcih2YXIgZWxlbUl4ID0gMDsgZWxlbUl4IDwgZWxlbUxlbjsgZWxlbUl4KyspIHtcbiAgICAgIGVsZW0gPSBlbGVtZW50c1tlbGVtSXhdO1xuICAgICAgaWYoZWxlbS5wYXJlbnQgPT09IHVuZGVmaW5lZCkgZWxlbS5wYXJlbnQgPSBcIl9fcm9vdFwiO1xuICAgICAgaWYoZWxlbS5pZCA9PT0gdW5kZWZpbmVkKSBlbGVtLmlkID0gXCJfX3Jvb3RfX1wiICsgZWxlbUl4O1xuICAgICAgdHJlZVtlbGVtLmlkXSA9IGVsZW07XG4gICAgICBpZihlbGVtLnBvc3RSZW5kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBvc3RSZW5kZXJzLnB1c2goZWxlbSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW4gPSBlbGVtLmNoaWxkcmVuO1xuICAgICAgaWYoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IodmFyIGNoaWxkSXggPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGNoaWxkSXggPCBsZW47IGNoaWxkSXgrKykge1xuICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2NoaWxkSXhdO1xuICAgICAgICAgIGlmKGNoaWxkID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmKGNoaWxkLmlkID09PSB1bmRlZmluZWQpIHsgY2hpbGQuaWQgPSBlbGVtLmlkICsgXCJfX1wiICsgY2hpbGRJeDsgfVxuICAgICAgICAgIGlmKGNoaWxkLml4ID09PSB1bmRlZmluZWQpIHsgY2hpbGQuaXggPSBjaGlsZEl4OyB9XG4gICAgICAgICAgaWYoY2hpbGQucGFyZW50ID09PSB1bmRlZmluZWQpIHsgY2hpbGQucGFyZW50ID0gZWxlbS5pZDsgfVxuICAgICAgICAgIGVsZW1lbnRzLnB1c2goY2hpbGQpO1xuICAgICAgICAgIGVsZW1MZW4rKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJlZTtcbiAgfVxuXG4gIHBvc3REb21pZnkoKSB7XG4gICAgdmFyIHBvc3RSZW5kZXJzID0gdGhpcy5wb3N0UmVuZGVycztcbiAgICB2YXIgZGlmZiA9IHRoaXMubGFzdERpZmYudXBkYXRlcztcbiAgICB2YXIgZWxlbWVudENhY2hlID0gdGhpcy5lbGVtZW50Q2FjaGU7XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gcG9zdFJlbmRlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlbGVtID0gcG9zdFJlbmRlcnNbaV07XG4gICAgICB2YXIgaWQgPSBlbGVtLmlkO1xuICAgICAgaWYoZGlmZltpZF0gPT09IFwidXBkYXRlZFwiIHx8IGRpZmZbaWRdID09PSBcImFkZGVkXCIgfHwgZGlmZltpZF0gPT09IFwicmVwbGFjZWRcIiB8fCBlbGVtLmRpcnR5IHx8IGRpZmZbaWRdID09PSBcIm1vdmVkXCIpIHtcbiAgICAgICAgZWxlbS5wb3N0UmVuZGVyKGVsZW1lbnRDYWNoZVtlbGVtLmlkXSwgZWxlbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKGVsZW1zOkVsZW1lbnRbXSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIC8vIFdlIHNvcnQgZWxlbWVudHMgYnkgZGVwdGggdG8gYWxsb3cgdGhlbSB0byBiZSBzZWxmIHJlZmVyZW50aWFsLlxuICAgIGVsZW1zLnNvcnQoKGEsIGIpID0+IChhLnBhcmVudCA/IGEucGFyZW50LnNwbGl0KFwiX19cIikubGVuZ3RoIDogMCkgLSAoYi5wYXJlbnQgPyBiLnBhcmVudC5zcGxpdChcIl9fXCIpLmxlbmd0aCA6IDApKTtcbiAgICBsZXQgc3RhcnQgPSBub3coKTtcbiAgICBmb3IobGV0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgIGxldCBwb3N0ID0gdGhpcy5wcmVwYXJlKGVsZW0pO1xuXG4gICAgfVxuICAgIGxldCBwcmVwYXJlID0gbm93KCk7XG4gICAgbGV0IGQgPSB0aGlzLmRpZmYoKTtcbiAgICBsZXQgZGlmZiA9IG5vdygpO1xuICAgIHRoaXMuZG9taWZ5KCk7XG4gICAgbGV0IGRvbWlmeSA9IG5vdygpO1xuICAgIHRoaXMucG9zdERvbWlmeSgpO1xuICAgIGxldCBwb3N0RG9taWZ5ID0gbm93KCk7XG4gICAgbGV0IHRpbWUgPSBub3coKSAtIHN0YXJ0O1xuICAgIGlmKHRpbWUgPiA1KSB7XG4gICAgICBjb25zb2xlLmxvZyhcInNsb3cgcmVuZGVyICg+IDVtcyk6IFwiLCB0aW1lLCB7XG4gICAgICAgIHByZXBhcmU6IHByZXBhcmUgLSBzdGFydCxcbiAgICAgICAgZGlmZjogZGlmZiAtIHByZXBhcmUsXG4gICAgICAgIGRvbWlmeTogZG9taWZ5IC0gZGlmZixcbiAgICAgICAgcG9zdERvbWlmeTogcG9zdERvbWlmeSAtIGRvbWlmeVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0VOViwgREVCVUcsIHV1aWQsIHVucGFkLCB1bmRlcmxpbmUsIGNvZXJjZUlucHV0fSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQgKiBhcyBydW50aW1lIGZyb20gXCIuL3J1bnRpbWVcIlxuaW1wb3J0IHtldmV9IGZyb20gXCIuL2FwcFwiXG5pbXBvcnQge3JlcGVhdH0gZnJvbSBcIi4vdXRpbHNcIlxuXG5jbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBuYW1lOiBzdHJpbmcgPSBcIlBhcnNlIEVycm9yXCI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIG1lc3NhZ2U6c3RyaW5nLCBwdWJsaWMgbGluZTpzdHJpbmcsIHB1YmxpYyBsaW5lSXg/Om51bWJlciwgcHVibGljIGNoYXJJeDpudW1iZXIgPSAwLCBwdWJsaWMgbGVuZ3RoOm51bWJlciA9IGxpbmUgJiYgKGxpbmUubGVuZ3RoIC0gY2hhckl4KSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB1bnBhZCg2KSBgXG4gICAgICAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfVxuICAgICAgJHt0aGlzLmxpbmVJeCAhPT0gdW5kZWZpbmVkID8gYE9uIGxpbmUgJHt0aGlzLmxpbmVJeCArIDF9OiR7dGhpcy5jaGFySXh9YCA6IFwiXCJ9XG4gICAgICAke3RoaXMubGluZX1cbiAgICAgICR7dW5kZXJsaW5lKHRoaXMuY2hhckl4LCB0aGlzLmxlbmd0aCl9XG4gICAgYDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkV2hpbGUoc3RyOnN0cmluZywgcGF0dGVybjpSZWdFeHAsIHN0YXJ0SXg6bnVtYmVyKTpzdHJpbmcge1xuICBsZXQgZW5kSXggPSBzdGFydEl4O1xuICB3aGlsZShzdHJbZW5kSXhdICE9PSB1bmRlZmluZWQgJiYgc3RyW2VuZEl4XS5tYXRjaChwYXR0ZXJuKSkgZW5kSXgrKztcbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVbnRpbChzdHI6c3RyaW5nLCBzZW50aW5lbDpzdHJpbmcsIHN0YXJ0SXg6bnVtYmVyKTpzdHJpbmc7XG5mdW5jdGlvbiByZWFkVW50aWwoc3RyOnN0cmluZywgc2VudGluZWw6c3RyaW5nLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI6IEVycm9yKTpzdHJpbmd8RXJyb3I7XG5mdW5jdGlvbiByZWFkVW50aWwoc3RyOnN0cmluZywgc2VudGluZWw6c3RyaW5nLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI/OiBFcnJvcik6YW55IHtcbiAgbGV0IGVuZEl4ID0gc3RyLmluZGV4T2Yoc2VudGluZWwsIHN0YXJ0SXgpO1xuICBpZihlbmRJeCA9PT0gLTEpIHtcbiAgICBpZih1bnNhdGlzZmllZEVycikgcmV0dXJuIHVuc2F0aXNmaWVkRXJyO1xuICAgIHJldHVybiBzdHIuc2xpY2Uoc3RhcnRJeCk7XG4gIH1cbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbmZ1bmN0aW9uIHJlYWRVbnRpbEFueShzdHI6c3RyaW5nLCBzZW50aW5lbHM6c3RyaW5nW10sIHN0YXJ0SXg6bnVtYmVyKTpzdHJpbmc7XG5mdW5jdGlvbiByZWFkVW50aWxBbnkoc3RyOnN0cmluZywgc2VudGluZWxzOnN0cmluZ1tdLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI6IEVycm9yKTpzdHJpbmd8RXJyb3I7XG5mdW5jdGlvbiByZWFkVW50aWxBbnkoc3RyOnN0cmluZywgc2VudGluZWxzOnN0cmluZ1tdLCBzdGFydEl4Om51bWJlciwgdW5zYXRpc2ZpZWRFcnI/OiBFcnJvcik6YW55IHtcbiAgbGV0IGVuZEl4ID0gLTE7XG4gIGZvcihsZXQgc2VudGluZWwgb2Ygc2VudGluZWxzKSB7XG4gICAgbGV0IGl4ID0gc3RyLmluZGV4T2Yoc2VudGluZWwsIHN0YXJ0SXgpO1xuICAgIGlmKGl4ID09PSAtMSB8fCBlbmRJeCAhPT0gLTEgJiYgaXggPiBlbmRJeCkgY29udGludWU7XG4gICAgZW5kSXggPSBpeDtcbiAgfVxuICBpZihlbmRJeCA9PT0gLTEpIHtcbiAgICBpZih1bnNhdGlzZmllZEVycikgcmV0dXJuIHVuc2F0aXNmaWVkRXJyO1xuICAgIHJldHVybiBzdHIuc2xpY2Uoc3RhcnRJeCk7XG4gIH1cbiAgcmV0dXJuIHN0ci5zbGljZShzdGFydEl4LCBlbmRJeCk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVJIERTTCBQYXJzZXJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBpbnRlcmZhY2UgVUlFbGVtIHtcbiAgaWQ/OiBzdHJpbmdcbiAgY2hpbGRyZW4/OiBVSUVsZW1bXVxuICBlbWJlZGRlZD86IHt9IC8vIFVuZGVmaW5lZCBvciB0aGUgcmVzdHJpY3RlZCBzY29wZSBvZiB0aGUgZW1iZWRkZWQgY2hpbGQuXG4gIGJpbmRpbmc/OiBzdHJpbmdcbiAgYmluZGluZ0tpbmQ/OiBzdHJpbmdcbiAgYXR0cmlidXRlcz86IHt9XG4gIGV2ZW50cz86IHtbZXZlbnQ6c3RyaW5nXToge319XG59XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBwYXJzZVVJKHN0cjpzdHJpbmcpOlVJRWxlbSB7XG4vLyAgIGxldCByb290OlVJRWxlbSA9IHt9O1xuLy8gICBsZXQgZXJyb3JzID0gW107XG4vLyAgIGxldCBsaW5lSXggPSAwO1xuLy8gICBsZXQgbGluZXMgPSBzdHIuc3BsaXQoXCJcXG5cIik7XG4vLyAgIGxldCBzdGFjazp7aW5kZW50OiBudW1iZXIsIGVsZW06IFVJRWxlbX1bXSA9IFt7aW5kZW50OiAtMiwgZWxlbTogcm9vdH1dO1xuLy8gICAvLyBARklYTUU6IENodW5rIGludG8gZWxlbWVudCBjaHVua3MgaW5zdGVhZCBvZiBsaW5lcyB0byBlbmFibGUgaW4tYXJndW1lbnQgY29udGludWF0aW9uLlxuLy8gICBmb3IobGV0IGxpbmUgb2YgbGluZXMpIHtcbi8vICAgICBsZXQgY2hhckl4ID0gMDtcbi8vICAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbi8vICAgICBsZXQgaW5kZW50ID0gY2hhckl4O1xuLy8gICAgIGlmKGxpbmVbY2hhckl4XSA9PT0gdW5kZWZpbmVkKSAgY29udGludWU7XG4vLyAgICAgbGV0IHBhcmVudDpVSUVsZW07XG4vLyAgICAgZm9yKGxldCBzdGFja0l4ID0gc3RhY2subGVuZ3RoIC0gMTsgc3RhY2tJeCA+PSAwOyBzdGFja0l4LS0pIHtcbi8vICAgICAgIGlmKGluZGVudCA+IHN0YWNrW3N0YWNrSXhdLmluZGVudCkge1xuLy8gICAgICAgICBwYXJlbnQgPSBzdGFja1tzdGFja0l4XS5lbGVtO1xuLy8gICAgICAgICBicmVhaztcbi8vICAgICAgIH0gZWxzZSBzdGFjay5wb3AoKTtcbi8vICAgICB9XG4vLyAgICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWwobGluZSwgXCIgXCIsIGNoYXJJeCk7XG4vLyAgICAgY2hhckl4ICs9IGtleXdvcmQubGVuZ3RoO1xuXG4vLyAgICAgaWYoa2V5d29yZFswXSA9PT0gXCJ+XCIgfHwga2V5d29yZFswXSA9PT0gXCIlXCIpIHsgLy8gSGFuZGxlIGJpbmRpbmdcbi8vICAgICAgIGNoYXJJeCAtPSBrZXl3b3JkLmxlbmd0aCAtIDE7XG4vLyAgICAgICBsZXQga2luZCA9IGtleXdvcmRbMF0gPT09IFwiflwiID8gXCJwbGFuXCIgOiBcInF1ZXJ5XCI7XG4vLyAgICAgICBpZighcGFyZW50LmJpbmRpbmcpIHtcbi8vICAgICAgICAgcGFyZW50LmJpbmRpbmcgPSBsaW5lLnNsaWNlKGNoYXJJeCk7XG4vLyAgICAgICAgIHBhcmVudC5iaW5kaW5nS2luZCA9IGtpbmQ7XG4vLyAgICAgICB9IGVsc2UgaWYoa2luZCA9PT0gcGFyZW50LmJpbmRpbmdLaW5kKSBwYXJlbnQuYmluZGluZyArPSBcIlxcblwiICsgbGluZS5zbGljZShjaGFySXgpO1xuLy8gICAgICAgZWxzZSB7XG4vLyAgICAgICAgIGVycm9ycy5wdXNoKG5ldyBQYXJzZUVycm9yKGBVSSBtdXN0IGJlIGJvdW5kIHRvIGEgc2luZ2xlIHR5cGUgb2YgcXVlcnkuYCwgbGluZSwgbGluZUl4KSk7XG4vLyAgICAgICAgIGNvbnRpbnVlO1xuLy8gICAgICAgfVxuLy8gICAgICAgY2hhckl4ID0gbGluZS5sZW5ndGg7XG5cbi8vICAgICB9IGVsc2UgaWYoa2V5d29yZFswXSA9PT0gXCJAXCIpIHsgLy8gSGFuZGxlIGV2ZW50XG4vLyAgICAgICBjaGFySXggLT0ga2V5d29yZC5sZW5ndGggLSAxO1xuLy8gICAgICAgbGV0IGVycjtcbi8vICAgICAgIHdoaWxlKGxpbmVbY2hhckl4XSA9PT0gXCIgXCIpIGNoYXJJeCsrO1xuLy8gICAgICAgbGV0IGxhc3RJeCA9IGNoYXJJeDtcbi8vICAgICAgIGxldCBldmVudFJhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KTtcbi8vICAgICAgIGNoYXJJeCArPSBldmVudFJhdy5sZW5ndGg7XG4vLyAgICAgICBsZXQgZXZlbnQgPSBldmVudFJhdy50cmltKCk7XG5cbi8vICAgICAgIGlmKCFldmVudCkgZXJyID0gbmV3IFBhcnNlRXJyb3IoYFVJIGV2ZW50IG11c3Qgc3BlY2lmeSBhIHZhbGlkIGV2ZW50IG5hbWVgLCBsaW5lLCBsaW5lSXgsIGxhc3RJeCwgZXZlbnRSYXcubGVuZ3RoKTtcbi8vICAgICAgIGxldCBzdGF0ZTtcbi8vICAgICAgIFtzdGF0ZSwgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuLy8gICAgICAgaWYoc3RhdGUgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyKSBlcnIgPSBzdGF0ZTtcbi8vICAgICAgIGlmKGVycikge1xuLy8gICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuLy8gICAgICAgICBsaW5lSXgrKztcbi8vICAgICAgICAgY29udGludWU7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGlmKCFwYXJlbnQuZXZlbnRzKSBwYXJlbnQuZXZlbnRzID0ge307XG4vLyAgICAgICBwYXJlbnQuZXZlbnRzW2V2ZW50XSA9IHN0YXRlO1xuXG4vLyAgICAgfSBlbHNlIGlmKGtleXdvcmRbMF0gPT09IFwiPlwiKSB7IC8vIEhhbmRsZSBlbWJlZFxuLy8gICAgICAgY2hhckl4IC09IGtleXdvcmQubGVuZ3RoIC0gMTtcbi8vICAgICAgIGxldCBlcnI7XG4vLyAgICAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbi8vICAgICAgIGxldCBsYXN0SXggPSBjaGFySXg7XG4vLyAgICAgICBsZXQgZW1iZWRJZFJhdyA9IHJlYWRVbnRpbChsaW5lLCBcIntcIiwgY2hhckl4KTtcbi8vICAgICAgIGNoYXJJeCArPSBlbWJlZElkUmF3Lmxlbmd0aDtcbi8vICAgICAgIGxldCBlbWJlZElkID0gZW1iZWRJZFJhdy50cmltKCk7XG5cbi8vICAgICAgIGlmKCFlbWJlZElkKSBlcnIgPSBuZXcgUGFyc2VFcnJvcihgVUkgZW1iZWQgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgZWxlbWVudCBpZGAsIGxpbmUsIGxpbmVJeCwgbGFzdEl4LCBlbWJlZElkUmF3Lmxlbmd0aCk7XG4vLyAgICAgICBsZXQgc2NvcGU7XG4vLyAgICAgICBbc2NvcGUgPSB7fSwgY2hhckl4XSA9IGdldE1hcEFyZ3MobGluZSwgbGluZUl4LCBjaGFySXgpO1xuLy8gICAgICAgaWYoc2NvcGUgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyKSBlcnIgPSBzY29wZTtcbi8vICAgICAgIGlmKGVycikge1xuLy8gICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuLy8gICAgICAgICBsaW5lSXgrKztcbi8vICAgICAgICAgY29udGludWU7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGxldCBlbGVtID0ge2VtYmVkZGVkOiBzY29wZSwgaWQ6IGVtYmVkSWR9O1xuLy8gICAgICAgaWYoIXBhcmVudC5jaGlsZHJlbikgcGFyZW50LmNoaWxkcmVuID0gW107XG4vLyAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChlbGVtKTtcbi8vICAgICAgIHN0YWNrLnB1c2goe2luZGVudCwgZWxlbX0pO1xuXG4vLyAgICAgfSBlbHNlIHsgLy8gSGFuZGxlIGVsZW1lbnRcbi8vICAgICAgIGxldCBlcnI7XG4vLyAgICAgICBpZigha2V5d29yZCkgZXJyID0gbmV3IFBhcnNlRXJyb3IoYFVJIGVsZW1lbnQgbXVzdCBzcGVjaWZ5IGEgdmFsaWQgdGFnIG5hbWVgLCBsaW5lLCBsaW5lSXgsIGNoYXJJeCwgMCk7XG4vLyAgICAgICB3aGlsZShsaW5lW2NoYXJJeF0gPT09IFwiIFwiKSBjaGFySXgrKztcbi8vICAgICAgIGxldCBjbGFzc2VzUmF3ID0gcmVhZFVudGlsKGxpbmUsIFwie1wiLCBjaGFySXgpO1xuLy8gICAgICAgY2hhckl4ICs9IGNsYXNzZXNSYXcubGVuZ3RoO1xuLy8gICAgICAgbGV0IGNsYXNzZXMgPSBjbGFzc2VzUmF3LnRyaW0oKTtcblxuLy8gICAgICAgbGV0IGF0dHJpYnV0ZXM7XG4vLyAgICAgICBbYXR0cmlidXRlcyA9IHt9LCBjaGFySXhdID0gZ2V0TWFwQXJncyhsaW5lLCBsaW5lSXgsIGNoYXJJeCk7XG4vLyAgICAgICBpZihhdHRyaWJ1dGVzIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycikgZXJyID0gYXR0cmlidXRlcztcbi8vICAgICAgIGlmKGVycikge1xuLy8gICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuLy8gICAgICAgICBsaW5lSXgrKztcbi8vICAgICAgICAgY29udGludWU7XG4vLyAgICAgICB9XG4vLyAgICAgICBhdHRyaWJ1dGVzW1widFwiXSA9IGtleXdvcmQ7XG4vLyAgICAgICBpZihjbGFzc2VzKSBhdHRyaWJ1dGVzW1wiY1wiXSA9IGNsYXNzZXM7XG4vLyAgICAgICBsZXQgZWxlbTpVSUVsZW0gPSB7aWQ6IGF0dHJpYnV0ZXNbXCJpZFwiXSwgYXR0cmlidXRlc307XG4vLyAgICAgICBpZighcGFyZW50LmNoaWxkcmVuKSBwYXJlbnQuY2hpbGRyZW4gPSBbXTtcbi8vICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKGVsZW0pO1xuLy8gICAgICAgc3RhY2sucHVzaCh7aW5kZW50LCBlbGVtfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgbGluZUl4Kys7XG4vLyAgIH1cblxuLy8gICBpZihlcnJvcnMubGVuZ3RoKSB7XG4vLyAgICAgZm9yKGxldCBlcnIgb2YgZXJyb3JzKSB7XG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4vLyAgICAgfVxuLy8gICB9XG4vLyAgIHJldHVybiByb290O1xuLy8gfVxuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV2ZSBEU0wgUGFyc2VyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5lbnVtIFRPS0VOX1RZUEUgeyBFWFBSLCBJREVOVElGSUVSLCBLRVlXT1JELCBTVFJJTkcsIExJVEVSQUwgfTtcbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHN0YXRpYyBUWVBFID0gVE9LRU5fVFlQRTtcbiAgc3RhdGljIGlkZW50aWZpZXIodmFsdWU6c3RyaW5nLCBsaW5lSXg/OiBudW1iZXIsIGNoYXJJeD86IG51bWJlcikge1xuICAgIHJldHVybiBuZXcgVG9rZW4oVG9rZW4uVFlQRS5JREVOVElGSUVSLCB2YWx1ZSwgbGluZUl4LCBjaGFySXgpO1xuICB9XG4gIHN0YXRpYyBrZXl3b3JkKHZhbHVlOnN0cmluZywgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuS0VZV09SRCwgdmFsdWUsIGxpbmVJeCwgY2hhckl4KTtcbiAgfVxuICBzdGF0aWMgc3RyaW5nKHZhbHVlOnN0cmluZywgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuU1RSSU5HLCB2YWx1ZSwgbGluZUl4LCBjaGFySXgpO1xuICB9XG4gIHN0YXRpYyBsaXRlcmFsKHZhbHVlOmFueSwgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKFRva2VuLlRZUEUuTElURVJBTCwgdmFsdWUsIGxpbmVJeCwgY2hhckl4KTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB0eXBlPzogVE9LRU5fVFlQRSwgcHVibGljIHZhbHVlPzogYW55LCBwdWJsaWMgbGluZUl4PzogbnVtYmVyLCBwdWJsaWMgY2hhckl4PzogbnVtYmVyKSB7fVxuICB0b1N0cmluZygpIHtcbiAgICBpZih0aGlzLnR5cGUgPT09IFRva2VuLlRZUEUuS0VZV09SRCkgcmV0dXJuIGA6JHt0aGlzLnZhbHVlfWA7XG4gICAgZWxzZSBpZih0aGlzLnR5cGUgPT09IFRva2VuLlRZUEUuU1RSSU5HKSByZXR1cm4gYFwiJHt0aGlzLnZhbHVlfVwiYDtcbiAgICBlbHNlIHJldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNleHByIHtcbiAgc3RhdGljIGxpc3QodmFsdWU6KFRva2VufFNleHByKVtdID0gW10sIGxpbmVJeD86IG51bWJlciwgY2hhckl4PzogbnVtYmVyLCBzeW50YXg/OiBib29sZWFuKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgpO1xuICAgIHZhbHVlLnVuc2hpZnQoVG9rZW4uaWRlbnRpZmllcihcImxpc3RcIiwgbGluZUl4LCBjaGFySXggPyBjaGFySXggKyAxIDogdW5kZWZpbmVkKSk7XG4gICAgcmV0dXJuIG5ldyBTZXhwcih2YWx1ZSwgbGluZUl4LCBjaGFySXgsIHN5bnRheCA/IFwibGlzdFwiIDogdW5kZWZpbmVkKTtcbiAgfVxuICBzdGF0aWMgaGFzaCh2YWx1ZTooVG9rZW58U2V4cHIpW10gPSBbXSwgbGluZUl4PzogbnVtYmVyLCBjaGFySXg/OiBudW1iZXIsIHN5bnRheD86IGJvb2xlYW4pIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKCk7XG4gICAgdmFsdWUudW5zaGlmdChUb2tlbi5pZGVudGlmaWVyKFwiaGFzaFwiLCBsaW5lSXgsIGNoYXJJeCA/IGNoYXJJeCArIDEgOiB1bmRlZmluZWQpKTtcbiAgICByZXR1cm4gbmV3IFNleHByKHZhbHVlLCBsaW5lSXgsIGNoYXJJeCwgc3ludGF4ID8gXCJoYXNoXCIgOiB1bmRlZmluZWQpO1xuICB9XG4gIHN0YXRpYyBhc1NleHBycyh2YWx1ZXM6KFRva2VufFNleHByKVtdKTpTZXhwcltdIHtcbiAgICBmb3IobGV0IHJhdyBvZiB2YWx1ZXMpIHtcbiAgICAgaWYoIShyYXcgaW5zdGFuY2VvZiBTZXhwcikpIHRocm93IG5ldyBQYXJzZUVycm9yKGBBbGwgdG9wIGxldmVsIGVudHJpZXMgbXVzdCBiZSBleHByZXNzaW9ucyAoZ290ICR7cmF3fSlgLCB1bmRlZmluZWQsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBvcCA9IHJhdy5vcGVyYXRvcjtcbiAgICAgICAgaWYob3AudHlwZSAhPT0gVG9rZW4uVFlQRS5JREVOVElGSUVSKVxuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUVycm9yKGBBbGwgZXhwcmVzc2lvbnMgbXVzdCBiZWdpbiB3aXRoIGFuIGlkZW50aWZpZXJgLCB1bmRlZmluZWQsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gPFNleHByW10+dmFsdWVzO1xuICB9XG5cbiAgcHVibGljIHR5cGUgPSBUb2tlbi5UWVBFLkVYUFI7XG4gIHB1YmxpYyB2YWx1ZTooVG9rZW58U2V4cHIpW107XG5cbiAgY29uc3RydWN0b3IodmFsPzogKFRva2VufFNleHByKVtdLCBwdWJsaWMgbGluZUl4PzogbnVtYmVyLCBwdWJsaWMgY2hhckl4PzogbnVtYmVyLCBwdWJsaWMgc3ludGF4ID0gXCJleHByXCIpIHtcbiAgICBpZih2YWwpIHRoaXMudmFsdWUgPSB2YWwuc2xpY2UoKTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgY29udGVudCA9IHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS5tYXAoKHRva2VuKSA9PiB0b2tlbi50b1N0cmluZygpKS5qb2luKFwiIFwiKTtcbiAgICBsZXQgYXJnc0NvbnRlbnQgPSB0aGlzLnZhbHVlICYmIHRoaXMuYXJndW1lbnRzLm1hcCgodG9rZW4pID0+IHRva2VuLnRvU3RyaW5nKCkpLmpvaW4oXCIgXCIpO1xuICAgIGlmKHRoaXMuc3ludGF4ID09PSBcImhhc2hcIikgcmV0dXJuIGB7JHthcmdzQ29udGVudH19YDtcbiAgICBlbHNlIGlmKHRoaXMuc3ludGF4ID09PSBcImxpc3RcIikgcmV0dXJuIGBbJHthcmdzQ29udGVudH1dYDtcbiAgICBlbHNlIHJldHVybiBgKCR7Y29udGVudH0pYDtcbiAgfVxuXG4gIHB1c2godmFsOlRva2VufFNleHByKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgfHwgW107XG4gICAgcmV0dXJuIHRoaXMudmFsdWUucHVzaCh2YWwpO1xuICB9XG4gIG50aChuLCB2YWw/OlRva2VufFNleHByKSB7XG4gICAgaWYodmFsKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCBbXTtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlW25dID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlW25dO1xuICB9XG4gIGdldCBvcGVyYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlWzBdO1xuICB9XG4gIHNldCBvcGVyYXRvcihvcDogVG9rZW58U2V4cHIpIHtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSB8fCBbXTtcbiAgICB0aGlzLnZhbHVlWzBdID0gb3A7XG4gIH1cbiAgZ2V0IGFyZ3VtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLnNsaWNlKDEpO1xuICB9XG4gIHNldCBhcmd1bWVudHMoYXJnczogKFRva2VufFNleHByKVtdKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgfHwgW107XG4gICAgdGhpcy52YWx1ZS5sZW5ndGggPSAxO1xuICAgIHRoaXMudmFsdWUucHVzaC5hcHBseSh0aGlzLnZhbHVlLCBhcmdzKTtcbiAgfVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoO1xuICB9XG59XG5cbmNvbnN0IFRPS0VOX1RPX1RZUEUgPSB7XG4gIFwiKFwiOiBcImV4cHJcIixcbiAgXCIpXCI6IFwiZXhwclwiLFxuICBcIltcIjogXCJsaXN0XCIsXG4gIFwiXVwiOiBcImxpc3RcIixcbiAgXCJ7XCI6IFwiaGFzaFwiLFxuICBcIn1cIjogXCJoYXNoXCJcbn07XG5cbmxldCBoeWdpZW5pY1N5bWJvbENvdW50ZXIgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhZFNleHBycyh0ZXh0OnN0cmluZyk6U2V4cHIge1xuICBsZXQgcm9vdCA9IFNleHByLmxpc3QoKTtcbiAgbGV0IHRva2VuOlRva2VuO1xuICBsZXQgc2V4cHI6U2V4cHIgPSByb290O1xuICBsZXQgc2V4cHJzOlNleHByW10gPSBbcm9vdF07XG5cbiAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcbiAgbGV0IGxpbmVJeCA9IDA7XG4gIGxldCBtb2RlOnN0cmluZztcbiAgZm9yKGxldCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgbGV0IGxpbmUgPSBsaW5lc1tsaW5lSXhdO1xuICAgIGxldCBjaGFySXggPSAwO1xuXG4gICAgaWYobW9kZSA9PT0gXCJzdHJpbmdcIikgdG9rZW4udmFsdWUgKz0gXCJcXG5cIjtcblxuICAgIHdoaWxlKGNoYXJJeCA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICBpZihtb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmKGxpbmVbY2hhckl4XSA9PT0gXCJcXFwiXCIgJiYgbGluZVtjaGFySXggLSAxXSAhPT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICBzZXhwci5wdXNoKHRva2VuKTtcbiAgICAgICAgICB0b2tlbiA9IG1vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgY2hhckl4Kys7XG5cbiAgICAgICAgfSBlbHNlIHRva2VuLnZhbHVlICs9IGxpbmVbY2hhckl4KytdO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGFkZGluZyA9IHJlYWRXaGlsZShsaW5lLCAvXFxzLywgY2hhckl4KTtcbiAgICAgIGNoYXJJeCArPSBwYWRkaW5nLmxlbmd0aDtcbiAgICAgIGlmKHBhZGRpbmcubGVuZ3RoKSB7XG4gICAgICAgIGlmKHRva2VuKSBzZXhwci5wdXNoKHRva2VuKTtcbiAgICAgICAgdG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZihjaGFySXggPj0gbGluZS5sZW5ndGgpIGNvbnRpbnVlO1xuXG4gICAgICBpZihsaW5lW2NoYXJJeF0gPT09IFwiO1wiKSB7XG4gICAgICAgIGNoYXJJeCA9IGxpbmUubGVuZ3RoO1xuXG4gICAgICB9IGVsc2UgaWYobGluZVtjaGFySXhdID09PSBcIlxcXCJcIikge1xuICAgICAgICBpZighc2V4cHIubGVuZ3RoKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgTGl0ZXJhbCBtdXN0IGJlIGFuIGFyZ3VtZW50IGluIGEgc2V4cHIuYCwgbGluZSwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgICBtb2RlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgdG9rZW4gPSBUb2tlbi5zdHJpbmcoXCJcIiwgbGluZUl4LCBjaGFySXgpO1xuICAgICAgICBjaGFySXgrKztcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCI6XCIpIHtcbiAgICAgICAgaWYoIXNleHByLmxlbmd0aCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYExpdGVyYWwgbXVzdCBiZSBhbiBhcmd1bWVudCBpbiBhIHNleHByLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgbGV0IGtleXdvcmQgPSByZWFkVW50aWxBbnkobGluZSwgW1wiIFwiLCBcIilcIiwgXCJdXCIsIFwifVwiXSwgKytjaGFySXgpO1xuICAgICAgICBzZXhwci5wdXNoKFRva2VuLmtleXdvcmQoa2V5d29yZCwgbGluZUl4LCBjaGFySXggLSAxKSk7XG4gICAgICAgIGNoYXJJeCArPSBrZXl3b3JkLmxlbmd0aDtcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCIoXCIgfHwgbGluZVtjaGFySXhdID09PSBcIltcIiB8fCBsaW5lW2NoYXJJeF0gPT09IFwie1wiKSB7XG4gICAgICAgIGlmKHRva2VuKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgU2V4cHIgYXJndW1lbnRzIG11c3QgYmUgc3BhY2Ugc2VwYXJhdGVkLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgbGV0IHR5cGUgPSBUT0tFTl9UT19UWVBFW2xpbmVbY2hhckl4XV07XG4gICAgICAgIGlmKHR5cGUgPT09IFwiaGFzaFwiKSBzZXhwciA9IFNleHByLmhhc2godW5kZWZpbmVkLCBsaW5lSXgsIGNoYXJJeCk7XG4gICAgICAgIGVsc2UgaWYodHlwZSA9PT0gXCJsaXN0XCIpIHNleHByID0gU2V4cHIubGlzdCh1bmRlZmluZWQsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgZWxzZSBzZXhwciA9IG5ldyBTZXhwcih1bmRlZmluZWQsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIuc3ludGF4ID0gdHlwZTtcbiAgICAgICAgc2V4cHJzLnB1c2goc2V4cHIpO1xuICAgICAgICBjaGFySXgrKztcblxuICAgICAgfSBlbHNlIGlmKGxpbmVbY2hhckl4XSA9PT0gXCIpXCIgfHwgbGluZVtjaGFySXhdID09PSBcIl1cIiB8fCBsaW5lW2NoYXJJeF0gPT09IFwifVwiKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHNleHBycy5wb3AoKTtcbiAgICAgICAgbGV0IHR5cGUgPSBUT0tFTl9UT19UWVBFW2xpbmVbY2hhckl4XV07XG4gICAgICAgIGlmKGNoaWxkLnN5bnRheCAhPT0gdHlwZSkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYE11c3QgdGVybWluYXRlICR7Y2hpbGQuc3ludGF4fSBiZWZvcmUgdGVybWluYXRpbmcgJHt0eXBlfWAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIgPSBzZXhwcnNbc2V4cHJzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZighc2V4cHIpIHRocm93IG5ldyBQYXJzZUVycm9yKGBUb28gbWFueSBjbG9zaW5nIHBhcmVuc2AsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgc2V4cHIucHVzaChjaGlsZCk7XG4gICAgICAgIGNoYXJJeCsrO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbGl0ZXJhbCA9IHJlYWRVbnRpbEFueShsaW5lLCBbXCIgXCIsIFwiKVwiLCBcIl1cIiwgXCJ9XCJdLCBjaGFySXgpO1xuICAgICAgICBsZXQgbGVuZ3RoID0gbGl0ZXJhbC5sZW5ndGg7XG4gICAgICAgIGxpdGVyYWwgPSBjb2VyY2VJbnB1dChsaXRlcmFsKTtcbiAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YgbGl0ZXJhbCA9PT0gXCJzdHJpbmdcIiA/IFwiaWRlbnRpZmllclwiIDogXCJsaXRlcmFsXCI7XG4gICAgICAgIGlmKCFzZXhwci5sZW5ndGggJiYgdHlwZSAhPT0gXCJpZGVudGlmaWVyXCIpIHRocm93IG5ldyBQYXJzZUVycm9yKGBFeHByIG11c3QgYmVnaW4gd2l0aCBpZGVudGlmaWVyLmAsIGxpbmUsIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgaWYodHlwZSA9PT0gXCJpZGVudGlmaWVyXCIpIHtcbiAgICAgICAgICBsZXQgZG90SXggPSBsaXRlcmFsLmluZGV4T2YoXCIuXCIpO1xuICAgICAgICAgIGlmKGRvdEl4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IGNoaWxkOlNleHByID0gbmV3IFNleHByKFtcbiAgICAgICAgICAgICAgVG9rZW4uaWRlbnRpZmllcihcImdldFwiLCBsaW5lSXgsIGNoYXJJeCArIDEpLFxuICAgICAgICAgICAgICBUb2tlbi5pZGVudGlmaWVyKGxpdGVyYWwuc2xpY2UoMCwgZG90SXgpLCBsaW5lSXgsIGNoYXJJeCArIDMpLFxuICAgICAgICAgICAgICBUb2tlbi5zdHJpbmcobGl0ZXJhbC5zbGljZShkb3RJeCArIDEpLCBsaW5lSXgsIGNoYXJJeCArIDUgKyBkb3RJeClcbiAgICAgICAgICAgIF0sIGxpbmVJeCwgY2hhckl4KTtcbiAgICAgICAgICAgIHNleHByLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgfSBlbHNlIHNleHByLnB1c2goVG9rZW4uaWRlbnRpZmllcihsaXRlcmFsLCBsaW5lSXgsIGNoYXJJeCkpO1xuXG4gICAgICAgIH0gZWxzZSBzZXhwci5wdXNoKFRva2VuLmxpdGVyYWwobGl0ZXJhbCwgbGluZUl4LCBjaGFySXgpKTtcbiAgICAgICAgY2hhckl4ICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGluZUl4Kys7XG4gIH1cbiAgaWYodG9rZW4pIHRocm93IG5ldyBQYXJzZUVycm9yKGBVbnRlcm1pbmF0ZWQgJHtUT0tFTl9UWVBFW3Rva2VuLnR5cGVdfSB0b2tlbmAsIGxpbmVzW2xpbmVJeCAtIDFdLCBsaW5lSXggLSAxKTtcbiAgbGV0IGxhc3RJeCA9IGxpbmVzLmxlbmd0aCAtIDE7XG4gIGlmKHNleHBycy5sZW5ndGggPiAxKSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgVG9vIGZldyBjbG9zaW5nIHBhcmVuc2AsIGxpbmVzW2xhc3RJeF0sIGxhc3RJeCwgbGluZXNbbGFzdEl4XS5sZW5ndGgpO1xuXG4gIHJldHVybiByb290O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFjcm9leHBhbmREU0woc2V4cHI6U2V4cHIpOlNleHByIHtcbiAgLy8gQFRPRE86IEltcGxlbWVudCBtZS5cbiAgbGV0IG9wID0gc2V4cHIub3BlcmF0b3I7XG4gIGlmKG9wLnZhbHVlID09PSBcImVhdlwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQFRPRE86IEltcGxlbWVudCBtZSFcIik7XG5cbiAgfSBlbHNlIGlmKG9wLnZhbHVlID09PSBcIm9uZS1vZlwiKSB7XG4gICAgLy8gKG9uZS1vZiAocXVlcnkgLi4uYm9keSkgKHF1ZXJ5IC4uLmJvZHkpIC4uLikgPT5cbiAgICAvLyAodW5pb25cbiAgICAvLyAgIChkZWYgcTEgKHF1ZXJ5IC4uLmJvZHkxKSlcbiAgICAvLyAgIChkZWYgcTIgKHF1ZXJ5IChuZWdhdGUgcTEpIC4uLmJvZHkyKSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQFRPRE86IEltcGxlbWVudCBtZSFcIik7XG5cbiAgfSBlbHNlIGlmKG9wLnZhbHVlID09PSBcIm5lZ2F0ZVwiKSB7XG4gICAgaWYoc2V4cHIubGVuZ3RoID4gMikgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYE5lZ2F0ZSBvbmx5IHRha2VzIGEgc2luZ2xlIGJvZHlgLCB1bmRlZmluZWQsIHNleHByLmxpbmVJeCwgc2V4cHIuY2hhckl4KTtcbiAgICBsZXQgc2VsZWN0ID0gbWFjcm9leHBhbmREU0woU2V4cHIuYXNTZXhwcnMoc2V4cHIuYXJndW1lbnRzKVswXSk7XG4gICAgc2VsZWN0LnB1c2goVG9rZW4ua2V5d29yZChcIiQkbmVnYXRlZFwiKSk7XG4gICAgc2VsZWN0LnB1c2goVG9rZW4ubGl0ZXJhbCh0cnVlKSk7XG4gICAgcmV0dXJuIHNlbGVjdDtcblxuICB9IGVsc2UgaWYoW1wiaGFzaFwiLCBcImxpc3RcIiwgXCJnZXRcIiwgXCJkZWZcIiwgXCJxdWVyeVwiLCBcInVuaW9uXCIsIFwic2VsZWN0XCIsIFwibWVtYmVyXCIsIFwicHJvamVjdCFcIiwgXCJpbnNlcnQhXCIsIFwicmVtb3ZlIVwiLCBcImxvYWQhXCJdLmluZGV4T2Yob3AudmFsdWUpID09PSAtMSkge1xuICAgIC8vIChmb28tYmFyIDphIDUpID0+IChzZWxlY3QgXCJmb28gYmFyXCIgOmEgNSlcbiAgICBsZXQgc291cmNlID0gb3A7XG4gICAgc291cmNlLnR5cGUgPSBUb2tlbi5UWVBFLlNUUklORztcbiAgICBzb3VyY2UudmFsdWUgPSBzb3VyY2UudmFsdWUucmVwbGFjZSgvKC4/KS0oLikvZywgXCIkMSAkMlwiKTtcbiAgICBsZXQgYXJncyA9IHNleHByLmFyZ3VtZW50cztcbiAgICBhcmdzLnVuc2hpZnQoc291cmNlKTtcbiAgICBzZXhwci5hcmd1bWVudHMgPSBhcmdzO1xuICAgIHNleHByLm9wZXJhdG9yID0gVG9rZW4uaWRlbnRpZmllcihcInNlbGVjdFwiKTtcbiAgfVxuICByZXR1cm4gc2V4cHI7XG59XG5lbnVtIFZBTFVFIHsgTlVMTCwgU0NBTEFSLCBTRVQsIFZJRVcgfTtcbmV4cG9ydCB0eXBlIEFydGlmYWN0cyA9IHtjaGFuZ2VzZXQ/OiBydW50aW1lLkRpZmYsIHZpZXdzOiB7W3F1ZXJ5OnN0cmluZ106IHJ1bnRpbWUuUXVlcnl8cnVudGltZS5Vbmlvbn19O1xudHlwZSBWYXJpYWJsZSA9IHtuYW1lOiBzdHJpbmcsIHR5cGU6IFZBTFVFLCBzdGF0aWM/OiBib29sZWFuLCB2YWx1ZT86IGFueSwgcHJvamVjdGlvbj86IHN0cmluZywgY29uc3RyYWludHM6IFtzdHJpbmcsIHN0cmluZ11bXX07XG50eXBlIFZhcmlhYmxlQ29udGV4dCA9IFZhcmlhYmxlW107XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURTTCh0ZXh0OnN0cmluZyk6QXJ0aWZhY3RzIHtcbiAgbGV0IGFydGlmYWN0czpBcnRpZmFjdHMgPSB7dmlld3M6IHt9fTtcbiAgbGV0IGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcbiAgbGV0IHJvb3QgPSByZWFkU2V4cHJzKHRleHQpO1xuXG4gIGZvcihsZXQgcmF3IG9mIFNleHByLmFzU2V4cHJzKHJvb3QuYXJndW1lbnRzKSkgcGFyc2VEU0xTZXhwcihyYXcsIGFydGlmYWN0cyk7XG4gIHJldHVybiBhcnRpZmFjdHM7XG59XG5cbnR5cGUgU2V4cHJSZXN1bHQgPSB7dHlwZTpWQUxVRSwgdmFsdWU/OmFueSwgcHJvamVjdGVkPzphbnksIGNvbnRleHQ/OmFueSwgbWFwcGluZ3M/OmFueSwgYWdncmVnYXRlZD86Ym9vbGVhbn07XG5mdW5jdGlvbiBwYXJzZURTTFNleHByKHJhdzpTZXhwciwgYXJ0aWZhY3RzOkFydGlmYWN0cywgY29udGV4dD86VmFyaWFibGVDb250ZXh0LCBwYXJlbnQ/OnJ1bnRpbWUuUXVlcnl8cnVudGltZS5VbmlvbiwgcmVzdWx0VmFyaWFibGU/OnN0cmluZyk6U2V4cHJSZXN1bHQge1xuICBpZihwYXJlbnQgaW5zdGFuY2VvZiBydW50aW1lLlF1ZXJ5KSB2YXIgcXVlcnkgPSBwYXJlbnQ7XG4gIGVsc2UgdmFyIHVuaW9uID0gPHJ1bnRpbWUuVW5pb24+cGFyZW50O1xuICBsZXQgc2V4cHIgPSBtYWNyb2V4cGFuZERTTChyYXcpO1xuICBsZXQgb3AgPSBzZXhwci5vcGVyYXRvcjtcbiAgaWYob3AudHlwZSAhPT0gVG9rZW4uVFlQRS5JREVOVElGSUVSKVxuICAgIHRocm93IG5ldyBQYXJzZUVycm9yKGBFdmFsdWF0ZWQgc2V4cHIgbXVzdCBiZWdpbiB3aXRoIGFuIGlkZW50aWZpZXIgKCcke29wfScgaXMgYSAke1Rva2VuLlRZUEVbb3AudHlwZV19KWAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuXG4gIGlmKG9wLnZhbHVlID09PSBcImxpc3RcIikge1xuICAgIGxldCB7JCRib2R5fSA9IHBhcnNlQXJndW1lbnRzKHNleHByLCB1bmRlZmluZWQsIFwiJCRib2R5XCIpO1xuICAgIHJldHVybiB7dHlwZTogVkFMVUUuU0NBTEFSLCB2YWx1ZTogKDxhbnk+JCRib2R5KS5tYXAoKHRva2VuLCBpeCkgPT4gcmVzb2x2ZVRva2VuVmFsdWUoYGxpc3QgaXRlbSAke2l4fWAsIHRva2VuLCBjb250ZXh0KSl9O1xuICB9XG4gIGlmKG9wLnZhbHVlID09PSBcImhhc2hcIikge1xuICAgIGxldCBhcmdzID0gcGFyc2VBcmd1bWVudHMoc2V4cHIpO1xuICAgIGZvcihsZXQgYXJnIGluIGFyZ3MpIGFyZ3NbYXJnXSA9IHJlc29sdmVUb2tlblZhbHVlKGBoYXNoIGl0ZW0gJHthcmd9YCwgYXJnc1thcmddLCBjb250ZXh0KTtcbiAgICByZXR1cm4ge3R5cGU6IFZBTFVFLlNFVCwgdmFsdWU6IGFyZ3N9O1xuICB9XG5cbiAgaWYob3AudmFsdWUgPT09IFwiaW5zZXJ0IVwiKSB7XG4gICAgICBsZXQgY2hhbmdlc2V0ID0gYXJ0aWZhY3RzLmNoYW5nZXNldCB8fCBldmUuZGlmZigpO1xuICAgICAgZm9yKGxldCBhcmcgb2Ygc2V4cHIuYXJndW1lbnRzKSB7XG4gICAgICAgICAgbGV0IHRhYmxlID0gYXJnLnZhbHVlWzBdO1xuICAgICAgICAgIGxldCBmYWN0ID0ge307XG4gICAgICAgICAgZm9yKGxldCBpeCA9IDE7IGl4IDwgYXJnLnZhbHVlLmxlbmd0aDsgaXggKz0gMikge1xuICAgICAgICAgICAgICBsZXQga2V5ID0gYXJnLnZhbHVlW2l4XTtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYXJnLnZhbHVlW2l4KzFdO1xuICAgICAgICAgICAgICBmYWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlc2V0LmFkZCh0YWJsZS52YWx1ZSwgZmFjdCk7XG4gICAgICB9XG4gICAgICBhcnRpZmFjdHMuY2hhbmdlc2V0ID0gY2hhbmdlc2V0O1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgaWYob3AudmFsdWUgPT09IFwicmVtb3ZlIVwiKSB7XG4gICAgICBsZXQgY2hhbmdlc2V0ID0gYXJ0aWZhY3RzLmNoYW5nZXNldCB8fCBldmUuZGlmZigpO1xuICAgICAgZm9yKGxldCBhcmcgb2Ygc2V4cHIuYXJndW1lbnRzKSB7XG4gICAgICAgICAgbGV0IHRhYmxlID0gYXJnLnZhbHVlWzBdO1xuICAgICAgICAgIGxldCBmYWN0ID0ge307XG4gICAgICAgICAgZm9yKGxldCBpeCA9IDE7IGl4IDwgYXJnLnZhbHVlLmxlbmd0aDsgaXggKz0gMikge1xuICAgICAgICAgICAgICBsZXQga2V5ID0gYXJnLnZhbHVlW2l4XTtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYXJnLnZhbHVlW2l4KzFdO1xuICAgICAgICAgICAgICBmYWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlc2V0LnJlbW92ZSh0YWJsZS52YWx1ZSwgZmFjdCk7XG4gICAgICB9XG4gICAgICBhcnRpZmFjdHMuY2hhbmdlc2V0ID0gY2hhbmdlc2V0O1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgaWYob3AudmFsdWUgPT09IFwibG9hZCFcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiKGxvYWQhIC4uKSBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQgeWV0XCIpO1xuICB9XG5cbiAgaWYob3AudmFsdWUgPT09IFwicXVlcnlcIikge1xuICAgIGxldCBuZXVlQ29udGV4dDpWYXJpYWJsZUNvbnRleHQgPSBbXTtcbiAgICBsZXQgeyQkdmlldywgJCRuZWdhdGVkLCAkJGJvZHl9ID0gcGFyc2VBcmd1bWVudHMoc2V4cHIsIHVuZGVmaW5lZCwgXCIkJGJvZHlcIik7XG4gICAgbGV0IHF1ZXJ5SWQgPSAkJHZpZXcgPyByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpIDogdXVpZCgpO1xuICAgIGxldCBuZXVlID0gbmV3IHJ1bnRpbWUuUXVlcnkoZXZlLCBxdWVyeUlkKTtcbiAgICBuZXVlW1wiZGlzcGxheU5hbWVcIl0gPSBzZXhwci50b1N0cmluZygpO1xuICAgIGlmKERFQlVHLmluc3RydW1lbnRRdWVyeSkgaW5zdHJ1bWVudFF1ZXJ5KG5ldWUsIERFQlVHLmluc3RydW1lbnRRdWVyeSk7XG4gICAgYXJ0aWZhY3RzLnZpZXdzW3F1ZXJ5SWRdID0gbmV1ZTtcbiAgICBsZXQgYWdncmVnYXRlZCA9IGZhbHNlO1xuICAgIGZvcihsZXQgcmF3IG9mIFNleHByLmFzU2V4cHJzKDxhbnk+JCRib2R5KSkge1xuICAgICAgbGV0IHN0YXRlID0gcGFyc2VEU0xTZXhwcihyYXcsIGFydGlmYWN0cywgbmV1ZUNvbnRleHQsIG5ldWUpO1xuICAgICAgaWYoc3RhdGUgJiYgc3RhdGUuYWdncmVnYXRlZCkgYWdncmVnYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbGV0IHByb2plY3Rpb25NYXAgPSBuZXVlLnByb2plY3Rpb25NYXA7XG4gICAgbGV0IHByb2plY3RlZCA9IHRydWU7XG4gICAgaWYoIXByb2plY3Rpb25NYXApIHtcbiAgICAgIHByb2plY3Rpb25NYXAgPSB7fTtcbiAgICAgIHByb2plY3RlZCA9IGZhbHNlO1xuICAgICAgZm9yKGxldCB2YXJpYWJsZSBvZiBuZXVlQ29udGV4dCkgcHJvamVjdGlvbk1hcFt2YXJpYWJsZS5uYW1lXSA9IHZhcmlhYmxlLnZhbHVlO1xuICAgIH1cbiAgICBpZihPYmplY3Qua2V5cyhwcm9qZWN0aW9uTWFwKS5sZW5ndGgpIG5ldWUucHJvamVjdChwcm9qZWN0aW9uTWFwKTtcblxuICAgIC8vIEpvaW4gc3VicXVlcnkgdG8gcGFyZW50LlxuICAgIGlmKHBhcmVudCkge1xuICAgICAgbGV0IHNlbGVjdCA9IG5ldyBTZXhwcihbVG9rZW4uaWRlbnRpZmllcihxdWVyeSA/IFwic2VsZWN0XCIgOiBcIm1lbWJlclwiKSwgVG9rZW4uc3RyaW5nKHF1ZXJ5SWQpXSwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgICBsZXQgZ3JvdXBzID0gW107XG5cbiAgICAgIGZvcihsZXQgdmFyaWFibGUgb2YgbmV1ZUNvbnRleHQpIHtcbiAgICAgICAgaWYocHJvamVjdGVkICYmICF2YXJpYWJsZS5wcm9qZWN0aW9uKSBjb250aW51ZTtcbiAgICAgICAgbGV0IGZpZWxkID0gdmFyaWFibGUucHJvamVjdGlvbiB8fCB2YXJpYWJsZS5uYW1lO1xuICAgICAgICBzZWxlY3QucHVzaChUb2tlbi5rZXl3b3JkKGZpZWxkKSk7XG4gICAgICAgIGlmKHF1ZXJ5KSBzZWxlY3QucHVzaChUb2tlbi5pZGVudGlmaWVyKHZhcmlhYmxlLm5hbWUpKTtcbiAgICAgICAgZWxzZSBzZWxlY3QucHVzaChTZXhwci5saXN0KFtUb2tlbi5zdHJpbmcoZmllbGQpXSkpO1xuXG4gICAgICAgIGlmKGNvbnRleHQpIHtcbiAgICAgICAgICBmb3IobGV0IHBhcmVudFZhciBvZiBjb250ZXh0KSB7XG4gICAgICAgICAgICBpZihwYXJlbnRWYXIubmFtZSA9PT0gdmFyaWFibGUubmFtZSkgZ3JvdXBzLnB1c2godmFyaWFibGUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZigkJG5lZ2F0ZWQpIHtcbiAgICAgICAgc2VsZWN0LnB1c2goVG9rZW4ua2V5d29yZChcIiQkbmVnYXRlZFwiKSk7XG4gICAgICAgIHNlbGVjdC5wdXNoKCQkbmVnYXRlZCk7XG4gICAgICB9XG4gICAgICBpZihncm91cHMubGVuZ3RoICYmIGFnZ3JlZ2F0ZWQpIG5ldWUuZ3JvdXAoZ3JvdXBzKTtcbiAgICAgIHBhcnNlRFNMU2V4cHIoc2VsZWN0LCBhcnRpZmFjdHMsIGNvbnRleHQsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt2YWx1ZTogcXVlcnlJZCwgdHlwZTogVkFMVUUuVklFVywgcHJvamVjdGVkLCBjb250ZXh0OiBuZXVlQ29udGV4dH07XG4gIH1cblxuICBpZihvcC52YWx1ZSA9PT0gXCJ1bmlvblwiKSB7XG4gICAgbGV0IHskJHZpZXcsICQkYm9keSwgJCRuZWdhdGVkfSA9IHBhcnNlQXJndW1lbnRzKHNleHByLCB1bmRlZmluZWQsIFwiJCRib2R5XCIpO1xuICAgIGxldCB1bmlvbklkID0gJCR2aWV3ID8gcmVzb2x2ZVRva2VuVmFsdWUoXCJ2aWV3XCIsICQkdmlldywgY29udGV4dCwgVkFMVUUuU0NBTEFSKSA6IHV1aWQoKTtcbiAgICBsZXQgbmV1ZSA9IG5ldyBydW50aW1lLlVuaW9uKGV2ZSwgdW5pb25JZCk7XG4gICAgaWYoREVCVUcuaW5zdHJ1bWVudFF1ZXJ5KSBpbnN0cnVtZW50UXVlcnkobmV1ZSwgREVCVUcuaW5zdHJ1bWVudFF1ZXJ5KTtcbiAgICBhcnRpZmFjdHMudmlld3NbdW5pb25JZF0gPSBuZXVlO1xuICAgIGxldCBtYXBwaW5ncyA9IHt9O1xuICAgIGZvcihsZXQgcmF3IG9mIFNleHByLmFzU2V4cHJzKDxhbnk+JCRib2R5KSkge1xuICAgICAgbGV0IGNoaWxkID0gbWFjcm9leHBhbmREU0wocmF3KTtcbiAgICAgIGlmKGNoaWxkLm9wZXJhdG9yLnZhbHVlICE9PSBcInF1ZXJ5XCIgJiYgY2hpbGQub3BlcmF0b3IudmFsdWUgIT09IFwidW5pb25cIilcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXCJVbmlvbnMgbWF5IG9ubHkgY29udGFpbiBxdWVyaWVzXCIsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgbGV0IHJlcyA9IHBhcnNlRFNMU2V4cHIoY2hpbGQsIGFydGlmYWN0cywgY29udGV4dCwgbmV1ZSk7XG4gICAgICBmb3IobGV0IHZhcmlhYmxlIG9mIHJlcy5jb250ZXh0KSB7XG4gICAgICAgIGlmKHJlcy5wcm9qZWN0ZWQgJiYgIXZhcmlhYmxlLnByb2plY3Rpb24pIGNvbnRpbnVlO1xuICAgICAgICBsZXQgZmllbGQgPSB2YXJpYWJsZS5wcm9qZWN0aW9uIHx8IHZhcmlhYmxlLm5hbWU7XG4gICAgICAgIGlmKCFtYXBwaW5nc1tmaWVsZF0pIG1hcHBpbmdzW2ZpZWxkXSA9IHt9O1xuICAgICAgICBtYXBwaW5nc1tmaWVsZF1bdmFyaWFibGUubmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEpvaW4gc3VidW5pb24gdG8gcGFyZW50XG4gICAgaWYocGFyZW50KSB7XG4gICAgICBsZXQgc2VsZWN0ID0gbmV3IFNleHByKFtUb2tlbi5pZGVudGlmaWVyKHF1ZXJ5ID8gXCJzZWxlY3RcIiA6IFwibWVtYmVyXCIpLCBUb2tlbi5zdHJpbmcodW5pb25JZCldLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICAgICBmb3IobGV0IGZpZWxkIGluIG1hcHBpbmdzKSB7XG4gICAgICAgICBsZXQgbWFwcGluZ1ZhcmlhYmxlcyA9IE9iamVjdC5rZXlzKG1hcHBpbmdzW2ZpZWxkXSk7XG4gICAgICAgICBpZihtYXBwaW5nVmFyaWFibGVzLmxlbmd0aCA+IDEpXG4gICAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXG4gICAgICAgICAgICBgQWxsIHZhcmlhYmxlcyBwcm9qZWN0ZWQgdG8gYSBzaW5nbGUgdW5pb24gZmllbGQgbXVzdCBoYXZlIHRoZSBzYW1lIG5hbWUuIEZpZWxkICcke2ZpZWxkfScgaGFzICR7bWFwcGluZ1ZhcmlhYmxlcy5sZW5ndGh9IGZpZWxkcyAoJHttYXBwaW5nVmFyaWFibGVzLmpvaW4oXCIsIFwiKX0pYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgICAgIHNlbGVjdC5wdXNoKFRva2VuLmtleXdvcmQoZmllbGQpKTtcbiAgICAgICAgc2VsZWN0LnB1c2goVG9rZW4uaWRlbnRpZmllcihtYXBwaW5nVmFyaWFibGVzWzBdKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwidW5pb24gc2VsZWN0XCIsIHNlbGVjdC50b1N0cmluZygpKTtcbiAgICAgIHBhcnNlRFNMU2V4cHIoc2VsZWN0LCBhcnRpZmFjdHMsIGNvbnRleHQsIHBhcmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt0eXBlOiBWQUxVRS5WSUVXLCB2YWx1ZTogdW5pb25JZCwgbWFwcGluZ3N9O1xuICB9XG5cbiAgaWYob3AudmFsdWUgPT09IFwibWVtYmVyXCIpIHtcbiAgICBpZighdW5pb24pIHRocm93IG5ldyBQYXJzZUVycm9yKGBDYW5ub3QgYWRkIG1lbWJlciB0byBub24tdW5pb24gcGFyZW50YCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgbGV0IGFyZ3MgPSBwYXJzZUFyZ3VtZW50cyhzZXhwciwgW1wiJCR2aWV3XCJdKTtcbiAgICBsZXQgeyQkdmlldywgJCRuZWdhdGVkfSA9IGFyZ3M7XG4gICAgbGV0IHZpZXcgPSByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKHZpZXcgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXCJNdXN0IHNwZWNpZnkgYSB2aWV3IHRvIGJlIHVuaW9uZWRcIiwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG5cbiAgICBsZXQgam9pbiA9IHt9O1xuICAgIGZvcihsZXQgYXJnIGluIGFyZ3MpIHtcbiAgICAgIGlmKGFyZyA9PT0gXCIkJHZpZXdcIiB8fCBhcmcgPT09IFwiJCRuZWdhdGVkXCIpIGNvbnRpbnVlO1xuICAgICAgam9pblthcmddID0gcmVzb2x2ZVRva2VuVmFsdWUoXCJtZW1iZXIgZmllbGRcIiwgYXJnc1thcmddLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYocnVudGltZS5RdWVyeUZ1bmN0aW9uc1t2aWV3XSkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYENhbm5vdCB1bmlvbiBwcmltaXRpdmUgdmlldyAnJHt2aWV3fSdgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICB1bmlvbi51bmlvbih2aWV3LCBqb2luKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZighcGFyZW50KSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgTm9uLXF1ZXJ5IG9yIHVuaW9uIHNleHBycyBtdXN0IGJlIGNvbnRhaW5lZCB3aXRoaW4gYSBxdWVyeSBvciB1bmlvbmAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuXG4gIGlmKG9wLnZhbHVlID09PSBcInNlbGVjdFwiKSB7XG4gICAgaWYoIXF1ZXJ5KSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgQ2Fubm90IGFkZCBzZWxlY3QgdG8gbm9uLXF1ZXJ5IHBhcmVudGAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgIGxldCBzZWxlY3RJZCA9IHV1aWQoKTtcbiAgICBsZXQgJCR2aWV3ID0gZ2V0QXJndW1lbnQoc2V4cHIsIFwiJCR2aWV3XCIsIFtcIiQkdmlld1wiXSk7XG4gICAgbGV0IHZpZXcgPSByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKHZpZXcgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXCJNdXN0IHNwZWNpZnkgYSB2aWV3IHRvIGJlIHNlbGVjdGVkXCIsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgIGxldCBwcmltaXRpdmUgPSBydW50aW1lLlF1ZXJ5RnVuY3Rpb25zW3ZpZXddXG4gICAgLy9AVE9ETzogTW92ZSB0aGlzIHRvIGFuIGV2ZSB0YWJsZSB0byBhbGxvdyB1c2VyIGRlZmluZWQgZGVmYXVsdHNcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByLCBbXCIkJHZpZXdcIl0uY29uY2F0KGdldERlZmF1bHRzKHZpZXcpKSk7XG4gICAgbGV0IHskJG5lZ2F0ZWR9ID0gYXJncztcblxuICAgIGxldCBqb2luID0ge307XG4gICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgbGV0IHZhbHVlID0gYXJnc1thcmddO1xuICAgICAgbGV0IHZhcmlhYmxlO1xuICAgICAgaWYoYXJnID09PSBcIiQkdmlld1wiIHx8IGFyZyA9PT0gXCIkJG5lZ2F0ZWRcIikgY29udGludWU7XG5cbiAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgVG9rZW4gJiYgdmFsdWUudHlwZSAhPT0gVG9rZW4uVFlQRS5JREVOVElGSUVSKSB7XG4gICAgICAgIGpvaW5bYXJnXSA9IGFyZ3NbYXJnXS52YWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmKHZhbHVlIGluc3RhbmNlb2YgU2V4cHIpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHBhcnNlRFNMU2V4cHIodmFsdWUsIGFydGlmYWN0cywgY29udGV4dCwgcGFyZW50LCBgJCR0ZW1wLSR7aHlnaWVuaWNTeW1ib2xDb3VudGVyKyt9LSR7YXJnfWApO1xuICAgICAgICBpZighcmVzdWx0IHx8IHJlc3VsdC50eXBlID09PSBWQUxVRS5OVUxMKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzZXQgcGFyYW1ldGVyICcke2FyZ30nIHRvIG51bGwgdmFsdWUgJyR7dmFsdWUudG9TdHJpbmcoKX0nYCk7XG4gICAgICAgIGlmKHJlc3VsdC50eXBlID09PSBWQUxVRS5WSUVXKSB7XG4gICAgICAgICAgbGV0IHZpZXcgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgbGV0IHJlc3VsdEZpZWxkID0gZ2V0UmVzdWx0KHZpZXcpO1xuICAgICAgICAgIGlmKCFyZXN1bHRGaWVsZCkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0IHBhcmFtZXRlciAnJHthcmd9JyB0byBzZWxlY3Qgd2l0aG91dCBkZWZhdWx0IHJlc3VsdCBmaWVsZGApO1xuICAgICAgICAgIGZvcihsZXQgY3VyVmFyIG9mIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGZvcihsZXQgY29uc3RyYWludCBvZiBjdXJWYXIuY29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgaWYoY29uc3RyYWludFswXSA9PT0gdmlldyAmJiBjb25zdHJhaW50WzFdID09PSByZXN1bHRGaWVsZCkge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gY3VyVmFyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgdmFyaWFibGUgPSBnZXREU0xWYXJpYWJsZSh2YWx1ZS52YWx1ZSwgY29udGV4dCk7XG5cbiAgICAgIGlmKHZhcmlhYmxlKSB7XG4gICAgICAgIGpvaW5bYXJnXSA9IHZhcmlhYmxlLnZhbHVlO1xuICAgICAgICB2YXJpYWJsZS5jb25zdHJhaW50cy5wdXNoKFt2aWV3LCBhcmddKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoJCRuZWdhdGVkICYmICQkbmVnYXRlZC52YWx1ZSlcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYENhbm5vdCBiaW5kIGZpZWxkIGluIG5lZ2F0ZWQgc2VsZWN0IHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt2YWx1ZS52YWx1ZX0nYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgICBlbHNlIGNvbnRleHQucHVzaCh7bmFtZTogdmFsdWUudmFsdWUsIHR5cGU6IFZBTFVFLlNDQUxBUiwgdmFsdWU6IFtzZWxlY3RJZCwgYXJnXSwgY29uc3RyYWludHM6IFtbdmlldywgYXJnXV19KTsgLy8gQFRPRE86IGRvZXMgdGhpcyBub3QgbmVlZCB0byBhZGQgdG8gdGhlIGpvaW4gbWFwP1xuICAgIH1cblxuICAgIGxldCByZXN1bHRGaWVsZCA9IGdldFJlc3VsdCh2aWV3KTtcbiAgICBpZihyZXN1bHRWYXJpYWJsZSAmJiByZXN1bHRGaWVsZCAmJiAham9pbltyZXN1bHRGaWVsZF0pIHtcbiAgICAgIGpvaW5bcmVzdWx0RmllbGRdID0gW3NlbGVjdElkLCByZXN1bHRGaWVsZF07XG4gICAgICBjb250ZXh0LnB1c2goe25hbWU6IHJlc3VsdFZhcmlhYmxlLCB0eXBlOiBWQUxVRS5TQ0FMQVIsIHZhbHVlOiBbc2VsZWN0SWQsIHJlc3VsdEZpZWxkXSwgY29uc3RyYWludHM6IFtbdmlldywgcmVzdWx0RmllbGRdXX0pO1xuICAgIH1cblxuICAgIGlmKHByaW1pdGl2ZSkge1xuICAgICAgaWYoJCRuZWdhdGVkKSB7XG4gICAgICAgIGlmKHByaW1pdGl2ZS5pbnZlcnNlKSB2aWV3ID0gcHJpbWl0aXZlLmludmVyc2U7XG4gICAgICAgIGVsc2UgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYENhbm5vdCBpbnZlcnQgcHJpbWl0aXZlIGNhbGN1bGF0aW9uICcke3ZpZXd9J2AsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgfVxuICAgICAgaWYocHJpbWl0aXZlLmFnZ3JlZ2F0ZSkgcXVlcnkuYWdncmVnYXRlKHZpZXcsIGpvaW4sIHNlbGVjdElkKTtcbiAgICAgIGVsc2UgcXVlcnkuY2FsY3VsYXRlKHZpZXcsIGpvaW4sIHNlbGVjdElkKTtcbiAgICB9IGVsc2UgaWYoJCRuZWdhdGVkKSBxdWVyeS5kZXNlbGVjdCh2aWV3LCBqb2luKTtcbiAgICBlbHNlIHF1ZXJ5LnNlbGVjdCh2aWV3LCBqb2luLCBzZWxlY3RJZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFZBTFVFLlZJRVcsXG4gICAgICB2YWx1ZTogdmlldyxcbiAgICAgIGFnZ3JlZ2F0ZWQ6IHByaW1pdGl2ZSAmJiBwcmltaXRpdmUuYWdncmVnYXRlXG4gICAgfTtcbiAgfVxuXG4gIGlmKG9wLnZhbHVlID09PSBcInByb2plY3QhXCIpIHtcbiAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKHNleHByLCBbXCIkJHZpZXdcIl0pO1xuICAgIGxldCB7JCR2aWV3LCAkJG5lZ2F0ZWR9ID0gYXJncztcblxuICAgIGxldCBwcm9qZWN0aW9uTWFwID0ge307XG4gICAgZm9yKGxldCBhcmcgaW4gYXJncykge1xuICAgICAgbGV0IHZhbHVlID0gYXJnc1thcmddO1xuICAgICAgaWYoYXJnID09PSBcIiQkdmlld1wiIHx8IGFyZyA9PT0gXCIkJG5lZ2F0ZWRcIikgY29udGludWU7XG4gICAgICBpZih2YWx1ZS50eXBlICE9PSBUb2tlbi5UWVBFLklERU5USUZJRVIpIHtcbiAgICAgICAgcHJvamVjdGlvbk1hcFthcmddID0gYXJnc1thcmddLnZhbHVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHZhcmlhYmxlID0gZ2V0RFNMVmFyaWFibGUodmFsdWUudmFsdWUsIGNvbnRleHQpO1xuICAgICAgaWYodmFyaWFibGUpIHtcbiAgICAgICAgaWYodmFyaWFibGUuc3RhdGljKSBwcm9qZWN0aW9uTWFwW2FyZ10gPSB2YXJpYWJsZS52YWx1ZTtcbiAgICAgICAgZWxzZSBpZighJCR2aWV3KSB7XG4gICAgICAgICAgdmFyaWFibGUucHJvamVjdGlvbiA9IGFyZztcbiAgICAgICAgICBwcm9qZWN0aW9uTWFwW2FyZ10gPSB2YXJpYWJsZS52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHByb2plY3Rpb25NYXBbYXJnXSA9IFt2YXJpYWJsZS5uYW1lXTtcbiAgICAgIH0gZWxzZSB0aHJvdyBuZXcgUGFyc2VFcnJvcihgQ2Fubm90IGJpbmQgcHJvamVjdGVkIGZpZWxkIHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt2YWx1ZS52YWx1ZX0nYCwgXCJcIiwgcmF3LmxpbmVJeCwgcmF3LmNoYXJJeCk7XG4gICAgfVxuXG4gICAgbGV0IHZpZXcgPSByZXNvbHZlVG9rZW5WYWx1ZShcInZpZXdcIiwgJCR2aWV3LCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKHZpZXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYocXVlcnkucHJvamVjdGlvbk1hcCkgdGhyb3cgbmV3IFBhcnNlRXJyb3IoXCJRdWVyeSBjYW4gb25seSBzZWxmLXByb2plY3Qgb25jZVwiLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbiAgICAgIGlmKCQkbmVnYXRlZCAmJiAkJG5lZ2F0ZWQudmFsdWUpIHRocm93IG5ldyBQYXJzZUVycm9yKGBDYW5ub3QgbmVnYXRlIHNlbGYtcHJvamVjdGlvbmAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgLy8gUHJvamVjdCBzZWxmXG4gICAgICBxdWVyeS5wcm9qZWN0KHByb2plY3Rpb25NYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdW5pb24gPSA8cnVudGltZS5Vbmlvbj5hcnRpZmFjdHMudmlld3Nbdmlld10gfHwgbmV3IHJ1bnRpbWUuVW5pb24oZXZlLCB2aWV3KTtcbiAgICAgIGlmKERFQlVHLmluc3RydW1lbnRRdWVyeSAmJiAhYXJ0aWZhY3RzLnZpZXdzW3ZpZXddKSBpbnN0cnVtZW50UXVlcnkodW5pb24sIERFQlVHLmluc3RydW1lbnRRdWVyeSk7XG4gICAgICBhcnRpZmFjdHMudmlld3Nbdmlld10gPSB1bmlvbjtcblxuICAgICAgLy8gaWYoJCRuZWdhdGVkICYmICQkbmVnYXRlZC52YWx1ZSkgdW5pb24udW51bmlvbihxdWVyeUlkLCBwcm9qZWN0aW9uTWFwKTtcbiAgICAgIGlmKCQkbmVnYXRlZCAmJiAkJG5lZ2F0ZWQudmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBQYXJzZUVycm9yKGBVbmlvbiBwcm9qZWN0aW9ucyBtYXkgbm90IGJlIG5lZ2F0ZWQgaW4gdGhlIGN1cnJlbnQgcnVudGltZWAsIFwiXCIsIHJhdy5saW5lSXgsIHJhdy5jaGFySXgpO1xuICAgICAgZWxzZSB1bmlvbi51bmlvbihxdWVyeS5uYW1lLCBwcm9qZWN0aW9uTWFwKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoYFVua25vd24gRFNMIG9wZXJhdG9yICcke29wLnZhbHVlfSdgLCBcIlwiLCByYXcubGluZUl4LCByYXcuY2hhckl4KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVRva2VuVmFsdWUobmFtZTpzdHJpbmcsIHRva2VuOlRva2VufFNleHByLCBjb250ZXh0OlZhcmlhYmxlQ29udGV4dCwgdHlwZT86VkFMVUUpIHtcbiAgaWYoIXRva2VuKSByZXR1cm47XG4gIGlmKHRva2VuIGluc3RhbmNlb2YgU2V4cHIpIHJldHVybiBwYXJzZURTTFNleHByKHRva2VuLCB1bmRlZmluZWQsIGNvbnRleHQpO1xuICBpZih0b2tlbiBpbnN0YW5jZW9mIFRva2VuICYmIHRva2VuLnR5cGUgPT09IFRva2VuLlRZUEUuSURFTlRJRklFUikge1xuICAgIGxldCB2YXJpYWJsZSA9IGdldERTTFZhcmlhYmxlKHRva2VuLnZhbHVlLCBjb250ZXh0LCBWQUxVRS5TQ0FMQVIpO1xuICAgIGlmKCF2YXJpYWJsZSkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYmluZCAke25hbWV9IHRvIHVuZGVmaW5lZCB2YXJpYWJsZSAnJHt0b2tlbi52YWx1ZX0nYCk7XG4gICAgaWYoIXZhcmlhYmxlLnN0YXRpYykgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYmluZCAke25hbWV9IHRvIGR5bmFtaWMgdmFyaWFibGUgJyR7dG9rZW4udmFsdWV9J2ApO1xuICAgIHJldHVybiB2YXJpYWJsZS52YWx1ZTtcbiAgfVxuICByZXR1cm4gdG9rZW4udmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldERTTFZhcmlhYmxlKG5hbWU6c3RyaW5nLCBjb250ZXh0OlZhcmlhYmxlQ29udGV4dCwgdHlwZT86VkFMVUUpOlZhcmlhYmxlIHtcbiAgaWYoIWNvbnRleHQpIHJldHVybjtcbiAgZm9yKGxldCB2YXJpYWJsZSBvZiBjb250ZXh0KSB7XG4gICAgaWYodmFyaWFibGUubmFtZSA9PT0gbmFtZSkge1xuICAgICAgaWYodmFyaWFibGUuc3RhdGljID09PSBmYWxzZSkgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc3RhdGljYWxseSBsb29rIHVwIGR5bmFtaWMgdmFyaWFibGUgJyR7bmFtZX0nYCk7XG4gICAgICBpZih0eXBlICE9PSB1bmRlZmluZWQgJiYgdmFyaWFibGUudHlwZSAhPT0gdHlwZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB2YXJpYWJsZSAnJHtuYW1lfScgdG8gaGF2ZSB0eXBlICcke3R5cGV9JywgYnV0IGluc3RlYWQgaGFzIHR5cGUgJyR7dmFyaWFibGUudHlwZX0nYCk7XG4gICAgICByZXR1cm4gdmFyaWFibGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKHZpZXc6c3RyaW5nKTpzdHJpbmdbXSB7XG4gIHJldHVybiAocnVudGltZS5RdWVyeUZ1bmN0aW9uc1t2aWV3XSAmJiBydW50aW1lLlF1ZXJ5RnVuY3Rpb25zW3ZpZXddLnBhcmFtcykgfHwgW107XG59XG5mdW5jdGlvbiBnZXRSZXN1bHQodmlldzpzdHJpbmcpOnN0cmluZyB7XG4gIHJldHVybiBydW50aW1lLlF1ZXJ5RnVuY3Rpb25zW3ZpZXddICYmIHJ1bnRpbWUuUXVlcnlGdW5jdGlvbnNbdmlld10ucmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJndW1lbnQocm9vdDpTZXhwciwgcGFyYW06c3RyaW5nLCBkZWZhdWx0cz86IHN0cmluZ1tdKTpUb2tlbnxTZXhwciB7XG4gIGxldCBpeCA9IDE7XG4gIGxldCBkZWZhdWx0SXggPSAwO1xuICBmb3IobGV0IGl4ID0gMSwgY3VyID0gcm9vdC5udGgoaXgpOyBpeCA8IHJvb3QubGVuZ3RoOyBpeCsrKSB7XG4gICAgaWYoY3VyLnR5cGUgPT09IFRva2VuLlRZUEUuS0VZV09SRCkge1xuICAgICAgaWYoY3VyLnZhbHVlID09PSBwYXJhbSkgcmV0dXJuIHJvb3QubnRoKGl4ICsgMSk7XG4gICAgICBlbHNlIGl4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoZGVmYXVsdHMgJiYgZGVmYXVsdEl4IDwgZGVmYXVsdHMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBrZXl3b3JkID0gZGVmYXVsdHNbZGVmYXVsdEl4KytdO1xuICAgICAgICBpZihrZXl3b3JkID09PSBwYXJhbSkgcmV0dXJuIGN1cjtcbiAgICAgICAgZWxzZSBpeCArIDE7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtICcke3BhcmFtfScgbm90IGluIHNleHByICR7cm9vdC50b1N0cmluZygpfWApO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtICcke3BhcmFtfScgbm90IGluIHNleHByICR7cm9vdC50b1N0cmluZygpfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMocm9vdDpTZXhwciwgZGVmYXVsdHM/OnN0cmluZ1tdLCByZXN0PzpzdHJpbmcpOntba2V5d29yZDpzdHJpbmddOiBUb2tlbnxTZXhwcn0ge1xuICBsZXQgYXJnczphbnkgPSB7fTtcbiAgbGV0IGRlZmF1bHRJeCA9IDA7XG4gIGxldCBrZXl3b3JkO1xuICBsZXQga3dhcmcgPSBmYWxzZTtcbiAgZm9yKGxldCByYXcgb2Ygcm9vdC5hcmd1bWVudHMpIHtcbiAgICBpZihyYXcudHlwZSA9PT0gVG9rZW4uVFlQRS5LRVlXT1JEKSB7XG4gICAgICBpZihrZXl3b3JkKSB0aHJvdyBuZXcgRXJyb3IoYEtleXdvcmRzIG1heSBub3QgYmUgdmFsdWVzICcke3Jhd30nYCk7XG4gICAgICBlbHNlIGtleXdvcmQgPSByYXcudmFsdWU7XG4gICAgfSBlbHNlIGlmKGtleXdvcmQpIHtcbiAgICAgIGlmKGFyZ3Nba2V5d29yZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcmdzW2tleXdvcmRdID0gcmF3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYoIShhcmdzW2tleXdvcmRdIGluc3RhbmNlb2YgQXJyYXkpKSBhcmdzW2tleXdvcmRdID0gW2FyZ3Nba2V5d29yZF1dO1xuICAgICAgICBhcmdzW2tleXdvcmRdLnB1c2gocmF3KTtcbiAgICAgIH1cbiAgICAgIGtleXdvcmQgPSB1bmRlZmluZWQ7XG4gICAgICBkZWZhdWx0SXggPSBkZWZhdWx0cyA/IGRlZmF1bHRzLmxlbmd0aCA6IDA7XG4gICAgICBrd2FyZyA9IHRydWU7XG4gICAgfSBlbHNlIGlmKGRlZmF1bHRzICYmIGRlZmF1bHRJeCA8IGRlZmF1bHRzLmxlbmd0aCkge1xuICAgICAgYXJnc1tkZWZhdWx0c1tkZWZhdWx0SXgrK11dID0gcmF3O1xuICAgIH0gZWxzZSBpZihyZXN0KSB7XG4gICAgICBhcmdzW3Jlc3RdID0gYXJnc1tyZXN0XSB8fCBbXTtcbiAgICAgIGFyZ3NbcmVzdF0ucHVzaChyYXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihrd2FyZykgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYW4gYXJnIGFmdGVyIGEga3dhcmdcIik7XG4gICAgICBlbHNlIGlmKGRlZmF1bHRJeCkgdGhyb3cgbmV3IEVycm9yKGBUb28gbWFueSBhcmdzLCBleHBlY3RlZDogJHtkZWZhdWx0cy5sZW5ndGh9LCBnb3Q6ICR7ZGVmYXVsdEl4ICsgMX1gKTtcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYW4gYXJnIHdpdGhvdXQgZGVmYXVsdCBrZXlzIHNwZWNpZmllZFwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJncztcbn1cblxuZGVjbGFyZSB2YXIgZXhwb3J0cztcbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHdpbmRvd1tcInBhcnNlclwiXSA9IGV4cG9ydHM7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50UXVlcnkocTphbnksIGluc3RydW1lbnQ/OkZ1bmN0aW9ufGJvb2xlYW4pIHtcbiAgbGV0IGluc3RydW1lbnRhdGlvbjpGdW5jdGlvbiA9IDxGdW5jdGlvbj5pbnN0cnVtZW50O1xuICBpZighaW5zdHJ1bWVudCB8fCBpbnN0cnVtZW50ID09PSB0cnVlKSBpbnN0cnVtZW50YXRpb24gPSAoZm4sIGFyZ3MpID0+IGNvbnNvbGUubG9nKFwiKlwiLCBmbiwgXCI6XCIsIGFyZ3MpO1xuICBsZXQga2V5cyA9IFtdO1xuICBmb3IobGV0IGtleSBpbiBxKSBrZXlzLnB1c2goa2V5KTtcbiAga2V5cy5mb3JFYWNoKChmbikgPT4ge1xuICAgIGlmKCFxLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShmbikgfHwgdHlwZW9mIHFbZm5dICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybjtcbiAgICB2YXIgb2xkID0gcVtmbl07XG4gICAgcVtmbl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIGluc3RydW1lbnRhdGlvbihmbiwgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBvbGQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzRGlmZihpeGVyLCBhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGxldCB2aWV3cyA9IGFydGlmYWN0cy52aWV3cztcbiAgbGV0IGRpZmYgPSBpeGVyLmRpZmYoKTtcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgZGlmZi5tZXJnZSh2aWV3c1tpZF0uY2hhbmdlc2V0KGV2ZSkpO1xuICByZXR1cm4gZGlmZjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QXNEaWZmcyhhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGxldCB2aWV3cyA9IGFydGlmYWN0cy52aWV3cztcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgZXZlLmFwcGx5RGlmZih2aWV3c1tpZF0uY2hhbmdlc2V0KGV2ZSkpO1xuICBjb25zb2xlLmxvZyhcIkFwcGxpZWQgZGlmZnMgZm9yOlwiKTtcbiAgZm9yKGxldCBpZCBpbiB2aWV3cykgY29uc29sZS5sb2coXCIgICogXCIsIHZpZXdzW2lkXSBpbnN0YW5jZW9mIHJ1bnRpbWUuUXVlcnkgPyBcIlF1ZXJ5XCIgOiBcIlVuaW9uXCIsIHZpZXdzW2lkXS5uYW1lKTtcbiAgcmV0dXJuIGFydGlmYWN0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0FydGlmYWN0cyhhcnRpZmFjdHM6QXJ0aWZhY3RzKSB7XG4gIGZvcihsZXQgdmlldyBpbiBhcnRpZmFjdHMudmlld3MpIGNvbnNvbGUubG9nKHZpZXcsIFwiXFxuXCIsIGV2ZS5maW5kKHZpZXcpKTtcbn1cbiIsImltcG9ydCB7RU5WLCB1dWlkfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUnVudGltZVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmRlY2xhcmUgdmFyIGV4cG9ydHM7XG5sZXQgcnVudGltZSA9IGV4cG9ydHM7XG5cbmV4cG9ydCB2YXIgTUFYX05VTUJFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5leHBvcnQgdmFyIElOQ1JFTUVOVEFMID0gZmFsc2U7XG5cbmZ1bmN0aW9uIG9iamVjdHNJZGVudGljYWwoYTp7W2tleTpzdHJpbmddOiBhbnl9LCBiOntba2V5OnN0cmluZ106IGFueX0pOmJvb2xlYW4ge1xuICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgZm9yKHZhciBrZXkgb2YgYUtleXMpIHtcbiAgICAvL1RPRE86IGhhbmRsZSBub24tc2NhbGFyIHZhbHVlc1xuICAgIGlmKGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGluZGV4T2ZGYWN0KGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgbGV0IGl4ID0gMDtcbiAgZm9yKGxldCBmYWN0IG9mIGhheXN0YWNrKSB7XG4gICAgaWYoZmFjdC5fX2lkID09PSBuZWVkbGUuX19pZCkge1xuICAgICAgcmV0dXJuIGl4O1xuICAgIH1cbiAgICBpeCsrO1xuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZhY3QoaGF5c3RhY2ssIG5lZWRsZSkge1xuICBsZXQgaXggPSBpbmRleE9mRmFjdChoYXlzdGFjaywgbmVlZGxlKTtcbiAgaWYoaXggPiAtMSkgaGF5c3RhY2suc3BsaWNlKGl4LCAxKTtcbiAgcmV0dXJuIGhheXN0YWNrO1xufVxuXG5mdW5jdGlvbiBkaWZmQWRkc0FuZFJlbW92ZXMoYWRkcywgcmVtb3Zlcykge1xuICBsZXQgbG9jYWxIYXNoID0ge307XG4gIGxldCBoYXNoVG9GYWN0ID0ge307XG4gIGxldCBoYXNoZXMgPSBbXTtcbiAgZm9yKGxldCBhZGQgb2YgYWRkcykge1xuICAgIGxldCBoYXNoID0gYWRkLl9faWQ7XG4gICAgaWYobG9jYWxIYXNoW2hhc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvY2FsSGFzaFtoYXNoXSA9IDE7XG4gICAgICBoYXNoVG9GYWN0W2hhc2hdID0gYWRkO1xuICAgICAgaGFzaGVzLnB1c2goaGFzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsSGFzaFtoYXNoXSsrO1xuICAgIH1cbiAgICBhZGQuX19pZCA9IGhhc2g7XG4gIH1cbiAgZm9yKGxldCByZW1vdmUgb2YgcmVtb3Zlcykge1xuICAgIGxldCBoYXNoID0gcmVtb3ZlLl9faWQ7XG4gICAgaWYobG9jYWxIYXNoW2hhc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvY2FsSGFzaFtoYXNoXSA9IC0xO1xuICAgICAgaGFzaFRvRmFjdFtoYXNoXSA9IHJlbW92ZTtcbiAgICAgIGhhc2hlcy5wdXNoKGhhc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbEhhc2hbaGFzaF0tLTtcbiAgICB9XG4gICAgcmVtb3ZlLl9faWQgPSBoYXNoO1xuICB9XG4gIGxldCByZWFsQWRkcyA9IFtdO1xuICBsZXQgcmVhbFJlbW92ZXMgPSBbXTtcbiAgZm9yKGxldCBoYXNoIG9mIGhhc2hlcykge1xuICAgIGxldCBjb3VudCA9IGxvY2FsSGFzaFtoYXNoXTtcbiAgICBpZihjb3VudCA+IDApIHtcbiAgICAgIGxldCBmYWN0ID0gaGFzaFRvRmFjdFtoYXNoXTtcbiAgICAgIHJlYWxBZGRzLnB1c2goZmFjdCk7XG4gICAgfSBlbHNlIGlmKGNvdW50IDwgMCkge1xuICAgICAgbGV0IGZhY3QgPSBoYXNoVG9GYWN0W2hhc2hdO1xuICAgICAgcmVhbFJlbW92ZXMucHVzaChmYWN0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHthZGRzOnJlYWxBZGRzLCByZW1vdmVzOnJlYWxSZW1vdmVzfTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcXVhbGl0eUZuKGtleXMpIHtcbiAgcmV0dXJuIG5ldyBGdW5jdGlvbihcImFcIiwgXCJiXCIsICBgcmV0dXJuICR7a2V5cy5tYXAoZnVuY3Rpb24oa2V5LCBpeCkge1xuICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIHJldHVybiBgYVsnJHtrZXlbMF19J11bJyR7a2V5WzFdfSddID09PSBiWycke2tleVswXX0nXVsnJHtrZXlbMV19J11gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYGFbXCIke2tleX1cIl0gPT09IGJbXCIke2tleX1cIl1gO1xuICAgIH1cbiAgfSkuam9pbihcIiAmJiBcIil9O2ApXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU3RyaW5nRm4oa2V5cykge1xuICBsZXQga2V5U3RyaW5ncyA9IFtdO1xuICBmb3IobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYoa2V5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAga2V5U3RyaW5ncy5wdXNoKGBhWycke2tleVswXX0nXVsnJHtrZXlbMV19J11gKTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5U3RyaW5ncy5wdXNoKGBhWycke2tleX0nXWApO1xuICAgIH1cbiAgfVxuICBsZXQgZmluYWwgPSBrZXlTdHJpbmdzLmpvaW4oJyArIFwifFwiICsgJyk7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXCJhXCIsICBgcmV0dXJuICR7ZmluYWx9O2ApO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVVucHJvamVjdGVkU29ydGVyQ29kZSh1bnByb2plY3RlZFNpemUsIHNvcnRzKSB7XG4gIGxldCBjb25kaXRpb25zID0gW107XG4gIGxldCBwYXRoID0gW107XG4gIGxldCBkaXN0YW5jZSA9IHVucHJvamVjdGVkU2l6ZTtcbiAgZm9yKGxldCBzb3J0IG9mIHNvcnRzKSB7XG4gICAgbGV0IGNvbmRpdGlvbiA9IFwiXCI7XG4gICAgZm9yKGxldCBwcmV2IG9mIHBhdGgpIHtcbiAgICAgIGxldCBbdGFibGUsIGtleV0gPSBwcmV2O1xuICAgICAgY29uZGl0aW9uICs9IGB1bnByb2plY3RlZFtqLSR7ZGlzdGFuY2UgLSB0YWJsZX1dWycke2tleX0nXSA9PT0gaXRlbSR7dGFibGV9Wycke2tleX0nXSAmJiBgO1xuICAgIH1cbiAgICBsZXQgW3RhYmxlLCBrZXksIGRpcl0gPSBzb3J0O1xuICAgIGxldCBvcCA9IFwiPlwiO1xuICAgIGlmKGRpciA9PT0gXCJkZXNjZW5kaW5nXCIpIHtcbiAgICAgIG9wID0gXCI8XCI7XG4gICAgfVxuICAgIGNvbmRpdGlvbiArPSBgdW5wcm9qZWN0ZWRbai0ke2Rpc3RhbmNlIC0gdGFibGV9XVsnJHtrZXl9J10gJHtvcH0gaXRlbSR7dGFibGV9Wycke2tleX0nXWA7XG4gICAgY29uZGl0aW9ucy5wdXNoKGNvbmRpdGlvbik7XG4gICAgcGF0aC5wdXNoKHNvcnQpO1xuICB9XG4gIGxldCBpdGVtcyA9IFtdO1xuICBsZXQgcmVwb3NpdGlvbmVkID0gW107XG4gIGxldCBpdGVtQXNzaWdubWVudHMgPSBbXTtcbiAgZm9yKGxldCBpeCA9IDA7IGl4IDwgZGlzdGFuY2U7IGl4KyspIHtcbiAgICBpdGVtcy5wdXNoKGBpdGVtJHtpeH0gPSB1bnByb2plY3RlZFtqKyR7aXh9XWApO1xuICAgIHJlcG9zaXRpb25lZC5wdXNoKGB1bnByb2plY3RlZFtqKyR7aXh9XSA9IHVucHJvamVjdGVkW2ogLSAke2Rpc3RhbmNlIC0gaXh9XWApO1xuICAgIGl0ZW1Bc3NpZ25tZW50cy5wdXNoKChgdW5wcm9qZWN0ZWRbaiske2l4fV0gPSBpdGVtJHtpeH1gKSk7XG4gIH1cbiAgcmV0dXJuIGBmb3IgKHZhciBpID0gMCwgbGVuID0gdW5wcm9qZWN0ZWQubGVuZ3RoOyBpIDwgbGVuOyBpICs9ICR7ZGlzdGFuY2V9KSB7XG4gICAgICB2YXIgaiA9IGksICR7aXRlbXMuam9pbihcIiwgXCIpfTtcbiAgICAgIGZvcig7IGogPiAke2Rpc3RhbmNlIC0gMX0gJiYgKCR7Y29uZGl0aW9ucy5qb2luKFwiIHx8IFwiKX0pOyBqIC09ICR7ZGlzdGFuY2V9KSB7XG4gICAgICAgICR7cmVwb3NpdGlvbmVkLmpvaW4oXCI7XFxuXCIpfVxuICAgICAgfVxuICAgICAgJHtpdGVtQXNzaWdubWVudHMuam9pbihcIjtcXG5cIil9XG4gIH1gO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbGxlY3RvcihrZXlzKSB7XG4gIGxldCBjb2RlID0gYHZhciBydW50aW1lID0gdGhpcztcXG5gO1xuICBsZXQgaXggPSAwO1xuICBsZXQgY2hlY2tzID0gXCJcIjtcbiAgbGV0IHJlbW92ZXMgPSBcInZhciBjdXIgPSBpbmRleFwiO1xuICBmb3IobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYoa2V5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgcmVtb3ZlcyArPSBgW3JlbW92ZVsnJHtrZXlbMF19J11bJyR7a2V5WzFdfSddXWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZXMgKz0gYFtyZW1vdmVbJyR7a2V5fSddXWA7XG4gICAgfVxuICB9XG4gIHJlbW92ZXMgKz0gXCI7XFxucnVudGltZS5yZW1vdmVGYWN0KGN1ciwgcmVtb3ZlKTtcIjtcbiAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgIGl4Kys7XG4gICAgaWYoa2V5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgY2hlY2tzICs9IGB2YWx1ZSA9IGFkZFsnJHtrZXlbMF19J11bJyR7a2V5WzFdfSddXFxuYDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tzICs9IGB2YWx1ZSA9IGFkZFsnJHtrZXl9J11cXG5gO1xuICAgIH1cbiAgICBsZXQgcGF0aCA9IGBjdXJzb3JbdmFsdWVdYDtcbiAgICBjaGVja3MgKz0gYGlmKCEke3BhdGh9KSAke3BhdGh9ID0gYDtcbiAgICBpZihpeCA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgIGNoZWNrcyArPSBcIltdXFxuXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoZWNrcyArPSBcInt9XFxuXCI7XG4gICAgfVxuICAgIGNoZWNrcyArPSBgY3Vyc29yID0gJHtwYXRofVxcbmA7XG4gIH1cbiAgY29kZSArPSBgXG5mb3IodmFyIGl4ID0gMCwgbGVuID0gcmVtb3Zlcy5sZW5ndGg7IGl4IDwgbGVuOyBpeCsrKSB7XG52YXIgcmVtb3ZlID0gcmVtb3Zlc1tpeF07XG4ke3JlbW92ZXN9XG59XG5mb3IodmFyIGl4ID0gMCwgbGVuID0gYWRkcy5sZW5ndGg7IGl4IDwgbGVuOyBpeCsrKSB7XG52YXIgYWRkID0gYWRkc1tpeF07XG52YXIgY3Vyc29yID0gaW5kZXg7XG52YXIgdmFsdWU7XG4ke2NoZWNrc30gIGN1cnNvci5wdXNoKGFkZCk7XG59XG5yZXR1cm4gaW5kZXg7YFxuICByZXR1cm4gKG5ldyBGdW5jdGlvbihcImluZGV4XCIsIFwiYWRkc1wiLCBcInJlbW92ZXNcIiwgY29kZSkpLmJpbmQocnVudGltZSk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29sbGVjdG9yMihrZXlzKSB7XG4gIGxldCBoYXNoUGFydHMgPSBbXTtcbiAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgIGlmKGtleS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgIGhhc2hQYXJ0cy5wdXNoKGBhZGRbJyR7a2V5WzBdfSddWycke2tleVsxXX0nXWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYXNoUGFydHMucHVzaChgYWRkWycke2tleX0nXWApO1xuICAgIH1cbiAgfVxuICBsZXQgY29kZSA9IGBcbiAgICB2YXIgaXhDYWNoZSA9IGNhY2hlLml4O1xuICAgIHZhciBpZENhY2hlID0gY2FjaGUuaWQ7XG4gICAgZm9yKHZhciBpeCA9IDAsIGxlbiA9IHJlbW92ZXMubGVuZ3RoOyBpeCA8IGxlbjsgaXgrKykge1xuICAgICAgdmFyIHJlbW92ZSA9IHJlbW92ZXNbaXhdO1xuICAgICAgdmFyIGlkID0gcmVtb3ZlLl9faWQ7XG4gICAgICB2YXIga2V5ID0gaWRDYWNoZVtpZF07XG4gICAgICB2YXIgZmFjdEl4ID0gaXhDYWNoZVtpZF07XG4gICAgICB2YXIgZmFjdHMgPSBpbmRleFtrZXldO1xuICAgICAgLy9zd2FwIHRoZSBsYXN0IGZhY3Qgd2l0aCB0aGlzIG9uZSB0byBwcmV2ZW50IGhvbGVzXG4gICAgICB2YXIgbGFzdEZhY3QgPSBmYWN0cy5wb3AoKTtcbiAgICAgIGlmKGxhc3RGYWN0ICYmIGxhc3RGYWN0Ll9faWQgIT09IHJlbW92ZS5fX2lkKSB7XG4gICAgICAgIGZhY3RzW2ZhY3RJeF0gPSBsYXN0RmFjdDtcbiAgICAgICAgaXhDYWNoZVtsYXN0RmFjdC5fX2lkXSA9IGZhY3RJeDtcbiAgICAgIH0gZWxzZSBpZihmYWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGluZGV4W2tleV07XG4gICAgICB9XG4gICAgICBkZWxldGUgaWRDYWNoZVtpZF07XG4gICAgICBkZWxldGUgaXhDYWNoZVtpZF07XG4gICAgfVxuICAgIGZvcih2YXIgaXggPSAwLCBsZW4gPSBhZGRzLmxlbmd0aDsgaXggPCBsZW47IGl4KyspIHtcbiAgICAgIHZhciBhZGQgPSBhZGRzW2l4XTtcbiAgICAgIHZhciBpZCA9IGFkZC5fX2lkO1xuICAgICAgdmFyIGtleSA9IGlkQ2FjaGVbaWRdID0gJHtoYXNoUGFydHMuam9pbihcIiArICd8JyArIFwiKX07XG4gICAgICBpZihpbmRleFtrZXldID09PSB1bmRlZmluZWQpIGluZGV4W2tleV0gPSBbXTtcbiAgICAgIHZhciBhcnIgPSBpbmRleFtrZXldO1xuICAgICAgaXhDYWNoZVtpZF0gPSBhcnIubGVuZ3RoO1xuICAgICAgYXJyLnB1c2goYWRkKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O2A7XG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbihcImluZGV4XCIsIFwiYWRkc1wiLCBcInJlbW92ZXNcIiwgXCJjYWNoZVwiLCBjb2RlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VBcnJheXMoYXMsIGJzKSB7XG4gIGxldCBpeCA9IGFzLmxlbmd0aDtcbiAgbGV0IHN0YXJ0ID0gaXg7XG4gIGZvcihsZXQgYiBvZiBicykge1xuICAgIGFzW2l4XSA9IGJzW2l4IC0gc3RhcnRdO1xuICAgIGl4Kys7XG4gIH1cbiAgcmV0dXJuIGFzO1xufVxuXG5leHBvcnQgY2xhc3MgRGlmZiB7XG4gIHRhYmxlcztcbiAgbGVuZ3RoO1xuICBpeGVyO1xuICBtZXRhO1xuICBjb25zdHJ1Y3RvcihpeGVyKSB7XG4gICAgdGhpcy5peGVyID0gaXhlcjtcbiAgICB0aGlzLnRhYmxlcyA9IHt9O1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLm1ldGEgPSB7fTtcbiAgfVxuICBlbnN1cmVUYWJsZSh0YWJsZSkge1xuICAgIGxldCB0YWJsZURpZmYgPSB0aGlzLnRhYmxlc1t0YWJsZV07XG4gICAgaWYoIXRhYmxlRGlmZikge1xuICAgICAgdGFibGVEaWZmID0gdGhpcy50YWJsZXNbdGFibGVdID0ge2FkZHM6IFtdLCByZW1vdmVzOiBbXX07XG4gICAgfVxuICAgIHJldHVybiB0YWJsZURpZmY7XG4gIH1cbiAgYWRkKHRhYmxlLCBvYmopIHtcbiAgICBsZXQgdGFibGVEaWZmID0gdGhpcy5lbnN1cmVUYWJsZSh0YWJsZSk7XG4gICAgdGhpcy5sZW5ndGgrKztcbiAgICB0YWJsZURpZmYuYWRkcy5wdXNoKG9iaik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYWRkTWFueSh0YWJsZSwgb2Jqcykge1xuICAgIGxldCB0YWJsZURpZmYgPSB0aGlzLmVuc3VyZVRhYmxlKHRhYmxlKTtcbiAgICB0aGlzLmxlbmd0aCArPSBvYmpzLmxlbmd0aDtcbiAgICBtZXJnZUFycmF5cyh0YWJsZURpZmYuYWRkcywgb2Jqcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVtb3ZlRmFjdHModGFibGUsIG9ianMpIHtcbiAgICBsZXQgdGFibGVEaWZmID0gdGhpcy5lbnN1cmVUYWJsZSh0YWJsZSk7XG4gICAgdGhpcy5sZW5ndGggKz0gb2Jqcy5sZW5ndGg7XG4gICAgbWVyZ2VBcnJheXModGFibGVEaWZmLnJlbW92ZXMsIG9ianMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZSh0YWJsZSwgcXVlcnk/KSB7XG4gICAgbGV0IHRhYmxlRGlmZiA9IHRoaXMuZW5zdXJlVGFibGUodGFibGUpO1xuICAgIGxldCBmb3VuZCA9IHRoaXMuaXhlci5maW5kKHRhYmxlLCBxdWVyeSk7XG4gICAgdGhpcy5sZW5ndGggKz0gZm91bmQubGVuZ3RoO1xuICAgIG1lcmdlQXJyYXlzKHRhYmxlRGlmZi5yZW1vdmVzLCBmb3VuZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbWVyZ2UoZGlmZikge1xuICAgIGZvcihsZXQgdGFibGUgaW4gZGlmZi50YWJsZXMpIHtcbiAgICAgIGxldCB0YWJsZURpZmYgPSBkaWZmLnRhYmxlc1t0YWJsZV07XG4gICAgICB0aGlzLmFkZE1hbnkodGFibGUsIHRhYmxlRGlmZi5hZGRzKTtcbiAgICAgIHRoaXMucmVtb3ZlRmFjdHModGFibGUsIHRhYmxlRGlmZi5yZW1vdmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV2ZXJzZSgpIHtcbiAgICBsZXQgcmV2ZXJzZWQgPSBuZXcgRGlmZih0aGlzLml4ZXIpO1xuICAgIGZvcihsZXQgdGFibGUgaW4gdGhpcy50YWJsZXMpIHtcbiAgICAgIGxldCBkaWZmID0gdGhpcy50YWJsZXNbdGFibGVdO1xuICAgICAgcmV2ZXJzZWQuYWRkTWFueSh0YWJsZSwgZGlmZi5yZW1vdmVzKTtcbiAgICAgIHJldmVyc2VkLnJlbW92ZUZhY3RzKHRhYmxlLCBkaWZmLmFkZHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV2ZXJzZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEluZGV4ZXIge1xuICB0YWJsZXM7XG4gIGdsb2JhbENvdW50O1xuICBlZGJUYWJsZXM7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGFibGVzID0ge307XG4gICAgdGhpcy5nbG9iYWxDb3VudCA9IDA7XG4gICAgdGhpcy5lZGJUYWJsZXMgPSB7fTtcbiAgfVxuICBhZGRUYWJsZShuYW1lLCBrZXlzID0gW10pIHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlc1tuYW1lXTtcbiAgICBrZXlzID0ga2V5cy5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcIl9faWRcIik7XG4gICAgaWYodGFibGUgJiYga2V5cy5sZW5ndGgpIHtcbiAgICAgIHRhYmxlLmZpZWxkcyA9IGtleXM7XG4gICAgICB0YWJsZS5zdHJpbmdpZnkgPSBnZW5lcmF0ZVN0cmluZ0ZuKGtleXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWJsZSA9IHRoaXMudGFibGVzW25hbWVdID0ge3RhYmxlOiBbXSwgaGFzaFRvSXg6IHt9LCBmYWN0SGFzaDoge30sIGluZGV4ZXM6IHt9LCB0cmlnZ2Vyczoge30sIGZpZWxkczoga2V5cywgc3RyaW5naWZ5OiBnZW5lcmF0ZVN0cmluZ0ZuKGtleXMpLCBrZXlMb29rdXA6IHt9fTtcbiAgICAgIHRoaXMuZWRiVGFibGVzW25hbWVdID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9yKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgaWYoa2V5LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICB0YWJsZS5rZXlMb29rdXBba2V5WzBdXSA9IGtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYmxlLmtleUxvb2t1cFtrZXldID0ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFibGU7XG4gIH1cbiAgY2xlYXJUYWJsZShuYW1lKSB7XG4gICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZXNbbmFtZV07XG4gICAgaWYoIXRhYmxlKSByZXR1cm47XG5cbiAgICB0YWJsZS50YWJsZSA9IFtdO1xuICAgIHRhYmxlLmZhY3RIYXNoID0ge307XG4gICAgZm9yKGxldCBpbmRleE5hbWUgaW4gdGFibGUuaW5kZXhlcykge1xuICAgICAgdGFibGUuaW5kZXhlc1tpbmRleE5hbWVdLmluZGV4ID0ge307XG4gICAgICB0YWJsZS5pbmRleGVzW2luZGV4TmFtZV0uY2FjaGUgPSB7aWQ6IHt9LCBpeDoge319O1xuICAgIH1cbiAgfVxuICB1cGRhdGVUYWJsZSh0YWJsZUlkLCBhZGRzLCByZW1vdmVzKSB7XG4gICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZXNbdGFibGVJZF07XG4gICAgaWYoIXRhYmxlIHx8ICF0YWJsZS5maWVsZHMubGVuZ3RoKSB7XG4gICAgICBsZXQgZXhhbXBsZSA9IGFkZHNbMF0gfHwgcmVtb3Zlc1swXTtcbiAgICAgIHRhYmxlID0gdGhpcy5hZGRUYWJsZSh0YWJsZUlkLCBPYmplY3Qua2V5cyhleGFtcGxlKSk7XG4gICAgfVxuICAgIGxldCBzdHJpbmdpZnkgPSB0YWJsZS5zdHJpbmdpZnk7XG4gICAgbGV0IGZhY3RzID0gdGFibGUudGFibGU7XG4gICAgbGV0IGZhY3RIYXNoID0gdGFibGUuZmFjdEhhc2g7XG4gICAgbGV0IGhhc2hUb0l4ID0gdGFibGUuaGFzaFRvSXg7XG4gICAgbGV0IGxvY2FsSGFzaCA9IHt9O1xuICAgIGxldCBoYXNoVG9GYWN0ID0ge307XG4gICAgbGV0IGhhc2hlcyA9IFtdO1xuICAgIGZvcihsZXQgYWRkIG9mIGFkZHMpIHtcbiAgICAgIGxldCBoYXNoID0gYWRkLl9faWQgfHwgc3RyaW5naWZ5KGFkZCk7XG4gICAgICBpZihsb2NhbEhhc2hbaGFzaF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb2NhbEhhc2hbaGFzaF0gPSAxO1xuICAgICAgICBoYXNoVG9GYWN0W2hhc2hdID0gYWRkO1xuICAgICAgICBoYXNoZXMucHVzaChoYXNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsSGFzaFtoYXNoXSsrO1xuICAgICAgfVxuICAgICAgYWRkLl9faWQgPSBoYXNoO1xuICAgIH1cbiAgICBmb3IobGV0IHJlbW92ZSBvZiByZW1vdmVzKSB7XG4gICAgICBsZXQgaGFzaCA9IHJlbW92ZS5fX2lkIHx8IHN0cmluZ2lmeShyZW1vdmUpO1xuICAgICAgaWYobG9jYWxIYXNoW2hhc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9jYWxIYXNoW2hhc2hdID0gLTE7XG4gICAgICAgIGhhc2hUb0ZhY3RbaGFzaF0gPSByZW1vdmU7XG4gICAgICAgIGhhc2hlcy5wdXNoKGhhc2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxIYXNoW2hhc2hdLS07XG4gICAgICB9XG4gICAgICByZW1vdmUuX19pZCA9IGhhc2g7XG4gICAgfVxuICAgIGxldCByZWFsQWRkcyA9IFtdO1xuICAgIGxldCByZWFsUmVtb3ZlcyA9IFtdO1xuICAgIGZvcihsZXQgaGFzaCBvZiBoYXNoZXMpIHtcbiAgICAgIGxldCBjb3VudCA9IGxvY2FsSGFzaFtoYXNoXTtcbiAgICAgIGlmKGNvdW50ID4gMCAmJiAhZmFjdEhhc2hbaGFzaF0pIHtcbiAgICAgICAgbGV0IGZhY3QgPSBoYXNoVG9GYWN0W2hhc2hdO1xuICAgICAgICByZWFsQWRkcy5wdXNoKGZhY3QpO1xuICAgICAgICBmYWN0cy5wdXNoKGZhY3QpO1xuICAgICAgICBmYWN0SGFzaFtoYXNoXSA9IGZhY3Q7XG4gICAgICAgIGhhc2hUb0l4W2hhc2hdID0gZmFjdHMubGVuZ3RoIC0gMTtcbiAgICAgIH0gZWxzZSBpZihjb3VudCA8IDAgJiYgZmFjdEhhc2hbaGFzaF0pIHtcbiAgICAgICAgbGV0IGZhY3QgPSBoYXNoVG9GYWN0W2hhc2hdO1xuICAgICAgICBsZXQgaXggPSBoYXNoVG9JeFtoYXNoXTtcbiAgICAgICAgLy9zd2FwIHRoZSBsYXN0IGZhY3Qgd2l0aCB0aGlzIG9uZSB0byBwcmV2ZW50IGhvbGVzXG4gICAgICAgIGxldCBsYXN0RmFjdCA9IGZhY3RzLnBvcCgpO1xuICAgICAgICBpZihsYXN0RmFjdCAmJiBsYXN0RmFjdC5fX2lkICE9PSBmYWN0Ll9faWQpIHtcbiAgICAgICAgICBmYWN0c1tpeF0gPSBsYXN0RmFjdDtcbiAgICAgICAgICBoYXNoVG9JeFtsYXN0RmFjdC5fX2lkXSA9IGl4O1xuICAgICAgICB9XG4gICAgICAgIHJlYWxSZW1vdmVzLnB1c2goZmFjdCk7XG4gICAgICAgIGRlbGV0ZSBmYWN0SGFzaFtoYXNoXTtcbiAgICAgICAgZGVsZXRlIGhhc2hUb0l4W2hhc2hdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2FkZHM6cmVhbEFkZHMsIHJlbW92ZXM6cmVhbFJlbW92ZXN9O1xuICB9XG5cbiAgY29sbGVjdG9yKGtleXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IHt9LFxuICAgICAgY2FjaGU6IHtpZDoge30sIGl4OiB7fX0sXG4gICAgICBoYXNoZXI6IGdlbmVyYXRlU3RyaW5nRm4oa2V5cyksXG4gICAgICBjb2xsZWN0OiBnZW5lcmF0ZUNvbGxlY3RvcjIoa2V5cyksXG4gICAgfVxuICB9XG4gIGZhY3RUb0luZGV4KHRhYmxlLCBmYWN0KSB7XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhmYWN0KTtcbiAgICBpZigha2V5cy5sZW5ndGgpIHJldHVybiB0YWJsZS50YWJsZS5zbGljZSgpO1xuICAgIGxldCBpbmRleCA9IHRoaXMuaW5kZXgodGFibGUsIGtleXMpO1xuICAgIGxldCByZXN1bHQgPSBpbmRleC5pbmRleFtpbmRleC5oYXNoZXIoZmFjdCldO1xuICAgIGlmKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgZXhlY0RpZmYoZGlmZjogRGlmZik6IHt0cmlnZ2VyczogYW55LCByZWFsRGlmZnM6IGFueX0ge1xuICAgIGxldCB0cmlnZ2VycyA9IHt9O1xuICAgIGxldCByZWFsRGlmZnMgPSB7fTtcbiAgICBsZXQgdGFibGVJZHMgPSBPYmplY3Qua2V5cyhkaWZmLnRhYmxlcyk7XG4gICAgZm9yKGxldCB0YWJsZUlkIG9mIHRhYmxlSWRzKSB7XG4gICAgICBsZXQgdGFibGVEaWZmID0gZGlmZi50YWJsZXNbdGFibGVJZF07XG4gICAgICBpZih0YWJsZURpZmYuYWRkcy5sZW5ndGggPT09IDAgJiYgdGFibGVEaWZmLnJlbW92ZXMubGVuZ3RoID09PSAwKSBjb250aW51ZTtcbiAgICAgIGxldCByZWFsRGlmZiA9IHRoaXMudXBkYXRlVGFibGUodGFibGVJZCwgdGFibGVEaWZmLmFkZHMsIHRhYmxlRGlmZi5yZW1vdmVzKTtcbiAgICAgIC8vIGdvIHRocm91Z2ggYWxsIHRoZSBpbmRleGVzIGFuZCB1cGRhdGUgdGhlbS5cbiAgICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGVzW3RhYmxlSWRdO1xuICAgICAgbGV0IGluZGV4ZXMgPSBPYmplY3Qua2V5cyh0YWJsZS5pbmRleGVzKTtcbiAgICAgIGZvcihsZXQgaW5kZXhOYW1lIG9mIGluZGV4ZXMpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGFibGUuaW5kZXhlc1tpbmRleE5hbWVdO1xuICAgICAgICBpbmRleC5jb2xsZWN0KGluZGV4LmluZGV4LCByZWFsRGlmZi5hZGRzLCByZWFsRGlmZi5yZW1vdmVzLCBpbmRleC5jYWNoZSk7XG4gICAgICB9XG4gICAgICBsZXQgY3VyVHJpZ2dlcnMgPSBPYmplY3Qua2V5cyh0YWJsZS50cmlnZ2Vycyk7XG4gICAgICBmb3IobGV0IHRyaWdnZXJOYW1lIG9mIGN1clRyaWdnZXJzKSB7XG4gICAgICAgIGxldCB0cmlnZ2VyID0gdGFibGUudHJpZ2dlcnNbdHJpZ2dlck5hbWVdO1xuICAgICAgICB0cmlnZ2Vyc1t0cmlnZ2VyTmFtZV0gPSB0cmlnZ2VyO1xuICAgICAgfVxuICAgICAgcmVhbERpZmZzW3RhYmxlSWRdID0gcmVhbERpZmY7XG4gICAgfVxuICAgIHJldHVybiB7dHJpZ2dlcnMsIHJlYWxEaWZmc307XG4gIH1cbiAgZXhlY1RyaWdnZXIodHJpZ2dlcikge1xuICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGUodHJpZ2dlci5uYW1lKVxuICAgIC8vIHNpbmNlIHZpZXdzIG1pZ2h0IGJlIGNoYW5nZWQgZHVyaW5nIHRoZSB0cmlnZ2VyaW5nIHByb2Nlc3MsIHdlIHdhbnQgdG8gZmF2b3JcbiAgICAvLyBqdXN0IHVzaW5nIHRoZSB2aWV3IGl0c2VsZiBhcyB0aGUgdHJpZ2dlciBpZiBpdCBpcyBvbmUuIE90aGVyd2lzZSwgd2UgdXNlIHRoZVxuICAgIC8vIHRyaWdnZXIncyBleGVjIGZ1bmN0aW9uLiBUaGlzIGVuc3VyZXMgdGhhdCBpZiBhIHZpZXcgaXMgcmVjb21waWxlZCBhbmQgYWRkZWRcbiAgICAvLyB0aGF0IGFueSBhbHJlYWR5IHF1ZXVlZCB0cmlnZ2VycyB3aWxsIHVzZSB0aGUgdXBkYXRlZCB2ZXJzaW9uIG9mIHRoZSB2aWV3IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgb2xkIHF1ZXVlZCBvbmUuXG4gICAgbGV0IHtyZXN1bHRzID0gdW5kZWZpbmVkLCB1bnByb2plY3RlZCA9IHVuZGVmaW5lZH0gPSAodGFibGUudmlldyA/IHRhYmxlLnZpZXcuZXhlYygpIDogdHJpZ2dlci5leGVjKHRoaXMpKSB8fCB7fTtcbiAgICBpZighcmVzdWx0cykgcmV0dXJuO1xuICAgIGxldCBwcmV2UmVzdWx0cyA9IHRhYmxlLmZhY3RIYXNoO1xuICAgIGxldCBwcmV2SGFzaGVzID0gT2JqZWN0LmtleXMocHJldlJlc3VsdHMpO1xuICAgIHRhYmxlLnVucHJvamVjdGVkID0gdW5wcm9qZWN0ZWQ7XG4gICAgaWYocmVzdWx0cykge1xuICAgICAgbGV0IGRpZmYgPSBuZXcgRGlmZih0aGlzKTtcbiAgICAgIHRoaXMuY2xlYXJUYWJsZSh0cmlnZ2VyLm5hbWUpO1xuICAgICAgZGlmZi5hZGRNYW55KHRyaWdnZXIubmFtZSwgcmVzdWx0cyk7XG4gICAgICBsZXQge3RyaWdnZXJzfSA9IHRoaXMuZXhlY0RpZmYoZGlmZik7XG4gICAgICBsZXQgbmV3SGFzaGVzID0gdGFibGUuZmFjdEhhc2g7XG4gICAgICBpZihwcmV2SGFzaGVzLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMobmV3SGFzaGVzKS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHNhbWUgPSB0cnVlO1xuICAgICAgICBmb3IobGV0IGhhc2ggb2YgcHJldkhhc2hlcykge1xuICAgICAgICAgIGlmKCFuZXdIYXNoZXNbaGFzaF0pIHtcbiAgICAgICAgICAgIHNhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2FtZSA/IHVuZGVmaW5lZCA6IHRyaWdnZXJzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdHJhbnNpdGl2ZWx5Q2xlYXJUcmlnZ2VycyhzdGFydGluZ1RyaWdnZXJzKSB7XG4gICAgbGV0IGNsZWFyZWQgPSB7fTtcbiAgICBsZXQgcmVtYWluaW5nID0gT2JqZWN0LmtleXMoc3RhcnRpbmdUcmlnZ2Vycyk7XG5cbiAgICBmb3IobGV0IGl4ID0gMDsgaXggPCByZW1haW5pbmcubGVuZ3RoOyBpeCsrKSB7XG4gICAgICBsZXQgdHJpZ2dlciA9IHJlbWFpbmluZ1tpeF07XG4gICAgICBpZihjbGVhcmVkW3RyaWdnZXJdKSBjb250aW51ZTtcbiAgICAgIHRoaXMuY2xlYXJUYWJsZSh0cmlnZ2VyKTtcbiAgICAgIGNsZWFyZWRbdHJpZ2dlcl0gPSB0cnVlO1xuICAgICAgcmVtYWluaW5nLnB1c2guYXBwbHkocmVtYWluaW5nLCBPYmplY3Qua2V5cyh0aGlzLnRhYmxlKHRyaWdnZXIpLnRyaWdnZXJzKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkNMRUFSRUQ6IFwiLCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsZWFyZWQ7XG4gIH1cbiAgZXhlY1RyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgbGV0IG5ld1RyaWdnZXJzID0ge307XG4gICAgbGV0IHJldHJpZ2dlciA9IGZhbHNlO1xuICAgIGZvcihsZXQgdHJpZ2dlck5hbWUgaW4gdHJpZ2dlcnMpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZzpcIiwgdHJpZ2dlck5hbWUpO1xuICAgICAgbGV0IHRyaWdnZXIgPSB0cmlnZ2Vyc1t0cmlnZ2VyTmFtZV07XG4gICAgICBsZXQgbmV4dFJvdW5kID0gdGhpcy5leGVjVHJpZ2dlcih0cmlnZ2VyKTtcbiAgICAgIGlmKG5leHRSb3VuZCkge1xuICAgICAgICByZXRyaWdnZXIgPSB0cnVlO1xuICAgICAgICBmb3IobGV0IHRyaWdnZXIgaW4gbmV4dFJvdW5kKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJRdWV1aW5nOlwiLCB0cmlnZ2VyKTtcbiAgICAgICAgICBuZXdUcmlnZ2Vyc1t0cmlnZ2VyXSA9IG5leHRSb3VuZFt0cmlnZ2VyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZihyZXRyaWdnZXIpIHtcbiAgICAgIHJldHVybiBuZXdUcmlnZ2VycztcbiAgICB9XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gSW5kZXhlciBQdWJsaWMgQVBJXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGRlbGV0ZURCKCkge1xuICAgIGZvcihsZXQgdGFibGUgaW4gdGhpcy50YWJsZXMpIHtcbiAgICAgIHRoaXMucmVtb3ZlVmlldyh0YWJsZSk7XG4gICAgICB0aGlzLmNsZWFyVGFibGUodGFibGUpO1xuICAgIH1cbiAgfVxuICBzZXJpYWxpemUoYXNPYmplY3Q/KSB7XG4gICAgbGV0IGR1bXAgPSB7fTtcbiAgICBmb3IobGV0IHRhYmxlTmFtZSBpbiB0aGlzLnRhYmxlcykge1xuICAgICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZXNbdGFibGVOYW1lXTtcbiAgICAgIGlmKCF0YWJsZS5pc1ZpZXcpIHtcbiAgICAgICAgZHVtcFt0YWJsZU5hbWVdID0gdGFibGUudGFibGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKGFzT2JqZWN0KSB7XG4gICAgICByZXR1cm4gZHVtcDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGR1bXApO1xuICB9XG4gIGxvYWQoc2VyaWFsaXplZCkge1xuICAgIGxldCBkdW1wID0gSlNPTi5wYXJzZShzZXJpYWxpemVkKTtcbiAgICBsZXQgZGlmZiA9IHRoaXMuZGlmZigpO1xuICAgIGZvcihsZXQgdGFibGVOYW1lIGluIGR1bXApIHtcbiAgICAgIGRpZmYuYWRkTWFueSh0YWJsZU5hbWUsIGR1bXBbdGFibGVOYW1lXSk7XG4gICAgfVxuICAgIGlmKElOQ1JFTUVOVEFMKSB7XG4gICAgICB0aGlzLmFwcGx5RGlmZkluY3JlbWVudGFsKGRpZmYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGx5RGlmZihkaWZmKTtcbiAgICB9XG4gIH1cbiAgZGlmZigpIHtcbiAgICByZXR1cm4gbmV3IERpZmYodGhpcyk7XG4gIH1cbiAgYXBwbHlEaWZmKGRpZmY6RGlmZikge1xuICAgIGlmKElOQ1JFTUVOVEFMKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBseURpZmZJbmNyZW1lbnRhbChkaWZmKTtcbiAgICB9XG4gICAgbGV0IHt0cmlnZ2VycywgcmVhbERpZmZzfSA9IHRoaXMuZXhlY0RpZmYoZGlmZik7XG4gICAgbGV0IGNsZWFyZWQ7XG4gICAgbGV0IHJvdW5kID0gMDtcbiAgICBpZih0cmlnZ2VycykgY2xlYXJlZCA9IHRoaXMudHJhbnNpdGl2ZWx5Q2xlYXJUcmlnZ2Vycyh0cmlnZ2Vycyk7XG4gICAgd2hpbGUodHJpZ2dlcnMpIHtcbiAgICAgIGZvcihsZXQgdHJpZ2dlciBpbiB0cmlnZ2Vycykge1xuICAgICAgICBjbGVhcmVkW3RyaWdnZXJdID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmdyb3VwKGBST1VORCAke3JvdW5kfWApO1xuICAgICAgdHJpZ2dlcnMgPSB0aGlzLmV4ZWNUcmlnZ2Vycyh0cmlnZ2Vycyk7XG4gICAgICByb3VuZCsrO1xuICAgICAgLy8gY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgICBmb3IobGV0IHRyaWdnZXIgb2YgT2JqZWN0LmtleXMoY2xlYXJlZCkpIHtcbiAgICAgIGlmKCFjbGVhcmVkW3RyaWdnZXJdKSBjb250aW51ZTtcbiAgICAgIGxldCB2aWV3ID0gdGhpcy50YWJsZSh0cmlnZ2VyKS52aWV3O1xuICAgICAgaWYodmlldykge1xuICAgICAgICB0aGlzLmV4ZWNUcmlnZ2VyKHZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0YWJsZSh0YWJsZUlkKSB7XG4gICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZXNbdGFibGVJZF07XG4gICAgaWYodGFibGUpIHJldHVybiB0YWJsZTtcbiAgICByZXR1cm4gdGhpcy5hZGRUYWJsZSh0YWJsZUlkKTtcbiAgfVxuICBpbmRleCh0YWJsZU9ySWQ6c3RyaW5nfHt9LCBrZXlzOmFueVtdKSB7XG4gICAgbGV0IHRhYmxlO1xuICAgIGlmKHR5cGVvZiB0YWJsZU9ySWQgPT09IFwic3RyaW5nXCIpIHRhYmxlID0gdGhpcy50YWJsZSh0YWJsZU9ySWQpO1xuICAgIGVsc2UgdGFibGUgPSB0YWJsZU9ySWQ7XG4gICAga2V5cy5zb3J0KCk7XG4gICAgbGV0IGluZGV4TmFtZSA9IGtleXMuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gXCJfX2lkXCIpLmpvaW4oXCJ8XCIpO1xuICAgIGxldCBpbmRleCA9IHRhYmxlLmluZGV4ZXNbaW5kZXhOYW1lXTtcbiAgICBpZighaW5kZXgpIHtcbiAgICAgIGxldCB0YWJsZUtleXMgPSBbXTtcbiAgICAgIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgdGFibGVLZXlzLnB1c2godGFibGUua2V5TG9va3VwW2tleV0gfHwga2V5KTtcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gdGFibGUuaW5kZXhlc1tpbmRleE5hbWVdID0gdGhpcy5jb2xsZWN0b3IodGFibGVLZXlzKTtcbiAgICAgIGluZGV4LmNvbGxlY3QoaW5kZXguaW5kZXgsIHRhYmxlLnRhYmxlLCBbXSwgaW5kZXguY2FjaGUpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgZmluZCh0YWJsZUlkLCBxdWVyeT8pIHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlc1t0YWJsZUlkXTtcbiAgICBpZighdGFibGUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2UgaWYoIXF1ZXJ5KSB7XG4gICAgICByZXR1cm4gdGFibGUudGFibGUuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZmFjdFRvSW5kZXgodGFibGUsIHF1ZXJ5KTtcbiAgICB9XG4gIH1cbiAgZmluZE9uZSh0YWJsZUlkLCBxdWVyeT8pIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHRhYmxlSWQsIHF1ZXJ5KVswXTtcbiAgfVxuICBxdWVyeShuYW1lID0gXCJ1bmtub3duXCIpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5KHRoaXMsIG5hbWUpO1xuICB9XG4gIHVuaW9uKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFVuaW9uKHRoaXMsIG5hbWUpO1xuICB9XG4gIHRyaWdnZXIobmFtZTpzdHJpbmcsIHRhYmxlOnN0cmluZ3xzdHJpbmdbXSwgZXhlYzooaXhlcjpJbmRleGVyKSA9PiB2b2lkLCBleGVjSW5jcmVtZW50YWw/OihjaGFuZ2VzOmFueSkgPT4gYW55KSB7XG4gICAgbGV0IHRhYmxlcyA9ICh0eXBlb2YgdGFibGUgPT09IFwic3RyaW5nXCIpID8gW3RhYmxlXSA6IHRhYmxlO1xuICAgIGxldCB0cmlnZ2VyID0ge25hbWUsIHRhYmxlcywgZXhlYywgZXhlY0luY3JlbWVudGFsfTtcbiAgICBmb3IobGV0IHRhYmxlSWQgb2YgdGFibGVzKSB7XG4gICAgICBsZXQgdGFibGUgPSB0aGlzLnRhYmxlKHRhYmxlSWQpO1xuICAgICAgdGFibGUudHJpZ2dlcnNbbmFtZV0gPSB0cmlnZ2VyO1xuICAgIH1cbiAgICBpZighSU5DUkVNRU5UQUwpIHtcbiAgICAgIGxldCBuZXh0Um91bmQgPSB0aGlzLmV4ZWNUcmlnZ2VyKHRyaWdnZXIpO1xuICAgICAgd2hpbGUobmV4dFJvdW5kKSB7XG4gICAgICAgIG5leHRSb3VuZCA9IHRoaXMuZXhlY1RyaWdnZXJzKG5leHRSb3VuZCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZighdGFibGVzLmxlbmd0aCkgeyByZXR1cm4gZXhlYyh0aGlzKTsgfVxuICAgICAgbGV0IGluaXRpYWwgPSB7W3RhYmxlc1swXV06IHthZGRzOiB0aGlzLnRhYmxlc1t0YWJsZXNbMF1dLnRhYmxlLCByZW1vdmVzOiBbXX19O1xuICAgICAgbGV0IHt0cmlnZ2VycywgY2hhbmdlc30gPSB0aGlzLmV4ZWNUcmlnZ2VySW5jcmVtZW50YWwodHJpZ2dlciwgaW5pdGlhbCk7XG4gICAgICB3aGlsZSh0cmlnZ2Vycykge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IHRoaXMuZXhlY1RyaWdnZXJzSW5jcmVtZW50YWwodHJpZ2dlcnMsIGNoYW5nZXMpO1xuICAgICAgICBpZighcmVzdWx0cykgYnJlYWtcbiAgICAgICAgdHJpZ2dlcnMgPSByZXN1bHRzLnRyaWdnZXJzO1xuICAgICAgICBjaGFuZ2VzID0gcmVzdWx0cy5jaGFuZ2VzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzVmlldyhxdWVyeTpRdWVyeXxVbmlvbikge1xuICAgIGxldCBuYW1lID0gcXVlcnkubmFtZTtcbiAgICBpZih0aGlzLnRhYmxlc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZW1vdmVWaWV3KG5hbWUpO1xuICAgIH1cbiAgICBsZXQgdmlldyA9IHRoaXMudGFibGUobmFtZSk7XG4gICAgdGhpcy5lZGJUYWJsZXNbbmFtZV0gPSBmYWxzZTtcbiAgICB2aWV3LnZpZXcgPSBxdWVyeTtcbiAgICB2aWV3LmlzVmlldyA9IHRydWU7XG4gICAgdGhpcy50cmlnZ2VyKG5hbWUsIHF1ZXJ5LnRhYmxlcywgcXVlcnkuZXhlYy5iaW5kKHF1ZXJ5KSwgcXVlcnkuZXhlY0luY3JlbWVudGFsLmJpbmQocXVlcnkpKTtcbiAgfVxuICByZW1vdmVWaWV3KGlkOnN0cmluZykge1xuICAgIGZvcihsZXQgdGFibGUgb2YgdGhpcy50YWJsZXMpIHtcbiAgICAgIGRlbGV0ZSB0YWJsZS50cmlnZ2Vyc1tpZF07XG4gICAgfVxuICB9XG4gIHRvdGFsRmFjdHMoKSB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBmb3IobGV0IHRhYmxlTmFtZSBpbiB0aGlzLnRhYmxlcykge1xuICAgICAgdG90YWwgKz0gdGhpcy50YWJsZXNbdGFibGVOYW1lXS50YWJsZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuICBmYWN0c1BlclRhYmxlKCkge1xuICAgIGxldCBpbmZvID0ge307XG4gICAgZm9yKGxldCB0YWJsZU5hbWUgaW4gdGhpcy50YWJsZXMpIHtcbiAgICAgIGluZm9bdGFibGVOYW1lXSA9IHRoaXMudGFibGVzW3RhYmxlTmFtZV0udGFibGUubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIGFwcGx5RGlmZkluY3JlbWVudGFsKGRpZmY6RGlmZikge1xuICAgIGlmKGRpZmYubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgLy8gY29uc29sZS5sb2coXCJESUZGIFNJWkU6IFwiLCBkaWZmLmxlbmd0aCwgZGlmZik7XG5cdFx0bGV0IHt0cmlnZ2VycywgcmVhbERpZmZzfSA9IHRoaXMuZXhlY0RpZmYoZGlmZik7XG5cdFx0bGV0IHJvdW5kID0gMDtcbiAgICBsZXQgY2hhbmdlcyA9IHJlYWxEaWZmcztcblx0XHR3aGlsZSh0cmlnZ2Vycykge1xuXHRcdCAgLy8gY29uc29sZS5ncm91cChgUk9VTkQgJHtyb3VuZH1gKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ0hBTkdFUzogXCIsIGNoYW5nZXMpO1xuXHRcdCAgbGV0IHJlc3VsdHMgPSB0aGlzLmV4ZWNUcmlnZ2Vyc0luY3JlbWVudGFsKHRyaWdnZXJzLCBjaGFuZ2VzKTtcbiAgICAgIC8vIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgIGlmKCFyZXN1bHRzKSBicmVha1xuICAgICAgdHJpZ2dlcnMgPSByZXN1bHRzLnRyaWdnZXJzO1xuICAgICAgY2hhbmdlcyA9IHJlc3VsdHMuY2hhbmdlc1xuXHRcdCAgcm91bmQrKztcblx0XHR9XG5cdH1cblxuICBleGVjVHJpZ2dlckluY3JlbWVudGFsKHRyaWdnZXIsIGNoYW5nZXMpOmFueSB7XG4gICAgbGV0IHRhYmxlID0gdGhpcy50YWJsZSh0cmlnZ2VyLm5hbWUpO1xuICAgIGxldCBhZGRzLCBwcm92ZW5hbmNlLCByZW1vdmVzLCBpbmZvO1xuICAgIGlmKHRyaWdnZXIuZXhlY0luY3JlbWVudGFsKSB7XG4gICAgICBpbmZvID0gdHJpZ2dlci5leGVjSW5jcmVtZW50YWwoY2hhbmdlcywgdGFibGUpIHx8IHt9O1xuICAgICAgYWRkcyA9IGluZm8uYWRkcztcbiAgICAgIHJlbW92ZXMgPSBpbmZvLnJlbW92ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyaWdnZXIuZXhlYygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZGlmZiA9IG5ldyBydW50aW1lLkRpZmYodGhpcyk7XG4gICAgaWYoYWRkcy5sZW5ndGgpIHtcbiAgICAgIGRpZmYuYWRkTWFueSh0cmlnZ2VyLm5hbWUsIGFkZHMpO1xuICAgIH1cbiAgICBpZihyZW1vdmVzLmxlbmd0aCkge1xuICAgICAgZGlmZi5yZW1vdmVGYWN0cyh0cmlnZ2VyLm5hbWUsIHJlbW92ZXMpO1xuICAgIH1cbiAgICBsZXQgdXBkYXRlZCA9IHRoaXMuZXhlY0RpZmYoZGlmZik7XG4gICAgbGV0IHtyZWFsRGlmZnN9ID0gdXBkYXRlZDtcbiAgICBpZihyZWFsRGlmZnNbdHJpZ2dlci5uYW1lXSAmJiAocmVhbERpZmZzW3RyaWdnZXIubmFtZV0uYWRkcy5sZW5ndGggfHwgcmVhbERpZmZzW3RyaWdnZXIubmFtZV0ucmVtb3ZlcykpIHtcbiAgICAgIHJldHVybiB7Y2hhbmdlczogcmVhbERpZmZzW3RyaWdnZXIubmFtZV0sIHRyaWdnZXJzOiB1cGRhdGVkLnRyaWdnZXJzfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIGV4ZWNUcmlnZ2Vyc0luY3JlbWVudGFsKHRyaWdnZXJzLCBjaGFuZ2VzKSB7XG4gICAgbGV0IG5ld1RyaWdnZXJzID0ge307XG4gICAgbGV0IG5leHRDaGFuZ2VzID0ge307XG4gICAgbGV0IHJldHJpZ2dlciA9IGZhbHNlO1xuICAgIGxldCB0cmlnZ2VyS2V5cyA9IE9iamVjdC5rZXlzKHRyaWdnZXJzKTtcbiAgICBmb3IobGV0IHRyaWdnZXJOYW1lIG9mIHRyaWdnZXJLZXlzKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkNhbGxpbmc6XCIsIHRyaWdnZXJOYW1lKTtcbiAgICAgIGxldCB0cmlnZ2VyID0gdHJpZ2dlcnNbdHJpZ2dlck5hbWVdO1xuICAgICAgbGV0IG5leHRSb3VuZCA9IHRoaXMuZXhlY1RyaWdnZXJJbmNyZW1lbnRhbCh0cmlnZ2VyLCBjaGFuZ2VzKTtcbiAgICAgIGlmKG5leHRSb3VuZCAmJiBuZXh0Um91bmQuY2hhbmdlcykge1xuICAgICAgICBuZXh0Q2hhbmdlc1t0cmlnZ2VyTmFtZV0gPSBuZXh0Um91bmQuY2hhbmdlcztcbiAgICAgICAgaWYobmV4dFJvdW5kLnRyaWdnZXJzKSB7XG5cbiAgICAgICAgICBsZXQgbmV4dFJvdW5kS2V5cyA9IE9iamVjdC5rZXlzKG5leHRSb3VuZC50cmlnZ2Vycyk7XG4gICAgICAgICAgZm9yKGxldCB0cmlnZ2VyIG9mIG5leHRSb3VuZEtleXMpIHtcbiAgICAgICAgICAgIGlmKHRyaWdnZXIgJiYgbmV4dFJvdW5kLnRyaWdnZXJzW3RyaWdnZXJdKSB7XG4gICAgICAgICAgICAgIHJldHJpZ2dlciA9IHRydWU7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUXVldWluZzpcIiwgdHJpZ2dlcik7XG4gICAgICAgICAgICAgIG5ld1RyaWdnZXJzW3RyaWdnZXJdID0gbmV4dFJvdW5kLnRyaWdnZXJzW3RyaWdnZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZihyZXRyaWdnZXIpIHtcbiAgICAgIHJldHVybiB7Y2hhbmdlczogbmV4dENoYW5nZXMsIHRyaWdnZXJzOiBuZXdUcmlnZ2Vyc307XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm92ZW5hbmNlVGFibGUoaXhlcikge1xuICBsZXQgdGFibGUgPSBpeGVyLmFkZFRhYmxlKFwicHJvdmVuYW5jZVwiLCBbXCJ0YWJsZVwiLCBbXCJyb3dcIiwgXCJfX2lkXCJdLCBcInJvdyBpbnN0YW5jZVwiLCBcInNvdXJjZVwiLCBbXCJzb3VyY2Ugcm93XCIsIFwiX19pZFwiXV0pO1xuICAvLyBnZW5lcmF0ZSBzb21lIGluZGV4ZXMgdGhhdCB3ZSBrbm93IHdlJ3JlIGdvaW5nIHRvIG5lZWQgdXBmcm9udFxuICBpeGVyLmluZGV4KFwicHJvdmVuYW5jZVwiLCBbXCJ0YWJsZVwiLCBcInJvd1wiXSk7XG4gIGl4ZXIuaW5kZXgoXCJwcm92ZW5hbmNlXCIsIFtcInRhYmxlXCIsIFwicm93IGluc3RhbmNlXCJdKTtcbiAgaXhlci5pbmRleChcInByb3ZlbmFuY2VcIiwgW1widGFibGVcIiwgXCJzb3VyY2VcIiwgXCJzb3VyY2Ugcm93XCJdKTtcbiAgaXhlci5pbmRleChcInByb3ZlbmFuY2VcIiwgW1widGFibGVcIl0pO1xuICByZXR1cm4gaXhlcjtcbn1cblxuZnVuY3Rpb24gbWFwcGluZ1RvRGlmZihkaWZmLCBhY3Rpb24sIG1hcHBpbmcsIGFsaWFzZXMsIHJldmVyc2VMb29rdXApIHtcbiAgZm9yKGxldCBmcm9tIGluIG1hcHBpbmcpIHtcbiAgICBsZXQgdG8gPSBtYXBwaW5nW2Zyb21dO1xuICAgIGlmKHRvLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgbGV0IHNvdXJjZSA9IHRvWzBdO1xuICAgICAgaWYodHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBzb3VyY2UgPSBhbGlhc2VzW3JldmVyc2VMb29rdXBbc291cmNlXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2UgPSBhbGlhc2VzW3NvdXJjZV07XG4gICAgICB9XG4gICAgICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb24sIGZyb20sIFwidG8gc291cmNlXCI6IHNvdXJjZSwgXCJ0byBmaWVsZFwiOiB0b1sxXX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb24sIGZyb20sIHZhbHVlOiB0b30pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGlmZjtcbn1cblxuZXhwb3J0IHZhciBRdWVyeUZ1bmN0aW9ucyA9IHt9XG52YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWc7XG52YXIgQVJHVU1FTlRfTkFNRVMgPSAvKFteXFxzLF0rKS9nO1xuZnVuY3Rpb24gZ2V0UGFyYW1OYW1lcyhmdW5jKSB7XG4gIHZhciBmblN0ciA9IGZ1bmMudG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyk7XG4gIHZhciByZXN1bHQgPSBmblN0ci5zbGljZShmblN0ci5pbmRleE9mKCcoJykrMSwgZm5TdHIuaW5kZXhPZignKScpKS5tYXRjaChBUkdVTUVOVF9OQU1FUyk7XG4gIGlmKHJlc3VsdCA9PT0gbnVsbClcbiAgICByZXN1bHQgPSBbXTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmUobmFtZSwgb3B0cywgZnVuYykge1xuICBsZXQgcGFyYW1zID0gZ2V0UGFyYW1OYW1lcyhmdW5jKTtcbiAgb3B0cy5uYW1lID0gbmFtZTtcbiAgb3B0cy5wYXJhbXMgPSBwYXJhbXM7XG4gIG9wdHMuZnVuYyA9IGZ1bmM7XG4gIFF1ZXJ5RnVuY3Rpb25zW25hbWVdID0gb3B0cztcbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5IHtcbiAgdGFibGVzO1xuICBqb2lucztcbiAgZGlydHk7XG4gIGNvbXBpbGVkO1xuICBpeGVyO1xuICBhbGlhc2VzO1xuICBmdW5jcztcbiAgbmFtZTtcbiAgcHJvamVjdGlvbk1hcDtcbiAgbGltaXRJbmZvO1xuICBncm91cHM7XG4gIHNvcnRzO1xuICBhZ2dyZWdhdGVzO1xuICB1bnByb2plY3RlZFNpemU7XG4gIGhhc09yZGluYWw7XG4gIGluY3JlbWVudGFsUm93RmluZGVyO1xuXG4gIHN0YXRpYyByZW1vdmUodmlldzogc3RyaW5nLCBpeGVyOkluZGV4ZXIpIHtcbiAgICBsZXQgZGlmZiA9IGl4ZXIuZGlmZigpO1xuICAgIGRpZmYucmVtb3ZlKFwidmlld1wiLCB7dmlld30pO1xuICAgIGZvcihsZXQgYWN0aW9uSXRlbSBvZiBpeGVyLmZpbmQoXCJhY3Rpb25cIiwge3ZpZXd9KSkge1xuICAgICAgbGV0IGFjdGlvbiA9IGFjdGlvbkl0ZW0uYWN0aW9uO1xuICAgICAgZGlmZi5yZW1vdmUoXCJhY3Rpb25cIiwge2FjdGlvbn0pO1xuICAgICAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gc291cmNlXCIsIHthY3Rpb259KTtcbiAgICAgIGRpZmYucmVtb3ZlKFwiYWN0aW9uIG1hcHBpbmdcIiwge2FjdGlvbn0pO1xuICAgICAgZGlmZi5yZW1vdmUoXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiLCB7YWN0aW9ufSk7XG4gICAgICBkaWZmLnJlbW92ZShcImFjdGlvbiBtYXBwaW5nIHNvcnRlZFwiLCB7YWN0aW9ufSk7XG4gICAgICBkaWZmLnJlbW92ZShcImFjdGlvbiBtYXBwaW5nIGxpbWl0XCIsIHthY3Rpb259KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihpeGVyLCBuYW1lID0gXCJ1bmtub3duXCIpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaXhlciA9IGl4ZXI7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy50YWJsZXMgPSBbXTtcbiAgICB0aGlzLmpvaW5zID0gW107XG4gICAgdGhpcy5hbGlhc2VzID0ge307XG4gICAgdGhpcy5mdW5jcyA9IFtdO1xuICAgIHRoaXMuYWdncmVnYXRlcyA9IFtdO1xuICAgIHRoaXMudW5wcm9qZWN0ZWRTaXplID0gMDtcbiAgICB0aGlzLmhhc09yZGluYWwgPSBmYWxzZTtcbiAgfVxuICBjaGFuZ2VzZXQoaXhlcjpJbmRleGVyKSB7XG4gICAgbGV0IGRpZmYgPSBpeGVyLmRpZmYoKTtcbiAgICBsZXQgYWxpYXNlcyA9IHt9O1xuICAgIGxldCByZXZlcnNlTG9va3VwID0ge307XG4gICAgZm9yKGxldCBhbGlhcyBpbiB0aGlzLmFsaWFzZXMpIHtcbiAgICAgIHJldmVyc2VMb29rdXBbdGhpcy5hbGlhc2VzW2FsaWFzXV0gPSBhbGlhcztcbiAgICB9XG4gICAgbGV0IHZpZXcgPSB0aGlzLm5hbWU7XG4gICAgZGlmZi5hZGQoXCJ2aWV3XCIsIHt2aWV3LCBraW5kOiBcInF1ZXJ5XCJ9KTtcbiAgICAvL2pvaW5zXG4gICAgZm9yKGxldCBqb2luIG9mIHRoaXMuam9pbnMpIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBhbGlhc2VzW2pvaW4uYXNdID0gYWN0aW9uO1xuICAgICAgaWYoIWpvaW4ubmVnYXRlZCkge1xuICAgICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcInNlbGVjdFwiLCBpeDogam9pbi5peH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXcsIGFjdGlvbiwga2luZDogXCJkZXNlbGVjdFwiLCBpeDogam9pbi5peH0pO1xuICAgICAgfVxuICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gc291cmNlXCIsIHthY3Rpb24sIFwic291cmNlIHZpZXdcIjogam9pbi50YWJsZX0pO1xuICAgICAgbWFwcGluZ1RvRGlmZihkaWZmLCBhY3Rpb24sIGpvaW4uam9pbiwgYWxpYXNlcywgcmV2ZXJzZUxvb2t1cCk7XG4gICAgfVxuICAgIC8vZnVuY3Rpb25zXG4gICAgZm9yKGxldCBmdW5jIG9mIHRoaXMuZnVuY3MpIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBhbGlhc2VzW2Z1bmMuYXNdID0gYWN0aW9uO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXcsIGFjdGlvbiwga2luZDogXCJjYWxjdWxhdGVcIiwgaXg6IGZ1bmMuaXh9KTtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IGZ1bmMubmFtZX0pO1xuICAgICAgbWFwcGluZ1RvRGlmZihkaWZmLCBhY3Rpb24sIGZ1bmMuYXJncywgYWxpYXNlcywgcmV2ZXJzZUxvb2t1cCk7XG4gICAgfVxuICAgIC8vYWdncmVnYXRlc1xuICAgIGZvcihsZXQgYWdnIG9mIHRoaXMuYWdncmVnYXRlcykge1xuICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgIGFsaWFzZXNbYWdnLmFzXSA9IGFjdGlvbjtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uXCIsIHt2aWV3LCBhY3Rpb24sIGtpbmQ6IFwiYWdncmVnYXRlXCIsIGl4OiBhZ2cuaXh9KTtcbiAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uLCBcInNvdXJjZSB2aWV3XCI6IGFnZy5uYW1lfSk7XG4gICAgICBtYXBwaW5nVG9EaWZmKGRpZmYsIGFjdGlvbiwgYWdnLmFyZ3MsIGFsaWFzZXMsIHJldmVyc2VMb29rdXApO1xuICAgIH1cbiAgICAvL3NvcnRcbiAgICBpZih0aGlzLnNvcnRzKSB7XG4gICAgICBsZXQgYWN0aW9uID0gdXVpZCgpO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXcsIGFjdGlvbiwga2luZDogXCJzb3J0XCIsIGl4OiBNQVhfTlVNQkVSfSk7XG4gICAgICBsZXQgaXggPSAwO1xuICAgICAgZm9yKGxldCBzb3J0IG9mIHRoaXMuc29ydHMpIHtcbiAgICAgICAgbGV0IFtzb3VyY2UsIGZpZWxkLCBkaXJlY3Rpb25dID0gc29ydDtcbiAgICAgICAgaWYodHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHNvdXJjZSA9IGFsaWFzZXNbcmV2ZXJzZUxvb2t1cFtzb3VyY2VdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzb3VyY2UgPSBhbGlhc2VzW3NvdXJjZV07XG4gICAgICAgIH1cbiAgICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwge2FjdGlvbiwgaXgsIHNvdXJjZSwgZmllbGQsIGRpcmVjdGlvbn0pO1xuICAgICAgICBpeCsrO1xuICAgICAgfVxuICAgIH1cbiAgICAvL2dyb3VwXG4gICAgaWYodGhpcy5ncm91cHMpIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcImdyb3VwXCIsIGl4OiBNQVhfTlVNQkVSfSk7XG4gICAgICBsZXQgaXggPSAwO1xuICAgICAgZm9yKGxldCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xuICAgICAgICBsZXQgW3NvdXJjZSwgZmllbGRdID0gZ3JvdXA7XG4gICAgICAgIGlmKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBzb3VyY2UgPSBhbGlhc2VzW3JldmVyc2VMb29rdXBbc291cmNlXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc291cmNlID0gYWxpYXNlc1tzb3VyY2VdO1xuICAgICAgICB9XG4gICAgICAgIGRpZmYuYWRkKFwiYWN0aW9uIG1hcHBpbmcgc29ydGVkXCIsIHthY3Rpb24sIGl4LCBzb3VyY2UsIGZpZWxkLCBkaXJlY3Rpb246IFwiYXNjZW5kaW5nXCJ9KTtcbiAgICAgICAgaXgrKztcbiAgICAgIH1cbiAgICB9XG4gICAgLy9saW1pdFxuICAgIGlmKHRoaXMubGltaXRJbmZvKSB7XG4gICAgICBsZXQgYWN0aW9uID0gdXVpZCgpO1xuICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXcsIGFjdGlvbiwga2luZDogXCJsaW1pdFwiLCBpeDogTUFYX05VTUJFUn0pO1xuICAgICAgZm9yKGxldCBsaW1pdFR5cGUgaW4gdGhpcy5saW1pdEluZm8pIHtcbiAgICAgICAgZGlmZi5hZGQoXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiLCB7YWN0aW9uLCBcImxpbWl0IHR5cGVcIjogbGltaXRUeXBlLCB2YWx1ZTogdGhpcy5saW1pdEluZm9bbGltaXRUeXBlXX0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvL3Byb2plY3Rpb25cbiAgICBpZih0aGlzLnByb2plY3Rpb25NYXApIHtcbiAgICAgIGxldCBhY3Rpb24gPSB1dWlkKCk7XG4gICAgICBkaWZmLmFkZChcImFjdGlvblwiLCB7dmlldywgYWN0aW9uLCBraW5kOiBcInByb2plY3RcIiwgaXg6IE1BWF9OVU1CRVJ9KTtcbiAgICAgIG1hcHBpbmdUb0RpZmYoZGlmZiwgYWN0aW9uLCB0aGlzLnByb2plY3Rpb25NYXAsIGFsaWFzZXMsIHJldmVyc2VMb29rdXApO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbiAgfVxuICB2YWxpZGF0ZUZpZWxkcyh0YWJsZU5hbWUsIGpvaW5PYmplY3QpIHtcbiAgICBsZXQgdGFibGUgPSB0aGlzLml4ZXIudGFibGUodGFibGVOYW1lKTtcbiAgICBmb3IgKGxldCBmaWVsZCBpbiBqb2luT2JqZWN0KSB7XG4gICAgICBpZiAodGFibGUuZmllbGRzLmxlbmd0aCAmJiAhdGFibGUua2V5TG9va3VwW2ZpZWxkXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhYmxlICcke3RhYmxlTmFtZX0nIGRvZXNuJ3QgaGF2ZSBhIGZpZWxkICcke2ZpZWxkfScuXFxuXFxuQXZhaWxhYmxlIGZpZWxkczogJHt0YWJsZS5maWVsZHMuam9pbihcIiwgXCIpfWApO1xuICAgICAgfVxuICAgICAgbGV0IGpvaW5JbmZvID0gam9pbk9iamVjdFtmaWVsZF07XG4gICAgICBpZihqb2luSW5mby5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgbGV0IFtqb2luTnVtYmVyLCByZWZlcmVuY2VkRmllbGRdID0gam9pbkluZm87XG4gICAgICAgIGlmICh0eXBlb2Ygam9pbk51bWJlciAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGpvaW5OdW1iZXIgPSB0aGlzLmFsaWFzZXNbam9pbk51bWJlcl07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGpvaW4gPSB0aGlzLmpvaW5zW2pvaW5OdW1iZXJdO1xuICAgICAgICBpZiAoam9pbiAmJiBqb2luLml4ID09PSBqb2luTnVtYmVyKSB7XG4gICAgICAgICAgbGV0IHJlZmVyZW5jZWRUYWJsZSA9IHRoaXMuaXhlci50YWJsZShqb2luLnRhYmxlKTtcbiAgICAgICAgICBpZiAoIXJlZmVyZW5jZWRUYWJsZS5maWVsZHMubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoIXJlZmVyZW5jZWRUYWJsZS5rZXlMb29rdXBbcmVmZXJlbmNlZEZpZWxkXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWJsZSAnJHtqb2luLnRhYmxlfScgZG9lc24ndCBoYXZlIGEgZmllbGQgJyR7cmVmZXJlbmNlZEZpZWxkfScuXFxuXFxuQXZhaWxhYmxlIGZpZWxkczogJHtyZWZlcmVuY2VkVGFibGUuZmllbGRzLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2VsZWN0KHRhYmxlLCBqb2luLCBhcz8pIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICBpZihhcykge1xuICAgICAgdGhpcy5hbGlhc2VzW2FzXSA9IE9iamVjdC5rZXlzKHRoaXMuYWxpYXNlcykubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLnVucHJvamVjdGVkU2l6ZSsrO1xuICAgIHRoaXMudGFibGVzLnB1c2godGFibGUpO1xuICAgIHRoaXMudmFsaWRhdGVGaWVsZHModGFibGUsIGpvaW4pO1xuICAgIHRoaXMuam9pbnMucHVzaCh7bmVnYXRlZDogZmFsc2UsIHRhYmxlLCBqb2luLCBhcywgaXg6IHRoaXMuYWxpYXNlc1thc119KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXNlbGVjdCh0YWJsZSwgam9pbikge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIHRoaXMudGFibGVzLnB1c2godGFibGUpO1xuICAgIHRoaXMudmFsaWRhdGVGaWVsZHModGFibGUsIGpvaW4pO1xuICAgIHRoaXMuam9pbnMucHVzaCh7bmVnYXRlZDogdHJ1ZSwgdGFibGUsIGpvaW4sIGl4OiB0aGlzLmpvaW5zLmxlbmd0aCAqIDEwMDB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjYWxjdWxhdGUoZnVuY05hbWUsIGFyZ3MsIGFzPykge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIGlmKGFzKSB7XG4gICAgICB0aGlzLmFsaWFzZXNbYXNdID0gT2JqZWN0LmtleXModGhpcy5hbGlhc2VzKS5sZW5ndGg7XG4gICAgfVxuICAgIGlmKCFRdWVyeUZ1bmN0aW9uc1tmdW5jTmFtZV0uZmlsdGVyKSB7XG4gICAgICB0aGlzLnVucHJvamVjdGVkU2l6ZSsrO1xuICAgIH1cbiAgICB0aGlzLmZ1bmNzLnB1c2goe25hbWU6IGZ1bmNOYW1lLCBhcmdzLCBhcywgaXg6IHRoaXMuYWxpYXNlc1thc119KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwcm9qZWN0KHByb2plY3Rpb25NYXApIHtcbiAgICB0aGlzLnByb2plY3Rpb25NYXAgPSBwcm9qZWN0aW9uTWFwO1xuICAgIHRoaXMudmFsaWRhdGVGaWVsZHModW5kZWZpbmVkLCBwcm9qZWN0aW9uTWFwKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBncm91cChncm91cHMpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICBpZihncm91cHNbMF0gJiYgZ3JvdXBzWzBdLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgdGhpcy5ncm91cHMgPSBncm91cHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKCF0aGlzLmdyb3VwcykgdGhpcy5ncm91cHMgPSBbXTtcbiAgICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc29ydChzb3J0cykge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIGlmKHNvcnRzWzBdICYmIHNvcnRzWzBdLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgdGhpcy5zb3J0cyA9IHNvcnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZighdGhpcy5zb3J0cykgdGhpcy5zb3J0cyA9IFtdO1xuICAgICAgdGhpcy5zb3J0cy5wdXNoKHNvcnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbGltaXQobGltaXRJbmZvOmFueSkge1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIGlmKCF0aGlzLmxpbWl0SW5mbykge1xuICAgICAgdGhpcy5saW1pdEluZm8gPSB7fTtcbiAgICB9XG4gICAgZm9yKGxldCBrZXkgaW4gbGltaXRJbmZvKSB7XG4gICAgICB0aGlzLmxpbWl0SW5mb1trZXldID0gbGltaXRJbmZvW2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFnZ3JlZ2F0ZShmdW5jTmFtZSwgYXJncywgYXM/KSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgaWYoYXMpIHtcbiAgICAgIHRoaXMuYWxpYXNlc1thc10gPSBPYmplY3Qua2V5cyh0aGlzLmFsaWFzZXMpLmxlbmd0aDtcbiAgICB9XG4gICAgdGhpcy51bnByb2plY3RlZFNpemUrKztcbiAgICB0aGlzLmFnZ3JlZ2F0ZXMucHVzaCh7bmFtZTogZnVuY05hbWUsIGFyZ3MsIGFzLCBpeDogdGhpcy5hbGlhc2VzW2FzXX0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9yZGluYWwoKSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5oYXNPcmRpbmFsID0gdHJ1ZTtcbiAgICB0aGlzLnVucHJvamVjdGVkU2l6ZSsrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGFwcGx5QWxpYXNlcyhqb2luTWFwKSB7XG4gICAgZm9yKGxldCBmaWVsZCBpbiBqb2luTWFwKSB7XG4gICAgICBsZXQgam9pbkluZm8gPSBqb2luTWFwW2ZpZWxkXTtcbiAgICAgIGlmKGpvaW5JbmZvLmNvbnN0cnVjdG9yICE9PSBBcnJheSB8fCB0eXBlb2Ygam9pbkluZm9bMF0gPT09IFwibnVtYmVyXCIpIGNvbnRpbnVlO1xuICAgICAgbGV0IGpvaW5UYWJsZSA9IGpvaW5JbmZvWzBdO1xuICAgICAgaWYoam9pblRhYmxlID09PSBcIm9yZGluYWxcIikge1xuICAgICAgICBqb2luSW5mb1swXSA9IHRoaXMudW5wcm9qZWN0ZWRTaXplIC0gMTtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmFsaWFzZXNbam9pblRhYmxlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGpvaW5JbmZvWzBdID0gdGhpcy5hbGlhc2VzW2pvaW5UYWJsZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFsaWFzIHVzZWQ6IFwiICsgam9pblRhYmxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdG9BU1QoKSB7XG4gICAgbGV0IGN1cnNvciA9IHt0eXBlOiBcInF1ZXJ5XCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW119O1xuICAgIGxldCByb290ID0gY3Vyc29yO1xuICAgIGxldCByZXN1bHRzID0gW107XG4gICAgLy8gYnkgZGVmYXVsdCB0aGUgb25seSB0aGluZyB3ZSByZXR1cm4gYXJlIHRoZSB1bnByb2plY3RlZCByZXN1bHRzXG4gICAgbGV0IHJldHVybnMgPSBbXCJ1bnByb2plY3RlZFwiLCBcInByb3ZlbmFuY2VcIl07XG5cbiAgICAvLyB3ZSBuZWVkIGFuIGFycmF5IHRvIHN0b3JlIG91ciB1bnByb2plY3RlZCByZXN1bHRzXG4gICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcImRlY2xhcmF0aW9uXCIsIHZhcjogXCJ1bnByb2plY3RlZFwiLCB2YWx1ZTogXCJbXVwifSk7XG4gICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcImRlY2xhcmF0aW9uXCIsIHZhcjogXCJwcm92ZW5hbmNlXCIsIHZhbHVlOiBcIltdXCJ9KTtcbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcInByb2plY3RlZFwiLCB2YWx1ZTogXCJ7fVwifSk7XG5cbiAgICAvLyBydW4gdGhyb3VnaCBlYWNoIHRhYmxlIG5lc3RlZCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIGdpdmVuIGRvaW5nIHBhaXJ3aXNlXG4gICAgLy8gam9pbnMgYWxvbmcgdGhlIHdheS5cbiAgICBmb3IobGV0IGpvaW4gb2YgdGhpcy5qb2lucykge1xuICAgICAgbGV0IHt0YWJsZSwgaXgsIG5lZ2F0ZWR9ID0gam9pbjtcbiAgICAgIGxldCBjdXIgPSB7XG4gICAgICAgIHR5cGU6IFwic2VsZWN0XCIsXG4gICAgICAgIHRhYmxlLFxuICAgICAgICBwYXNzZWQ6IGl4ID09PSAwLFxuICAgICAgICBpeCxcbiAgICAgICAgbmVnYXRlZCxcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBqb2luOiBmYWxzZSxcbiAgICAgIH07XG4gICAgICAvLyB3ZSBvbmx5IHdhbnQgdG8gZWF0IHRoZSBjb3N0IG9mIGRlYWxpbmcgd2l0aCBpbmRleGVzXG4gICAgICAvLyBpZiB3ZSBhcmUgYWN0dWFsbHkgam9pbmluZyBvbiBzb21ldGhpbmdcbiAgICAgIGxldCBqb2luTWFwID0gam9pbi5qb2luO1xuICAgICAgdGhpcy5hcHBseUFsaWFzZXMoam9pbk1hcCk7XG4gICAgICBpZihqb2luTWFwICYmIE9iamVjdC5rZXlzKGpvaW5NYXApLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICByb290LmNoaWxkcmVuLnVuc2hpZnQoe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBgcXVlcnkke2l4fWAsIHZhbHVlOiBcInt9XCJ9KTtcbiAgICAgICAgY3VyLmpvaW4gPSBqb2luTWFwO1xuICAgICAgfVxuICAgICAgY3Vyc29yLmNoaWxkcmVuLnB1c2goY3VyKTtcbiAgICAgIGlmKCFuZWdhdGVkKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7dHlwZTogXCJzZWxlY3RcIiwgaXh9KTtcbiAgICAgIH1cblxuICAgICAgY3Vyc29yID0gY3VyO1xuICAgIH1cbiAgICAvLyBhdCB0aGUgYm90dG9tIG9mIHRoZSBqb2lucywgd2UgY2FsY3VsYXRlIGFsbCB0aGUgZnVuY3Rpb25zIGJhc2VkIG9uIHRoZSB2YWx1ZXNcbiAgICAvLyBjb2xsZWN0ZWRcbiAgICBmb3IobGV0IGZ1bmMgb2YgdGhpcy5mdW5jcykge1xuICAgICAgbGV0IHthcmdzLCBuYW1lLCBpeH0gPSBmdW5jO1xuICAgICAgbGV0IGZ1bmNJbmZvID0gUXVlcnlGdW5jdGlvbnNbbmFtZV07XG4gICAgICB0aGlzLmFwcGx5QWxpYXNlcyhhcmdzKTtcbiAgICAgIHJvb3QuY2hpbGRyZW4udW5zaGlmdCh7dHlwZTogXCJmdW5jdGlvbkRlY2xhcmF0aW9uXCIsIGl4LCBpbmZvOiBmdW5jSW5mb30pO1xuICAgICAgaWYoZnVuY0luZm8ubXVsdGkgfHwgZnVuY0luZm8uZmlsdGVyKSB7XG4gICAgICAgIGxldCBub2RlID0ge3R5cGU6IFwiZnVuY3Rpb25DYWxsTXVsdGlSZXR1cm5cIiwgaXgsIGFyZ3MsIGluZm86IGZ1bmNJbmZvLCBjaGlsZHJlbjogW119O1xuICAgICAgICBjdXJzb3IuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgY3Vyc29yID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnNvci5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcImZ1bmN0aW9uQ2FsbFwiLCBpeCwgYXJncywgaW5mbzogZnVuY0luZm8sIGNoaWxkcmVuOiBbXX0pO1xuICAgICAgfVxuICAgICAgaWYoIWZ1bmNJbmZvLm5vUmV0dXJuICYmICFmdW5jSW5mby5maWx0ZXIpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHt0eXBlOiBcImZ1bmN0aW9uXCIsIGl4fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IHRoYXQgd2UncmUgYXQgdGhlIGJvdHRvbSBvZiB0aGUgam9pbiwgc3RvcmUgdGhlIHVucHJvamVjdGVkIHJlc3VsdFxuICAgIGN1cnNvci5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcInJlc3VsdFwiLCByZXN1bHRzfSk7XG5cbiAgICAvL0FnZ3JlZ2F0aW9uXG4gICAgLy9zb3J0IHRoZSB1bnByb2plY3RlZCByZXN1bHRzIGJhc2VkIG9uIGdyb3VwaW5ncyBhbmQgdGhlIGdpdmVuIHNvcnRzXG4gICAgbGV0IHNvcnRzID0gW107XG4gICAgbGV0IGFscmVhZHlTb3J0ZWQgPSB7fTtcbiAgICBpZih0aGlzLmdyb3Vwcykge1xuICAgICAgdGhpcy5hcHBseUFsaWFzZXModGhpcy5ncm91cHMpO1xuICAgICAgZm9yKGxldCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xuICAgICAgICBsZXQgW3RhYmxlLCBmaWVsZF0gPSBncm91cDtcbiAgICAgICAgc29ydHMucHVzaChncm91cCk7XG4gICAgICAgIGFscmVhZHlTb3J0ZWRbYCR7dGFibGV9fCR7ZmllbGR9YF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZih0aGlzLnNvcnRzKSB7XG4gICAgICB0aGlzLmFwcGx5QWxpYXNlcyh0aGlzLnNvcnRzKTtcbiAgICAgIGZvcihsZXQgc29ydCBvZiB0aGlzLnNvcnRzKSB7XG4gICAgICAgIGxldCBbdGFibGUsIGZpZWxkXSA9IHNvcnQ7XG4gICAgICAgIGlmKCFhbHJlYWR5U29ydGVkW2Ake3RhYmxlfXwke2ZpZWxkfWBdKSB7XG4gICAgICAgICAgc29ydHMucHVzaChzb3J0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc2l6ZSA9IHRoaXMudW5wcm9qZWN0ZWRTaXplO1xuICAgIGlmKHNvcnRzLmxlbmd0aCkge1xuICAgICAgcm9vdC5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcInNvcnRcIiwgc29ydHMsIHNpemUsIGNoaWxkcmVuOiBbXX0pO1xuICAgIH1cbiAgICAvL3RoZW4gd2UgbmVlZCB0byBydW4gdGhyb3VnaCB0aGUgc29ydGVkIGl0ZW1zIGFuZCBkbyB0aGUgYWdncmVnYXRlIGFzIGEgZm9sZC5cbiAgICBpZih0aGlzLmFnZ3JlZ2F0ZXMubGVuZ3RoIHx8IHNvcnRzLmxlbmd0aCB8fCB0aGlzLmxpbWl0SW5mbyB8fCB0aGlzLmhhc09yZGluYWwpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc3RvcmUgZ3JvdXAgaW5mbyBmb3IgcG9zdCBwcm9jZXNzaW5nIG9mIHRoZSB1bnByb2plY3RlZCByZXN1bHRzXG4gICAgICAvLyB0aGlzIHdpbGwgaW5kaWNhdGUgd2hhdCBncm91cCBudW1iZXIsIGlmIGFueSwgdGhhdCBlYWNoIHVucHJvamVjdGVkIHJlc3VsdCBiZWxvbmdzIHRvXG4gICAgICByb290LmNoaWxkcmVuLnVuc2hpZnQoe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcImdyb3VwSW5mb1wiLCB2YWx1ZTogXCJbXVwifSk7XG4gICAgICByZXR1cm5zLnB1c2goXCJncm91cEluZm9cIik7XG4gICAgICBsZXQgYWdncmVnYXRlQ2hpbGRyZW4gPSBbXTtcbiAgICAgIGZvcihsZXQgZnVuYyBvZiB0aGlzLmFnZ3JlZ2F0ZXMpIHtcbiAgICAgICAgbGV0IHthcmdzLCBuYW1lLCBpeH0gPSBmdW5jO1xuICAgICAgICBsZXQgZnVuY0luZm8gPSBRdWVyeUZ1bmN0aW9uc1tuYW1lXTtcbiAgICAgICAgdGhpcy5hcHBseUFsaWFzZXMoYXJncyk7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4udW5zaGlmdCh7dHlwZTogXCJmdW5jdGlvbkRlY2xhcmF0aW9uXCIsIGl4LCBpbmZvOiBmdW5jSW5mb30pO1xuICAgICAgICBhZ2dyZWdhdGVDaGlsZHJlbi5wdXNoKHt0eXBlOiBcImZ1bmN0aW9uQ2FsbFwiLCBpeCwgcmVzdWx0c0l4OiByZXN1bHRzLmxlbmd0aCwgYXJncywgaW5mbzogZnVuY0luZm8sIHVucHJvamVjdGVkOiB0cnVlLCBjaGlsZHJlbjogW119KTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHt0eXBlOiBcInBsYWNlaG9sZGVyXCJ9KTtcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaGFzT3JkaW5hbCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZ2dyZWdhdGVDaGlsZHJlbi5wdXNoKHt0eXBlOiBcIm9yZGluYWxcIn0pO1xuICAgICAgICByZXN1bHRzLnB1c2goe3R5cGU6IFwicGxhY2Vob2xkZXJcIn0pO1xuICAgICAgfVxuICAgICAgbGV0IGFnZ3JlZ2F0ZSA9IHt0eXBlOiBcImFnZ3JlZ2F0ZSBsb29wXCIsIGdyb3VwczogdGhpcy5ncm91cHMsIGxpbWl0OiB0aGlzLmxpbWl0SW5mbywgc2l6ZSwgY2hpbGRyZW46IGFnZ3JlZ2F0ZUNoaWxkcmVufTtcbiAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChhZ2dyZWdhdGUpO1xuICAgICAgY3Vyc29yID0gYWdncmVnYXRlO1xuICAgIH1cblxuXG4gICAgaWYodGhpcy5wcm9qZWN0aW9uTWFwKSB7XG4gICAgICB0aGlzLmFwcGx5QWxpYXNlcyh0aGlzLnByb2plY3Rpb25NYXApO1xuICAgICAgcm9vdC5jaGlsZHJlbi51bnNoaWZ0KHt0eXBlOiBcImRlY2xhcmF0aW9uXCIsIHZhcjogXCJyZXN1bHRzXCIsIHZhbHVlOiBcIltdXCJ9KTtcbiAgICAgIGlmKElOQ1JFTUVOVEFMKSB7XG4gICAgICAgIGN1cnNvci5jaGlsZHJlbi5wdXNoKHt0eXBlOiBcInByb3ZlbmFuY2VcIn0pO1xuICAgICAgfVxuICAgICAgY3Vyc29yLmNoaWxkcmVuLnB1c2goe3R5cGU6IFwicHJvamVjdGlvblwiLCBwcm9qZWN0aW9uTWFwOiB0aGlzLnByb2plY3Rpb25NYXAsIHVucHJvamVjdGVkOiB0aGlzLmFnZ3JlZ2F0ZXMubGVuZ3RofSk7XG4gICAgICByZXR1cm5zLnB1c2goXCJyZXN1bHRzXCIpO1xuICAgIH1cblxuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJyZXR1cm5cIiwgdmFyczogcmV0dXJuc30pO1xuICAgIHJldHVybiByb290O1xuICB9XG4gIGNvbXBpbGVQYXJhbVN0cmluZyhmdW5jSW5mbywgYXJncywgdW5wcm9qZWN0ZWQgPSBmYWxzZSkge1xuICAgIGxldCBjb2RlID0gXCJcIjtcbiAgICBsZXQgcGFyYW1zID0gZnVuY0luZm8ucGFyYW1zO1xuICAgIGlmKHVucHJvamVjdGVkKSBwYXJhbXMgPSBwYXJhbXMuc2xpY2UoMSk7XG4gICAgZm9yKGxldCBwYXJhbSBvZiBwYXJhbXMpIHtcbiAgICAgIGxldCBhcmcgPSBhcmdzW3BhcmFtXTtcbiAgICAgIGxldCBhcmdDb2RlO1xuICAgICAgaWYoYXJnLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgICBsZXQgcHJvcGVydHkgPSBcIlwiO1xuICAgICAgICBpZihhcmdbMV0pIHtcbiAgICAgICAgICBwcm9wZXJ0eSA9IGBbJyR7YXJnWzFdfSddYDtcbiAgICAgICAgfVxuICAgICAgICBpZighdW5wcm9qZWN0ZWQpIHtcbiAgICAgICAgICBhcmdDb2RlID0gYHJvdyR7YXJnWzBdfSR7cHJvcGVydHl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcmdDb2RlID0gYHVucHJvamVjdGVkW2l4ICsgJHthcmdbMF19XSR7cHJvcGVydHl9YDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJnQ29kZSA9IEpTT04uc3RyaW5naWZ5KGFyZyk7XG4gICAgICB9XG4gICAgICBjb2RlICs9IGAke2FyZ0NvZGV9LCBgO1xuICAgIH1cbiAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoMCxjb2RlLmxlbmd0aCAtIDIpO1xuICB9XG4gIGNvbXBpbGVBU1Qocm9vdCkge1xuICAgIGxldCBjb2RlID0gXCJcIjtcbiAgICBsZXQgdHlwZSA9IHJvb3QudHlwZTtcbiAgICBzd2l0Y2godHlwZSkge1xuICAgICAgY2FzZSBcInF1ZXJ5XCI6XG4gICAgICAgIGZvcih2YXIgY2hpbGQgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvZGUgKz0gdGhpcy5jb21waWxlQVNUKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWNsYXJhdGlvblwiOlxuICAgICAgICBjb2RlICs9IGB2YXIgJHtyb290LnZhcn0gPSAke3Jvb3QudmFsdWV9O1xcbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uRGVjbGFyYXRpb25cIjpcbiAgICAgICAgY29kZSArPSBgdmFyIGZ1bmMke3Jvb3QuaXh9ID0gUXVlcnlGdW5jdGlvbnNbJyR7cm9vdC5pbmZvLm5hbWV9J10uZnVuYztcXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdW5jdGlvbkNhbGxcIjpcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgdmFyIHByZXYgPSBcIlwiO1xuICAgICAgICBpZihyb290LnVucHJvamVjdGVkKSB7XG4gICAgICAgICAgcHJldiA9IGByb3cke2l4fWA7XG4gICAgICAgICAgaWYocm9vdC5pbmZvLnBhcmFtcy5sZW5ndGggPiAxKSBwcmV2ICs9IFwiLFwiXG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBgdmFyIHJvdyR7aXh9ID0gZnVuYyR7aXh9KCR7cHJldn0ke3RoaXMuY29tcGlsZVBhcmFtU3RyaW5nKHJvb3QuaW5mbywgcm9vdC5hcmdzLCByb290LnVucHJvamVjdGVkKX0pO1xcbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZ1bmN0aW9uQ2FsbE11bHRpUmV0dXJuXCI6XG4gICAgICAgIHZhciBpeCA9IHJvb3QuaXg7XG4gICAgICAgIGNvZGUgKz0gYHZhciByb3dzJHtpeH0gPSBmdW5jJHtpeH0oJHt0aGlzLmNvbXBpbGVQYXJhbVN0cmluZyhyb290LmluZm8sIHJvb3QuYXJncyl9KTtcXG5gO1xuICAgICAgICBjb2RlICs9IGBmb3IodmFyIGZ1bmNSZXN1bHRJeCR7aXh9ID0gMCwgZnVuY0xlbiR7aXh9ID0gcm93cyR7aXh9Lmxlbmd0aDsgZnVuY1Jlc3VsdEl4JHtpeH0gPCBmdW5jTGVuJHtpeH07IGZ1bmNSZXN1bHRJeCR7aXh9KyspIHtcXG5gXG4gICAgICAgIGNvZGUgKz0gYHZhciByb3cke2l4fSA9IHJvd3Mke2l4fVtmdW5jUmVzdWx0SXgke2l4fV07XFxuYDtcbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGUgKz0gXCJ9XFxuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICB2YXIgaXggPSByb290Lml4O1xuICAgICAgICBpZihyb290LnBhc3NlZCkge1xuICAgICAgICAgIGNvZGUgKz0gYHZhciByb3dzJHtpeH0gPSByb290Um93cztcXG5gO1xuICAgICAgICB9IGVsc2UgaWYocm9vdC5qb2luKSB7XG4gICAgICAgICAgZm9yKGxldCBrZXkgaW4gcm9vdC5qb2luKSB7XG4gICAgICAgICAgICBsZXQgbWFwcGluZyA9IHJvb3Quam9pbltrZXldO1xuICAgICAgICAgICAgaWYobWFwcGluZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgICAgbGV0IFt0YWJsZUl4LCB2YWx1ZV0gPSBtYXBwaW5nO1xuICAgICAgICAgICAgICBjb2RlICs9IGBxdWVyeSR7aXh9Wycke2tleX0nXSA9IHJvdyR7dGFibGVJeH1bJyR7dmFsdWV9J107XFxuYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvZGUgKz0gYHF1ZXJ5JHtpeH1bJyR7a2V5fSddID0gJHtKU09OLnN0cmluZ2lmeShtYXBwaW5nKX07XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29kZSArPSBgdmFyIHJvd3Mke2l4fSA9IGl4ZXIuZmFjdFRvSW5kZXgoaXhlci50YWJsZSgnJHtyb290LnRhYmxlfScpLCBxdWVyeSR7aXh9KTtcXG5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvZGUgKz0gYHZhciByb3dzJHtpeH0gPSBpeGVyLnRhYmxlKCcke3Jvb3QudGFibGV9JykudGFibGU7XFxuYDtcbiAgICAgICAgfVxuICAgICAgICBpZighcm9vdC5uZWdhdGVkKSB7XG4gICAgICAgICAgY29kZSArPSBgZm9yKHZhciByb3dJeCR7aXh9ID0gMCwgcm93c0xlbiR7aXh9ID0gcm93cyR7aXh9Lmxlbmd0aDsgcm93SXgke2l4fSA8IHJvd3NMZW4ke2l4fTsgcm93SXgke2l4fSsrKSB7XFxuYFxuICAgICAgICAgIGNvZGUgKz0gYHZhciByb3cke2l4fSA9IHJvd3Mke2l4fVtyb3dJeCR7aXh9XTtcXG5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvZGUgKz0gYGlmKCFyb3dzJHtpeH0ubGVuZ3RoKSB7XFxuYFxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgY2hpbGQgb2Ygcm9vdC5jaGlsZHJlbikge1xuICAgICAgICAgIGNvZGUgKz0gdGhpcy5jb21waWxlQVNUKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9IFwifVxcblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXN1bHRcIjpcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yKHZhciByZXN1bHQgb2Ygcm9vdC5yZXN1bHRzKSB7XG4gICAgICAgICAgaWYocmVzdWx0LnR5cGUgPT09IFwicGxhY2Vob2xkZXJcIikge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKFwidW5kZWZpbmVkXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaXggPSByZXN1bHQuaXg7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goYHJvdyR7aXh9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvZGUgKz0gYHVucHJvamVjdGVkLnB1c2goJHtyZXN1bHRzLmpvaW4oXCIsIFwiKX0pO1xcbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNvcnRcIjpcbiAgICAgICAgY29kZSArPSBnZW5lcmF0ZVVucHJvamVjdGVkU29ydGVyQ29kZShyb290LnNpemUsIHJvb3Quc29ydHMpK1wiXFxuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFnZ3JlZ2F0ZSBsb29wXCI6XG4gICAgICAgIHZhciBwcm9qZWN0aW9uID0gXCJcIjtcbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZUNhbGxzID0gW107XG4gICAgICAgIHZhciBhZ2dyZWdhdGVTdGF0ZXMgPSBbXTtcbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZVJlc2V0cyA9IFtdO1xuICAgICAgICB2YXIgdW5wcm9qZWN0ZWQgPSB7fTtcbiAgICAgICAgdmFyIG9yZGluYWw6c3RyaW5nfGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIHByb3ZlbmFuY2VDb2RlO1xuICAgICAgICBmb3IobGV0IGFnZyBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYoYWdnLnR5cGUgPT09IFwiZnVuY3Rpb25DYWxsXCIpIHtcbiAgICAgICAgICAgIHVucHJvamVjdGVkW2FnZy5peF0gPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGNvbXBpbGVkID0gdGhpcy5jb21waWxlQVNUKGFnZyk7XG4gICAgICAgICAgICBjb21waWxlZCArPSBgXFxudW5wcm9qZWN0ZWRbaXggKyAke2FnZy5yZXN1bHRzSXh9XSA9IHJvdyR7YWdnLml4fTtcXG5gO1xuICAgICAgICAgICAgYWdncmVnYXRlQ2FsbHMucHVzaChjb21waWxlZCk7XG4gICAgICAgICAgICBhZ2dyZWdhdGVTdGF0ZXMucHVzaChgdmFyIHJvdyR7YWdnLml4fSA9IHt9O2ApO1xuICAgICAgICAgICAgYWdncmVnYXRlUmVzZXRzLnB1c2goYHJvdyR7YWdnLml4fSA9IHt9O2ApO1xuICAgICAgICAgIH0gZWxzZSBpZihhZ2cudHlwZSA9PT0gXCJwcm9qZWN0aW9uXCIpIHtcbiAgICAgICAgICAgIGFnZy51bnByb2plY3RlZCA9IHVucHJvamVjdGVkO1xuICAgICAgICAgICAgcHJvamVjdGlvbiA9IHRoaXMuY29tcGlsZUFTVChhZ2cpO1xuICAgICAgICAgIH0gZWxzZSBpZihhZ2cudHlwZSA9PT0gXCJvcmRpbmFsXCIpIHtcbiAgICAgICAgICAgIG9yZGluYWwgPSBgdW5wcm9qZWN0ZWRbaXgrJHt0aGlzLnVucHJvamVjdGVkU2l6ZSAtIDF9XSA9IHJlc3VsdENvdW50O1xcbmA7XG4gICAgICAgICAgfSBlbHNlIGlmKGFnZy50eXBlID09PSBcInByb3ZlbmFuY2VcIikge1xuICAgICAgICAgICAgcHJvdmVuYW5jZUNvZGUgPSB0aGlzLmNvbXBpbGVBU1QoYWdnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZUNhbGxzQ29kZSA9IGFnZ3JlZ2F0ZUNhbGxzLmpvaW4oXCJcIik7XG5cbiAgICAgICAgdmFyIGRpZmZlcmVudEdyb3VwQ2hlY2tzID0gW107XG4gICAgICAgIHZhciBncm91cENoZWNrID0gYGZhbHNlYDtcbiAgICAgICAgaWYocm9vdC5ncm91cHMpIHtcbiAgICAgICAgICBmb3IobGV0IGdyb3VwIG9mIHJvb3QuZ3JvdXBzKSB7XG4gICAgICAgICAgICBsZXQgW3RhYmxlLCBmaWVsZF0gPSBncm91cDtcbiAgICAgICAgICAgIGRpZmZlcmVudEdyb3VwQ2hlY2tzLnB1c2goYHVucHJvamVjdGVkW25leHRJeCArICR7dGFibGV9XVsnJHtmaWVsZH0nXSAhPT0gdW5wcm9qZWN0ZWRbaXggKyAke3RhYmxlfV1bJyR7ZmllbGR9J11gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBDaGVjayA9IGAoJHtkaWZmZXJlbnRHcm91cENoZWNrcy5qb2luKFwiIHx8IFwiKX0pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHRzQ2hlY2sgPSBcIlwiO1xuICAgICAgICBpZihyb290LmxpbWl0ICYmIHJvb3QubGltaXQucmVzdWx0cykge1xuICAgICAgICAgIGxldCBsaW1pdFZhbHVlID0gcm9vdC5saW1pdC5yZXN1bHRzO1xuICAgICAgICAgIGxldCBvZmZzZXQgPSByb290LmxpbWl0Lm9mZnNldDtcbiAgICAgICAgICBpZihvZmZzZXQpIHtcbiAgICAgICAgICAgIGxpbWl0VmFsdWUgKz0gb2Zmc2V0O1xuICAgICAgICAgICAgcHJvamVjdGlvbiA9IGBpZihyZXN1bHRDb3VudCA+PSAke29mZnNldH0pIHtcbiAgICAgICAgICAgICAgJHtwcm9qZWN0aW9ufVxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdHNDaGVjayA9IGBpZihyZXN1bHRDb3VudCA9PT0gJHtsaW1pdFZhbHVlfSkgYnJlYWs7YDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ3JvdXBMaW1pdENoZWNrID0gXCJcIjtcbiAgICAgICAgaWYocm9vdC5saW1pdCAmJiByb290LmxpbWl0LnBlckdyb3VwICYmIHJvb3QuZ3JvdXBzKSB7XG4gICAgICAgICAgbGV0IGxpbWl0VmFsdWUgPSByb290LmxpbWl0LnBlckdyb3VwO1xuICAgICAgICAgIGxldCBvZmZzZXQgPSByb290LmxpbWl0Lm9mZnNldDtcbiAgICAgICAgICBpZihvZmZzZXQpIHtcbiAgICAgICAgICAgIGxpbWl0VmFsdWUgKz0gb2Zmc2V0O1xuICAgICAgICAgICAgYWdncmVnYXRlQ2FsbHNDb2RlID0gYGlmKHBlckdyb3VwQ291bnQgPj0gJHtvZmZzZXR9KSB7XG4gICAgICAgICAgICAgICR7YWdncmVnYXRlQ2FsbHNDb2RlfVxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3VwTGltaXRDaGVjayA9IGBpZihwZXJHcm91cENvdW50ID09PSAke2xpbWl0VmFsdWV9KSB7XG4gICAgICAgICAgICB3aGlsZSghZGlmZmVyZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgbmV4dEl4ICs9ICR7cm9vdC5zaXplfTtcbiAgICAgICAgICAgICAgaWYobmV4dEl4ID49IGxlbikgYnJlYWs7XG4gICAgICAgICAgICAgIGdyb3VwSW5mb1tuZXh0SXhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICBkaWZmZXJlbnRHcm91cCA9ICR7Z3JvdXBDaGVja307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfWA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwRGlmZmVyZW5jZSA9IFwiXCI7XG4gICAgICAgIHZhciBncm91cEluZm8gPSBcIlwiO1xuICAgICAgICBpZih0aGlzLmdyb3Vwcykge1xuICAgICAgICAgIGdyb3VwSW5mbyA9IFwiZ3JvdXBJbmZvW2l4XSA9IHJlc3VsdENvdW50O1wiO1xuICAgICAgICAgIGxldCBncm91cFByb2plY3Rpb24gPSBgJHtwcm9qZWN0aW9ufXJlc3VsdENvdW50Kys7YFxuICAgICAgICAgIGlmKHJvb3QubGltaXQgJiYgcm9vdC5saW1pdC5vZmZzZXQpIHtcbiAgICAgICAgICAgIGdyb3VwUHJvamVjdGlvbiA9IGBpZihwZXJHcm91cENvdW50ID4gJHtyb290LmxpbWl0Lm9mZnNldH0pIHtcbiAgICAgICAgICAgICAgJHtncm91cFByb2plY3Rpb259XG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIGdyb3VwSW5mbyA9IGBpZihwZXJHcm91cENvdW50ID49ICR7cm9vdC5saW1pdC5vZmZzZXR9KSB7XG4gICAgICAgICAgICAgICR7Z3JvdXBJbmZvfVxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3VwRGlmZmVyZW5jZSA9IGBcbiAgICAgICAgICBwZXJHcm91cENvdW50KytcbiAgICAgICAgICB2YXIgZGlmZmVyZW50R3JvdXAgPSAke2dyb3VwQ2hlY2t9O1xuICAgICAgICAgICR7Z3JvdXBMaW1pdENoZWNrfVxuICAgICAgICAgIGlmKGRpZmZlcmVudEdyb3VwKSB7XG4gICAgICAgICAgICAke2dyb3VwUHJvamVjdGlvbn1cbiAgICAgICAgICAgICR7YWdncmVnYXRlUmVzZXRzLmpvaW4oXCJcXG5cIil9XG4gICAgICAgICAgICBwZXJHcm91cENvdW50ID0gMDtcbiAgICAgICAgICB9XFxuYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBncm91cERpZmZlcmVuY2UgPSBcInJlc3VsdENvdW50Kys7XFxuXCI7XG4gICAgICAgICAgZ3JvdXBJbmZvID0gXCJncm91cEluZm9baXhdID0gMDtcIlxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZXJlIGFyZSBuZWl0aGVyIGFnZ3JlZ2F0ZXMgdG8gY2FsY3VsYXRlIG5vciBncm91cHMgdG8gYnVpbGQsXG4gICAgICAgIC8vIHRoZW4gd2UganVzdCBuZWVkIHRvIHdvcnJ5IGFib3V0IGxpbWl0aW5nXG4gICAgICAgIGlmKCF0aGlzLmdyb3VwcyAmJiBhZ2dyZWdhdGVDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb2RlID0gYHZhciBpeCA9IDA7XG4gICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgdmFyIGxlbiA9IHVucHJvamVjdGVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIHdoaWxlKGl4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICR7cmVzdWx0c0NoZWNrfVxuICAgICAgICAgICAgICAgICAgICAke29yZGluYWwgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgJHtwcm92ZW5hbmNlQ29kZX1cbiAgICAgICAgICAgICAgICAgICAgJHtwcm9qZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICBncm91cEluZm9baXhdID0gcmVzdWx0Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGl4ICs9ICR7cm9vdC5zaXplfTtcbiAgICAgICAgICAgICAgICAgIH1cXG5gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvZGUgPSBgdmFyIHJlc3VsdENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgcGVyR3JvdXBDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGl4ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEl4ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gdW5wcm9qZWN0ZWQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICR7YWdncmVnYXRlU3RhdGVzLmpvaW4oXCJcXG5cIil9XG4gICAgICAgICAgICAgICAgd2hpbGUoaXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICR7YWdncmVnYXRlQ2FsbHNDb2RlfVxuICAgICAgICAgICAgICAgICAgJHtncm91cEluZm99XG4gICAgICAgICAgICAgICAgICAke29yZGluYWwgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICR7cHJvdmVuYW5jZUNvZGV9XG4gICAgICAgICAgICAgICAgICBpZihpeCArICR7cm9vdC5zaXplfSA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICR7cHJvamVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBuZXh0SXggKz0gJHtyb290LnNpemV9O1xuICAgICAgICAgICAgICAgICAgJHtncm91cERpZmZlcmVuY2V9XG4gICAgICAgICAgICAgICAgICAke3Jlc3VsdHNDaGVja31cbiAgICAgICAgICAgICAgICAgIGl4ID0gbmV4dEl4O1xuICAgICAgICAgICAgICAgIH1cXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm9qZWN0aW9uXCI6XG4gICAgICAgIHZhciBwcm9qZWN0ZWRWYXJzID0gW107XG4gICAgICAgIHZhciBpZFN0cmluZ1BhcnRzID0gW107XG4gICAgICAgIGZvcihsZXQgbmV3RmllbGQgaW4gcm9vdC5wcm9qZWN0aW9uTWFwKSB7XG4gICAgICAgICAgbGV0IG1hcHBpbmcgPSByb290LnByb2plY3Rpb25NYXBbbmV3RmllbGRdO1xuICAgICAgICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgaWYobWFwcGluZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgICAgIGlmKG1hcHBpbmdbMV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGB1bnByb2plY3RlZFtpeCArICR7bWFwcGluZ1swXX1dYDtcbiAgICAgICAgICAgIH0gZWxzZSBpZighcm9vdC51bnByb2plY3RlZCB8fCByb290LnVucHJvamVjdGVkW21hcHBpbmdbMF1dKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gYHJvdyR7bWFwcGluZ1swXX1bJyR7bWFwcGluZ1sxXX0nXWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWx1ZSA9IGB1bnByb2plY3RlZFtpeCArICR7bWFwcGluZ1swXX1dWycke21hcHBpbmdbMV19J11gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG1hcHBpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9qZWN0ZWRWYXJzLnB1c2goYHByb2plY3RlZFsnJHtuZXdGaWVsZC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9J10gPSAke3ZhbHVlfWApO1xuICAgICAgICAgIGlkU3RyaW5nUGFydHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBwcm9qZWN0ZWRWYXJzLmpvaW4oXCI7XFxuXCIpICsgXCJcXG5cIjtcbiAgICAgICAgY29kZSArPSBgcHJvamVjdGVkLl9faWQgPSAke2lkU3RyaW5nUGFydHMuam9pbihgICsgXCJ8XCIgKyBgKX07XFxuYDtcbiAgICAgICAgY29kZSArPSBgcmVzdWx0cy5wdXNoKHByb2plY3RlZCk7XFxuYDtcbiAgICAgICAgY29kZSArPSBgcHJvamVjdGVkID0ge307XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicHJvdmVuYW5jZVwiOlxuICAgICAgICB2YXIgcHJvdmVuYW5jZSA9IFwidmFyIHByb3ZlbmFuY2VfX2lkID0gJyc7XFxuXCI7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBqb2luIG9mIHRoaXMuam9pbnMpIHtcbiAgICAgICAgICBpZihqb2luLm5lZ2F0ZWQpIGNvbnRpbnVlO1xuICAgICAgICAgIHByb3ZlbmFuY2UgKz0gYHByb3ZlbmFuY2VfX2lkID0gdGFibGVJZCArICd8JyArIHByb2plY3RlZC5fX2lkICsgJ3wnICsgcm93SW5zdGFuY2UgKyAnfCR7am9pbi50YWJsZX18JyArIHJvdyR7am9pbi5peH0uX19pZDsgXFxuYDtcbiAgICAgICAgICBwcm92ZW5hbmNlICs9IGBwcm92ZW5hbmNlLnB1c2goe3RhYmxlOiB0YWJsZUlkLCByb3c6IHByb2plY3RlZCwgXCJyb3cgaW5zdGFuY2VcIjogcm93SW5zdGFuY2UsIHNvdXJjZTogXCIke2pvaW4udGFibGV9XCIsIFwic291cmNlIHJvd1wiOiByb3cke2pvaW4uaXh9fSk7XFxuYDtcbiAgICAgICAgICBpZHMucHVzaChgcm93JHtqb2luLml4fS5fX2lkYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSA9IGB2YXIgcm93SW5zdGFuY2UgPSAke2lkcy5qb2luKFwiICsgJ3wnICsgXCIpfTtcbiAgICAgICAgJHtwcm92ZW5hbmNlfWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJldHVyblwiOlxuICAgICAgICB2YXIgcmV0dXJucyA9IFtdO1xuICAgICAgICBmb3IobGV0IGN1clZhciBvZiByb290LnZhcnMpIHtcbiAgICAgICAgICByZXR1cm5zLnB1c2goYCR7Y3VyVmFyfTogJHtjdXJWYXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBgcmV0dXJuIHske3JldHVybnMuam9pbihcIiwgXCIpfX07YDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjb2RlO1xuICB9XG4gIC8vIGdpdmVuIGEgc2V0IG9mIGNoYW5nZXMgYW5kIGEgam9pbiBvcmRlciwgZGV0ZXJtaW5lIHRoZSByb290IGZhY3RzIHRoYXQgbmVlZFxuICAvLyB0byBiZSBqb2luZWQgYWdhaW4gdG8gY292ZXIgYWxsIHRoZSBhZGRzXG4gIHJldmVyc2VKb2luKGpvaW5zKSB7XG4gICAgbGV0IGNoYW5nZWQgPSBqb2luc1swXTtcbiAgICBsZXQgcmV2ZXJzZUpvaW5NYXAgPSB7fTtcbiAgICAvLyBjb2xsZWN0IGFsbCB0aGUgY29uc3RyYWludHMgYW5kIHJldmVyc2UgdGhlbVxuICAgIGZvciAobGV0IGpvaW4gb2Ygam9pbnMpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBqb2luLmpvaW4pIHtcbiAgICAgICAgbGV0IFtzb3VyY2UsIGZpZWxkXSA9IGpvaW4uam9pbltrZXldO1xuICAgICAgICBpZiAoc291cmNlIDw9IGNoYW5nZWQuaXgpIHtcbiAgICAgICAgICBpZiAoIXJldmVyc2VKb2luTWFwW3NvdXJjZV0pIHtcbiAgICAgICAgICAgIHJldmVyc2VKb2luTWFwW3NvdXJjZV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoIXJldmVyc2VKb2luTWFwW3NvdXJjZV1bZmllbGRdKSByZXZlcnNlSm9pbk1hcFtzb3VyY2VdW2ZpZWxkXSA9IFtqb2luLml4LCBrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByZWN1cnNlID0gKGpvaW5zLCBqb2luSXgpID0+IHtcbiAgICAgIHZhciBjb2RlID0gXCJcIjtcbiAgICAgIGlmIChqb2luSXggPj0gam9pbnMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBcIm90aGVycy5wdXNoKHJvdzApXCI7XG4gICAgICB9XG4gICAgICBsZXQge3RhYmxlLCBpeCwgbmVnYXRlZH0gPSBqb2luc1tqb2luSXhdO1xuICAgICAgbGV0IGpvaW5NYXAgPSBqb2luc1tqb2luSXhdLmpvaW47XG4gICAgICAvLyB3ZSBvbmx5IGNhcmUgYWJvdXQgdGhpcyBndXkgaWYgaGUncyBqb2luZWQgd2l0aCBhdCBsZWFzdCBvbmUgdGhpbmdcbiAgICAgIGlmICghcmV2ZXJzZUpvaW5NYXBbaXhdICYmIGpvaW5JeCA8IGpvaW5zLmxlbmd0aCAtIDEpIHJldHVybiByZWN1cnNlKGpvaW5zLCBqb2luSXggKyAxKTtcbiAgICAgIGVsc2UgaWYoIXJldmVyc2VKb2luTWFwKSByZXR1cm4gXCJcIjtcbiAgICAgIGxldCBtYXBwaW5ncyA9IFtdO1xuICAgICAgZm9yIChsZXQga2V5IGluIHJldmVyc2VKb2luTWFwW2l4XSkge1xuICAgICAgICBsZXQgW3NvdXJjZUl4LCBmaWVsZF0gPSByZXZlcnNlSm9pbk1hcFtpeF1ba2V5XTtcbiAgICAgICAgaWYoc291cmNlSXggPT09IGNoYW5nZWQuaXggfHwgcmV2ZXJzZUpvaW5NYXBbc291cmNlSXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtYXBwaW5ncy5wdXNoKGAnJHtrZXl9Jzogcm93JHtzb3VyY2VJeH1bJyR7ZmllbGR9J11gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yKGxldCBrZXkgaW4gam9pbk1hcCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBqb2luTWFwW2tleV07XG4gICAgICAgIGlmKHZhbHVlLmNvbnN0cnVjdG9yICE9PSBBcnJheSkge1xuICAgICAgICAgIG1hcHBpbmdzLnB1c2goYCcke2tleX0nOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5lZ2F0ZWQpIHtcbiAgICAgICAgLy9AVE9ETzogZGVhbCB3aXRoIG5lZ2F0aW9uO1xuICAgICAgfVxuICAgICAgY29kZSArPSBgXG4gICAgICAgICAgICB2YXIgcm93cyR7aXh9ID0gZXZlLmZpbmQoJyR7dGFibGV9JywgeyR7bWFwcGluZ3Muam9pbihcIiwgXCIpIH19KTtcbiAgICAgICAgICAgIGZvcih2YXIgcm93c0l4JHtpeH0gPSAwLCByb3dzTGVuJHtpeH0gPSByb3dzJHtpeH0ubGVuZ3RoOyByb3dzSXgke2l4fSA8IHJvd3NMZW4ke2l4fTsgcm93c0l4JHtpeH0rKykge1xuICAgICAgICAgICAgICAgIHZhciByb3cke2l4fSA9IHJvd3Mke2l4fVtyb3dzSXgke2l4fV07XG4gICAgICAgICAgICAgICAgJHtyZWN1cnNlKGpvaW5zLCBqb2luSXggKyAxKSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuICAgIHJldHVybiByZWN1cnNlKGpvaW5zLCAxKTtcblx0fVxuICBjb21waWxlSW5jcmVtZW50YWxSb3dGaW5kZXJDb2RlKCkge1xuICAgICAgbGV0IGNvZGUgPSBcInZhciBvdGhlcnMgPSBbXTtcXG5cIjtcbiAgICAgIGxldCByZXZlcnNlZCA9IHRoaXMuam9pbnMuc2xpY2UoKS5yZXZlcnNlKCk7XG4gICAgICBsZXQgY2hlY2tzID0gW107XG4gICAgICBsZXQgaXggPSAwO1xuICAgICAgZm9yIChsZXQgam9pbiBvZiByZXZlcnNlZCkge1xuICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gZG8gdGhpcyBmb3IgdGhlIHJvb3RcbiAgICAgICAgICBpZiAoaXggPT09IHJldmVyc2VkLmxlbmd0aCAtIDEpIGJyZWFrO1xuICAgICAgICAgIGNoZWNrcy5wdXNoKGBcblx0XHRcdGlmKGNoYW5nZXNbXCIke2pvaW4udGFibGV9XCJdICYmIGNoYW5nZXNbXCIke2pvaW4udGFibGV9XCJdLmFkZHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hhbmdlcyR7am9pbi5peH0gPSBjaGFuZ2VzW1wiJHtqb2luLnRhYmxlfVwiXS5hZGRzO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgY2hhbmdlSXgke2pvaW4uaXh9ID0gMCwgY2hhbmdlTGVuJHtqb2luLml4fSA9IGN1ckNoYW5nZXMke2pvaW4uaXh9Lmxlbmd0aDsgY2hhbmdlSXgke2pvaW4uaXh9IDwgY2hhbmdlTGVuJHtqb2luLml4fTsgY2hhbmdlSXgke2pvaW4uaXh9KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyR7am9pbi5peH0gPSBjdXJDaGFuZ2VzJHtqb2luLml4fVtjaGFuZ2VJeCR7am9pbi5peH1dO1xuXHRcdFx0XHRcdCR7dGhpcy5yZXZlcnNlSm9pbihyZXZlcnNlZC5zbGljZShpeCkpfVxuXHRcdFx0XHR9XG5cdFx0XHR9YCk7XG4gICAgICAgICAgaXgrKztcbiAgICAgIH1cbiAgICAgIGNvZGUgKz0gY2hlY2tzLmpvaW4oXCIgZWxzZVwiKTtcbiAgICAgIHZhciBsYXN0ID0gcmV2ZXJzZWRbaXhdO1xuICAgICAgY29kZSArPSBgXG5cdFx0XHRpZihjaGFuZ2VzW1wiJHtsYXN0LnRhYmxlfVwiXSAmJiBjaGFuZ2VzW1wiJHtsYXN0LnRhYmxlfVwiXS5hZGRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1ckNoYW5nZXMgPSBjaGFuZ2VzW1wiJHtsYXN0LnRhYmxlfVwiXS5hZGRzO1xuXHRcdFx0XHRmb3IodmFyIGNoYW5nZUl4ID0gMCwgY2hhbmdlTGVuID0gY3VyQ2hhbmdlcy5sZW5ndGg7IGNoYW5nZUl4IDwgY2hhbmdlTGVuOyBjaGFuZ2VJeCsrKSB7XG5cdFx0XHRcdFx0b3RoZXJzLnB1c2goY3VyQ2hhbmdlc1tjaGFuZ2VJeF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb3RoZXJzO2A7XG4gICAgICByZXR1cm4gY29kZTtcbiAgfVxuICBpbmNyZW1lbnRhbFJlbW92ZShjaGFuZ2VzKSB7XG4gICAgbGV0IGl4ZXIgPSB0aGlzLml4ZXI7XG4gICAgbGV0IHJvd3NUb1Bvc3RDaGVjayA9IFtdO1xuICAgIGxldCBwcm92ZW5hbmNlRGlmZiA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgbGV0IHJlbW92ZXMgPSBbXTtcbiAgICBsZXQgaW5kZXhlcyA9IGl4ZXIudGFibGUoXCJwcm92ZW5hbmNlXCIpLmluZGV4ZXM7XG4gICAgbGV0IHNvdXJjZVJvd0xvb2t1cCA9IGluZGV4ZXNbXCJzb3VyY2V8c291cmNlIHJvd3x0YWJsZVwiXS5pbmRleDtcbiAgICBsZXQgcm93SW5zdGFuY2VMb29rdXAgPSBpbmRleGVzW1wicm93IGluc3RhbmNlfHRhYmxlXCJdLmluZGV4O1xuICAgIGxldCB0YWJsZVJvd0xvb2t1cCA9IGluZGV4ZXNbXCJyb3d8dGFibGVcIl0uaW5kZXg7XG4gICAgbGV0IHByb3ZlbmFuY2VSZW1vdmVzID0gW107XG4gICAgbGV0IHZpc2l0ZWQgPSB7fVxuICAgIGZvcihsZXQgam9pbiBvZiB0aGlzLmpvaW5zKSB7XG4gICAgICBsZXQgY2hhbmdlID0gY2hhbmdlc1tqb2luLnRhYmxlXTtcbiAgICAgIGlmKCF2aXNpdGVkW2pvaW4udGFibGVdICYmIGNoYW5nZSAmJiBjaGFuZ2UucmVtb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgdmlzaXRlZFtqb2luLnRhYmxlXSA9IHRydWU7XG4gICAgICAgIGZvcihsZXQgcmVtb3ZlIG9mIGNoYW5nZS5yZW1vdmVzKSB7XG4gICAgICAgICAgbGV0IHByb3ZlbmFuY2VzID0gc291cmNlUm93TG9va3VwW2pvaW4udGFibGUgKyAnfCcgKyByZW1vdmUuX19pZCArICd8JyArIHRoaXMubmFtZV1cbiAgICAgICAgICBpZihwcm92ZW5hbmNlcykge1xuICAgICAgICAgICAgZm9yKGxldCBwcm92ZW5hbmNlIG9mIHByb3ZlbmFuY2VzKSB7XG4gICAgICAgICAgICAgIGlmKCF2aXNpdGVkW3Byb3ZlbmFuY2VbXCJyb3cgaW5zdGFuY2VcIl1dKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZFtwcm92ZW5hbmNlW1wicm93IGluc3RhbmNlXCJdXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHJlbGF0ZWRQcm92ZW5hbmNlID0gcm93SW5zdGFuY2VMb29rdXBbcHJvdmVuYW5jZVtcInJvdyBpbnN0YW5jZVwiXSArICd8JyArIHByb3ZlbmFuY2UudGFibGVdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgcmVsYXRlZCBvZiByZWxhdGVkUHJvdmVuYW5jZSkge1xuICAgICAgICAgICAgICAgICAgcHJvdmVuYW5jZVJlbW92ZXMucHVzaChyZWxhdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcm93c1RvUG9zdENoZWNrLnB1c2gocHJvdmVuYW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHByb3ZlbmFuY2VEaWZmLnJlbW92ZUZhY3RzKFwicHJvdmVuYW5jZVwiLCBwcm92ZW5hbmNlUmVtb3Zlcyk7XG4gICAgaXhlci5hcHBseURpZmZJbmNyZW1lbnRhbChwcm92ZW5hbmNlRGlmZik7XG4gICAgbGV0IGlzRWRiID0gaXhlci5lZGJUYWJsZXM7XG4gICAgZm9yKGxldCByb3cgb2Ygcm93c1RvUG9zdENoZWNrKSB7XG4gICAgICBsZXQgc3VwcG9ydHMgPSB0YWJsZVJvd0xvb2t1cFtyb3cucm93Ll9faWQgKyAnfCcgKyByb3cudGFibGVdO1xuICAgICAgaWYoIXN1cHBvcnRzIHx8IHN1cHBvcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZW1vdmVzLnB1c2gocm93LnJvdyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVzO1xuICB9XG4gIGNhbkJlSW5jcmVtZW50YWwoKSB7XG4gICAgaWYodGhpcy5hZ2dyZWdhdGVzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmKHRoaXMuc29ydHMpIHJldHVybiBmYWxzZTtcbiAgICBpZih0aGlzLmdyb3VwcykgcmV0dXJuIGZhbHNlO1xuICAgIGlmKHRoaXMubGltaXRJbmZvKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yKGxldCBqb2luIG9mIHRoaXMuam9pbnMpIHtcbiAgICAgIGlmKGpvaW4ubmVnYXRlZCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZighdGhpcy5qb2lucy5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb21waWxlKCkge1xuICAgIGxldCBhc3QgPSB0aGlzLnRvQVNUKCk7XG4gICAgbGV0IGNvZGUgPSB0aGlzLmNvbXBpbGVBU1QoYXN0KTtcbiAgICB0aGlzLmNvbXBpbGVkID0gbmV3IEZ1bmN0aW9uKFwiaXhlclwiLCBcIlF1ZXJ5RnVuY3Rpb25zXCIsIFwidGFibGVJZFwiLCBcInJvb3RSb3dzXCIsIGNvZGUpO1xuICAgIGlmKHRoaXMuY2FuQmVJbmNyZW1lbnRhbCgpKSB7XG4gICAgICB0aGlzLmluY3JlbWVudGFsUm93RmluZGVyID0gbmV3IEZ1bmN0aW9uKFwiY2hhbmdlc1wiLCB0aGlzLmNvbXBpbGVJbmNyZW1lbnRhbFJvd0ZpbmRlckNvZGUoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50YWxSb3dGaW5kZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBleGVjKCkge1xuICAgIGlmKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuY29tcGlsZSgpO1xuICAgIH1cbiAgICBsZXQgcm9vdCA9IHRoaXMuam9pbnNbMF07XG4gICAgbGV0IHJvd3M7XG4gICAgaWYocm9vdCkge1xuICAgICAgcm93cyA9IHRoaXMuaXhlci5maW5kKHJvb3QudGFibGUsIHJvb3Quam9pbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvd3MgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29tcGlsZWQodGhpcy5peGVyLCBRdWVyeUZ1bmN0aW9ucywgdGhpcy5uYW1lLCByb3dzKTtcbiAgfVxuICBleGVjSW5jcmVtZW50YWwoY2hhbmdlcywgdGFibGUpOiB7cHJvdmVuYW5jZTogYW55W10sIGFkZHM6IGFueVtdLCByZW1vdmVzOiBhbnlbXX0ge1xuICAgIGlmKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuY29tcGlsZSgpO1xuICAgIH1cbiAgICBpZih0aGlzLmluY3JlbWVudGFsUm93RmluZGVyKSB7XG4gICAgICBsZXQgcG90ZW50aWFsUm93cyA9IHRoaXMuaW5jcmVtZW50YWxSb3dGaW5kZXIoY2hhbmdlcyk7XG4gICAgICAvLyBpZiB0aGUgcm9vdCBzZWxlY3QgaGFzIHNvbWUgY29uc3RhbnQgZmlsdGVycywgdGhlblxuICAgICAgLy8gdGhlIGFib3ZlIHJvd3MgbmVlZCB0byBiZSBmaWx0ZXJlZCBkb3duIHRvIG9ubHkgdGhvc2UgdGhhdFxuICAgICAgLy8gbWF0Y2guXG4gICAgICBsZXQgcm93cyA9IFtdO1xuICAgICAgbGV0IHJvb3QgPSB0aGlzLmpvaW5zWzBdO1xuICAgICAgbGV0IHJvb3RLZXlzID0gT2JqZWN0LmtleXMocm9vdC5qb2luKTtcbiAgICAgIGlmKHJvb3RLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcm93TG9vcDogZm9yKGxldCByb3cgb2YgcG90ZW50aWFsUm93cykge1xuICAgICAgICAgIGZvcihsZXQga2V5IG9mIHJvb3RLZXlzKSB7XG4gICAgICAgICAgICBpZihyb3dba2V5XSAhPT0gcm9vdC5qb2luW2tleV0pIGNvbnRpbnVlIHJvd0xvb3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3dzID0gcG90ZW50aWFsUm93cztcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHRzID0gdGhpcy5jb21waWxlZCh0aGlzLml4ZXIsIFF1ZXJ5RnVuY3Rpb25zLCB0aGlzLm5hbWUsIHJvd3MpO1xuICAgICAgbGV0IGFkZHMgPSBbXTtcbiAgICAgIGxldCBwcmV2SGFzaGVzID0gdGFibGUuZmFjdEhhc2g7XG4gICAgICBsZXQgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2SGFzaGVzKTtcbiAgICAgIGxldCBzdWdnZXN0ZWRSZW1vdmVzID0gdGhpcy5pbmNyZW1lbnRhbFJlbW92ZShjaGFuZ2VzKTtcbiAgICAgIGxldCByZWFsRGlmZiA9IGRpZmZBZGRzQW5kUmVtb3ZlcyhyZXN1bHRzLnJlc3VsdHMsIHN1Z2dlc3RlZFJlbW92ZXMpO1xuICAgICAgZm9yKGxldCByZXN1bHQgb2YgcmVhbERpZmYuYWRkcykge1xuICAgICAgICBsZXQgaWQgPSByZXN1bHQuX19pZDtcbiAgICAgICAgaWYocHJldkhhc2hlc1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFkZHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgZGlmZiA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgICBkaWZmLmFkZE1hbnkoXCJwcm92ZW5hbmNlXCIsIHJlc3VsdHMucHJvdmVuYW5jZSk7XG4gICAgICB0aGlzLml4ZXIuYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZik7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIklOQyBQUk9WIERJRkZcIiwgdGhpcy5uYW1lLCBkaWZmLmxlbmd0aCk7XG4gICAgICByZXR1cm4ge3Byb3ZlbmFuY2U6IHJlc3VsdHMucHJvdmVuYW5jZSwgYWRkcywgcmVtb3ZlczogcmVhbERpZmYucmVtb3Zlc307XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gdGhpcy5leGVjKCk7XG4gICAgICBsZXQgYWRkcyA9IFtdO1xuICAgICAgbGV0IHJlbW92ZXMgPSBbXTtcbiAgICAgIGxldCBwcmV2SGFzaGVzID0gdGFibGUuZmFjdEhhc2g7XG4gICAgICBsZXQgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2SGFzaGVzKTtcbiAgICAgIGxldCBuZXdIYXNoZXMgPSB7fTtcbiAgICAgIGZvcihsZXQgcmVzdWx0IG9mIHJlc3VsdHMucmVzdWx0cykge1xuICAgICAgICBsZXQgaWQgPSByZXN1bHQuX19pZDtcbiAgICAgICAgbmV3SGFzaGVzW2lkXSA9IHJlc3VsdDtcbiAgICAgICAgaWYocHJldkhhc2hlc1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFkZHMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IobGV0IGhhc2ggb2YgcHJldktleXMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbmV3SGFzaGVzW2hhc2hdO1xuICAgICAgICBpZih2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgIHJlbW92ZXMucHVzaChwcmV2SGFzaGVzW2hhc2hdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHJlYWxEaWZmID0gZGlmZkFkZHNBbmRSZW1vdmVzKGFkZHMsIHJlbW92ZXMpO1xuICAgICAgbGV0IGRpZmYgPSB0aGlzLml4ZXIuZGlmZigpO1xuICAgICAgZGlmZi5yZW1vdmUoXCJwcm92ZW5hbmNlXCIsIHt0YWJsZTogdGhpcy5uYW1lfSk7XG4gICAgICBkaWZmLmFkZE1hbnkoXCJwcm92ZW5hbmNlXCIsIHJlc3VsdHMucHJvdmVuYW5jZSk7XG4gICAgICB0aGlzLml4ZXIuYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZik7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkZVTEwgUFJPViBTSVpFXCIsIHRoaXMubmFtZSwgZGlmZi5sZW5ndGgpO1xuICAgICAgcmV0dXJuIHtwcm92ZW5hbmNlOiByZXN1bHRzLnByb3ZlbmFuY2UsIGFkZHM6IHJlYWxEaWZmLmFkZHMsIHJlbW92ZXM6IHJlYWxEaWZmLnJlbW92ZXN9O1xuICAgIH1cbiAgfVxuICBkZWJ1ZygpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmNvbXBpbGVBU1QodGhpcy50b0FTVCgpKSk7XG4gICAgY29uc29sZS50aW1lKFwiZXhlY1wiKTtcbiAgICB2YXIgcmVzdWx0cyA9IHRoaXMuZXhlYygpO1xuICAgIGNvbnNvbGUudGltZUVuZChcImV4ZWNcIik7XG4gICAgY29uc29sZS5sb2cocmVzdWx0cyk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaW9uIHtcbiAgbmFtZTtcbiAgdGFibGVzO1xuICBzb3VyY2VzO1xuICBpc1N0YXRlZnVsO1xuICBoYXNoZXI7XG4gIGRpcnR5O1xuICBwcmV2O1xuICBjb21waWxlZDtcbiAgaXhlcjtcbiAgY29uc3RydWN0b3IoaXhlciwgbmFtZSA9IFwidW5rbm93blwiKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLml4ZXIgPSBpeGVyO1xuICAgIHRoaXMudGFibGVzID0gW107XG4gICAgdGhpcy5zb3VyY2VzID0gW107XG4gICAgdGhpcy5pc1N0YXRlZnVsID0gZmFsc2U7XG4gICAgdGhpcy5wcmV2ID0ge3Jlc3VsdHM6IFtdLCBoYXNoZXM6IHt9fTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBjaGFuZ2VzZXQoaXhlcjpJbmRleGVyKSB7XG4gICAgbGV0IGRpZmYgPSBpeGVyLmRpZmYoKTtcbiAgICBkaWZmLmFkZChcInZpZXdcIiwge3ZpZXc6IHRoaXMubmFtZSwga2luZDogXCJ1bmlvblwifSk7XG4gICAgZm9yKGxldCBzb3VyY2Ugb2YgdGhpcy5zb3VyY2VzKSB7XG4gICAgICBpZihzb3VyY2UudHlwZSA9PT0gXCIrXCIpIHtcbiAgICAgICAgbGV0IGFjdGlvbiA9IHV1aWQoKTtcbiAgICAgICAgZGlmZi5hZGQoXCJhY3Rpb25cIiwge3ZpZXc6IHRoaXMubmFtZSwgYWN0aW9uLCBraW5kOiBcInVuaW9uXCIsICBpeDogMH0pO1xuICAgICAgICBkaWZmLmFkZChcImFjdGlvbiBzb3VyY2VcIiwge2FjdGlvbiwgXCJzb3VyY2Ugdmlld1wiOiBzb3VyY2UudGFibGV9KTtcbiAgICAgICAgZm9yKGxldCBmaWVsZCBpbiBzb3VyY2UubWFwcGluZykge1xuICAgICAgICAgIGxldCBtYXBwZWQgPSBzb3VyY2UubWFwcGluZ1tmaWVsZF07XG4gICAgICAgICAgaWYobWFwcGVkLmNvbnN0cnVjdG9yID09PSBBcnJheSkgZGlmZi5hZGQoXCJhY3Rpb24gbWFwcGluZ1wiLCB7YWN0aW9uLCBmcm9tOiBmaWVsZCwgXCJ0byBzb3VyY2VcIjogc291cmNlLnRhYmxlLCBcInRvIGZpZWxkXCI6IG1hcHBlZFswXX0pXG4gICAgICAgICAgZWxzZSBkaWZmLmFkZChcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIsIHthY3Rpb24sIGZyb206IGZpZWxkLCB2YWx1ZTogbWFwcGVkfSk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzb3VyY2UgdHlwZTogJyR7c291cmNlLnR5cGV9J2ApO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbiAgfVxuICBlbnN1cmVIYXNoZXIobWFwcGluZykge1xuICAgIGlmKCF0aGlzLmhhc2hlcikge1xuICAgICAgdGhpcy5oYXNoZXIgPSBnZW5lcmF0ZVN0cmluZ0ZuKE9iamVjdC5rZXlzKG1hcHBpbmcpKTtcbiAgICB9XG4gIH1cbiAgdW5pb24odGFibGVOYW1lLCBtYXBwaW5nKSB7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgdGhpcy5lbnN1cmVIYXNoZXIobWFwcGluZyk7XG4gICAgdGhpcy50YWJsZXMucHVzaCh0YWJsZU5hbWUpO1xuICAgIHRoaXMuc291cmNlcy5wdXNoKHt0eXBlOiBcIitcIiwgdGFibGU6IHRhYmxlTmFtZSwgbWFwcGluZ30pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHRvQVNUKCkge1xuICAgIGxldCByb290ID0ge3R5cGU6IFwidW5pb25cIiwgY2hpbGRyZW46IFtdfTtcbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiZGVjbGFyYXRpb25cIiwgdmFyOiBcInJlc3VsdHNcIiwgdmFsdWU6IFwiW11cIn0pO1xuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IFwicHJvdmVuYW5jZVwiLCB2YWx1ZTogXCJbXVwifSk7XG5cbiAgICBsZXQgaGFzaGVzVmFsdWUgPSBcInt9XCI7XG4gICAgaWYodGhpcy5pc1N0YXRlZnVsKSB7XG4gICAgICAgIGhhc2hlc1ZhbHVlID0gXCJwcmV2SGFzaGVzXCI7XG4gICAgfVxuICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7dHlwZTogXCJkZWNsYXJhdGlvblwiLCB2YXI6IFwiaGFzaGVzXCIsIHZhbHVlOiBoYXNoZXNWYWx1ZX0pO1xuXG4gICAgbGV0IGl4ID0gMDtcbiAgICBmb3IobGV0IHNvdXJjZSBvZiB0aGlzLnNvdXJjZXMpIHtcbiAgICAgIGxldCBhY3Rpb247XG4gICAgICBpZihzb3VyY2UudHlwZSA9PT0gXCIrXCIpIHtcbiAgICAgICAgYWN0aW9uID0ge3R5cGU6IFwicmVzdWx0XCIsIGl4LCBjaGlsZHJlbjogW3t0eXBlOiBcInByb3ZlbmFuY2VcIiwgc291cmNlLCBpeH1dfTtcbiAgICAgIH1cbiAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaCh7XG4gICAgICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgICAgIGl4LFxuICAgICAgICB0YWJsZTogc291cmNlLnRhYmxlLFxuICAgICAgICBtYXBwaW5nOiBzb3VyY2UubWFwcGluZyxcbiAgICAgICAgY2hpbGRyZW46IFthY3Rpb25dLFxuICAgICAgfSk7XG4gICAgICBpeCsrO1xuICAgIH1cbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwiaGFzaGVzVG9SZXN1bHRzXCJ9KTtcbiAgICByb290LmNoaWxkcmVuLnB1c2goe3R5cGU6IFwicmV0dXJuXCIsIHZhcnM6IFtcInJlc3VsdHNcIiwgXCJoYXNoZXNcIiwgXCJwcm92ZW5hbmNlXCJdfSk7XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cbiAgY29tcGlsZUFTVChyb290KSB7XG4gICAgbGV0IGNvZGUgPSBcIlwiO1xuICAgIGxldCB0eXBlID0gcm9vdC50eXBlO1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICBjYXNlIFwidW5pb25cIjpcbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRlY2xhcmF0aW9uXCI6XG4gICAgICAgIGNvZGUgKz0gYHZhciAke3Jvb3QudmFyfSA9ICR7cm9vdC52YWx1ZX07XFxuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIHZhciBpeCA9IHJvb3QuaXg7XG4gICAgICAgIGxldCBtYXBwaW5nSXRlbXMgPSBbXTtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gcm9vdC5tYXBwaW5nKSB7XG4gICAgICAgICAgbGV0IG1hcHBpbmcgPSByb290Lm1hcHBpbmdba2V5XTtcbiAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgaWYobWFwcGluZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiYgbWFwcGluZy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRdID0gbWFwcGluZztcbiAgICAgICAgICAgIHZhbHVlID0gYHNvdXJjZVJvdyR7aXh9Wycke2ZpZWxkfSddYDtcbiAgICAgICAgICB9IGVsc2UgaWYobWFwcGluZy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgJiYgbWFwcGluZy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGxldCBbXywgZmllbGRdID0gbWFwcGluZztcbiAgICAgICAgICAgIHZhbHVlID0gYHNvdXJjZVJvdyR7aXh9Wycke2ZpZWxkfSddYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShtYXBwaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwcGluZ0l0ZW1zLnB1c2goYCcke2tleX0nOiAke3ZhbHVlfWApXG4gICAgICAgIH1cbiAgICAgICAgY29kZSArPSBgdmFyIHNvdXJjZVJvd3Mke2l4fSA9IGNoYW5nZXNbJyR7cm9vdC50YWJsZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9J107XFxuYDtcbiAgICAgICAgY29kZSArPSBgZm9yKHZhciByb3dJeCR7aXh9ID0gMCwgcm93c0xlbiR7aXh9ID0gc291cmNlUm93cyR7aXh9Lmxlbmd0aDsgcm93SXgke2l4fSA8IHJvd3NMZW4ke2l4fTsgcm93SXgke2l4fSsrKSB7XFxuYFxuICAgICAgICBjb2RlICs9IGB2YXIgc291cmNlUm93JHtpeH0gPSBzb3VyY2VSb3dzJHtpeH1bcm93SXgke2l4fV07XFxuYDtcbiAgICAgICAgY29kZSArPSBgdmFyIG1hcHBlZFJvdyR7aXh9ID0geyR7bWFwcGluZ0l0ZW1zLmpvaW4oXCIsIFwiKX19O1xcbmBcbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGUgKz0gXCJ9XFxuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlc3VsdFwiOlxuICAgICAgICB2YXIgaXggPSByb290Lml4O1xuICAgICAgICBjb2RlICs9IGB2YXIgaGFzaCR7aXh9ID0gaGFzaGVyKG1hcHBlZFJvdyR7aXh9KTtcXG5gO1xuICAgICAgICBjb2RlICs9IGBtYXBwZWRSb3cke2l4fS5fX2lkID0gaGFzaCR7aXh9O1xcbmA7XG4gICAgICAgIGNvZGUgKz0gYGhhc2hlc1toYXNoJHtpeH1dID0gbWFwcGVkUm93JHtpeH07XFxuYDtcbiAgICAgICAgZm9yKHZhciBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29kZSArPSB0aGlzLmNvbXBpbGVBU1QoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlbW92ZVJlc3VsdFwiOlxuICAgICAgICB2YXIgaXggPSByb290Lml4O1xuICAgICAgICBjb2RlICs9IGBoYXNoZXNbaGFzaGVyKG1hcHBlZFJvdyR7aXh9KV0gPSBmYWxzZTtcXG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJoYXNoZXNUb1Jlc3VsdHNcIjpcbiAgICAgICAgY29kZSArPSBcInZhciBoYXNoS2V5cyA9IE9iamVjdC5rZXlzKGhhc2hlcyk7XFxuXCI7XG4gICAgICAgIGNvZGUgKz0gXCJmb3IodmFyIGhhc2hLZXlJeCA9IDAsIGhhc2hLZXlMZW4gPSBoYXNoS2V5cy5sZW5ndGg7IGhhc2hLZXlJeCA8IGhhc2hLZXlMZW47IGhhc2hLZXlJeCsrKSB7XFxuXCI7XG4gICAgICAgIGNvZGUgKz0gXCJ2YXIgY3VySGFzaEtleSA9IGhhc2hLZXlzW2hhc2hLZXlJeF07XCJcbiAgICAgICAgY29kZSArPSBcInZhciB2YWx1ZSA9IGhhc2hlc1tjdXJIYXNoS2V5XTtcXG5cIjtcbiAgICAgICAgY29kZSArPSBcImlmKHZhbHVlICE9PSBmYWxzZSkge1xcblwiO1xuICAgICAgICBjb2RlICs9IFwidmFsdWUuX19pZCA9IGN1ckhhc2hLZXk7XFxuXCI7XG4gICAgICAgIGNvZGUgKz0gXCJyZXN1bHRzLnB1c2godmFsdWUpO1xcblwiO1xuICAgICAgICBjb2RlICs9IFwifVxcblwiO1xuICAgICAgICBjb2RlICs9IFwifVxcblwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcm92ZW5hbmNlXCI6XG4gICAgICAgIHZhciBzb3VyY2UgPSByb290LnNvdXJjZS50YWJsZTtcbiAgICAgICAgdmFyIGl4ID0gcm9vdC5peDtcbiAgICAgICAgdmFyIHByb3ZlbmFuY2UgPSBcInZhciBwcm92ZW5hbmNlX19pZCA9ICcnO1xcblwiO1xuICAgICAgICBwcm92ZW5hbmNlICs9IGBwcm92ZW5hbmNlX19pZCA9ICcke3RoaXMubmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9fCcgKyBtYXBwZWRSb3cke2l4fS5fX2lkICsgJ3wnICsgcm93SW5zdGFuY2UgKyAnfCR7c291cmNlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKX18JyArIHNvdXJjZVJvdyR7aXh9Ll9faWQ7IFxcbmA7XG4gICAgICAgIHByb3ZlbmFuY2UgKz0gYHByb3ZlbmFuY2UucHVzaCh7dGFibGU6ICcke3RoaXMubmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9Jywgcm93OiBtYXBwZWRSb3cke2l4fSwgXCJyb3cgaW5zdGFuY2VcIjogcm93SW5zdGFuY2UsIHNvdXJjZTogXCIke3NvdXJjZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9XCIsIFwic291cmNlIHJvd1wiOiBzb3VyY2VSb3cke2l4fX0pO1xcbmA7XG4gICAgICAgIGNvZGUgPSBgdmFyIHJvd0luc3RhbmNlID0gXCIke3NvdXJjZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIil9fFwiICsgbWFwcGVkUm93JHtpeH0uX19pZDtcbiAgICAgICAgJHtwcm92ZW5hbmNlfWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJldHVyblwiOlxuICAgICAgICBjb2RlICs9IGByZXR1cm4geyR7cm9vdC52YXJzLm1hcCgobmFtZSkgPT4gYCR7bmFtZX06ICR7bmFtZX1gKS5qb2luKFwiLCBcIil9fTtgO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvZGU7XG4gIH1cbiAgY29tcGlsZSgpIHtcbiAgICBsZXQgYXN0ID0gdGhpcy50b0FTVCgpO1xuICAgIGxldCBjb2RlID0gdGhpcy5jb21waWxlQVNUKGFzdCk7XG4gICAgdGhpcy5jb21waWxlZCA9IG5ldyBGdW5jdGlvbihcIml4ZXJcIiwgXCJoYXNoZXJcIiwgXCJjaGFuZ2VzXCIsIGNvZGUpO1xuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZWJ1ZygpIHtcbiAgICBsZXQgY29kZSA9IHRoaXMuY29tcGlsZUFTVCh0aGlzLnRvQVNUKCkpO1xuICAgIGNvbnNvbGUubG9nKGNvZGUpO1xuICAgIHJldHVybiBjb2RlO1xuICB9XG4gIGV4ZWMoKSB7XG4gICAgaWYodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5jb21waWxlKCk7XG4gICAgfVxuICAgIGxldCBjaGFuZ2VzID0ge31cbiAgICBmb3IobGV0IHNvdXJjZSBvZiB0aGlzLnNvdXJjZXMpIHtcbiAgICAgIGNoYW5nZXNbc291cmNlLnRhYmxlXSA9IHRoaXMuaXhlci50YWJsZShzb3VyY2UudGFibGUpLnRhYmxlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cyA9IHRoaXMuY29tcGlsZWQodGhpcy5peGVyLCB0aGlzLmhhc2hlciwgY2hhbmdlcyk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgaW5jcmVtZW50YWxSZW1vdmUoY2hhbmdlcykge1xuICAgIGxldCBpeGVyID0gdGhpcy5peGVyO1xuICAgIGxldCByb3dzVG9Qb3N0Q2hlY2sgPSBbXTtcbiAgICBsZXQgcHJvdmVuYW5jZURpZmYgPSB0aGlzLml4ZXIuZGlmZigpO1xuICAgIGxldCByZW1vdmVzID0gW107XG4gICAgbGV0IGluZGV4ZXMgPSBpeGVyLnRhYmxlKFwicHJvdmVuYW5jZVwiKS5pbmRleGVzO1xuICAgIGxldCBzb3VyY2VSb3dMb29rdXAgPSBpbmRleGVzW1wic291cmNlfHNvdXJjZSByb3d8dGFibGVcIl0uaW5kZXg7XG4gICAgbGV0IHJvd0luc3RhbmNlTG9va3VwID0gaW5kZXhlc1tcInJvdyBpbnN0YW5jZXx0YWJsZVwiXS5pbmRleDtcbiAgICBsZXQgdGFibGVSb3dMb29rdXAgPSBpbmRleGVzW1wicm93fHRhYmxlXCJdLmluZGV4O1xuICAgIGxldCBwcm92ZW5hbmNlUmVtb3ZlcyA9IFtdO1xuICAgIGxldCB2aXNpdGVkID0ge31cbiAgICBmb3IobGV0IHNvdXJjZSBvZiB0aGlzLnNvdXJjZXMpIHtcbiAgICAgIGxldCBjaGFuZ2UgPSBjaGFuZ2VzW3NvdXJjZS50YWJsZV07XG4gICAgICBpZighdmlzaXRlZFtzb3VyY2UudGFibGVdICYmIGNoYW5nZSAmJiBjaGFuZ2UucmVtb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgdmlzaXRlZFtzb3VyY2UudGFibGVdID0gdHJ1ZTtcbiAgICAgICAgZm9yKGxldCByZW1vdmUgb2YgY2hhbmdlLnJlbW92ZXMpIHtcbiAgICAgICAgICBsZXQgcHJvdmVuYW5jZXMgPSBzb3VyY2VSb3dMb29rdXBbc291cmNlLnRhYmxlICsgJ3wnICsgcmVtb3ZlLl9faWQgKyAnfCcgKyB0aGlzLm5hbWVdXG4gICAgICAgICAgaWYocHJvdmVuYW5jZXMpIHtcbiAgICAgICAgICAgIGZvcihsZXQgcHJvdmVuYW5jZSBvZiBwcm92ZW5hbmNlcykge1xuICAgICAgICAgICAgICBpZighdmlzaXRlZFtwcm92ZW5hbmNlW1wicm93IGluc3RhbmNlXCJdXSkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRbcHJvdmVuYW5jZVtcInJvdyBpbnN0YW5jZVwiXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCByZWxhdGVkUHJvdmVuYW5jZSA9IHJvd0luc3RhbmNlTG9va3VwW3Byb3ZlbmFuY2VbXCJyb3cgaW5zdGFuY2VcIl0gKyAnfCcgKyBwcm92ZW5hbmNlLnRhYmxlXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHJlbGF0ZWQgb2YgcmVsYXRlZFByb3ZlbmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIHByb3ZlbmFuY2VSZW1vdmVzLnB1c2gocmVsYXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJvd3NUb1Bvc3RDaGVjay5wdXNoKHByb3ZlbmFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwcm92ZW5hbmNlRGlmZi5yZW1vdmVGYWN0cyhcInByb3ZlbmFuY2VcIiwgcHJvdmVuYW5jZVJlbW92ZXMpO1xuICAgIGl4ZXIuYXBwbHlEaWZmSW5jcmVtZW50YWwocHJvdmVuYW5jZURpZmYpO1xuICAgIGxldCBpc0VkYiA9IGl4ZXIuZWRiVGFibGVzO1xuICAgIGZvcihsZXQgcm93IG9mIHJvd3NUb1Bvc3RDaGVjaykge1xuICAgICAgbGV0IHN1cHBvcnRzID0gdGFibGVSb3dMb29rdXBbcm93LnJvdy5fX2lkICsgJ3wnICsgcm93LnRhYmxlXTtcbiAgICAgIGlmKCFzdXBwb3J0cyB8fCBzdXBwb3J0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVtb3Zlcy5wdXNoKHJvdy5yb3cpO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuc291cmNlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgIGxldCBzdXBwb3J0c1RvUmVtb3ZlID0gW107XG4gICAgICAgIC8vIG90aGVyd2lzZSBpZiB0aGVyZSBhcmUgc3VwcG9ydHMsIHRoZW4gd2UgbmVlZCB0byB3YWxrIHRoZSBzdXBwb3J0XG4gICAgICAgIC8vIGdyYXBoIGJhY2t3YXJkcyBhbmQgbWFrZSBzdXJlIGV2ZXJ5IHN1cHBvcnRpbmcgcm93IHRlcm1pbmF0ZXMgYXQgYW5cbiAgICAgICAgLy8gZWRiIHZhbHVlLiBJZiBub3QsIHRoZW4gdGhhdCBzdXBwb3J0IGFsc28gbmVlZHMgdG8gYmUgcmVtb3ZlZFxuICAgICAgICBmb3IobGV0IHN1cHBvcnQgb2Ygc3VwcG9ydHMpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgc3VwcG9ydCBpcyBhbHJlYWR5IGFuIGVkYiwgd2UncmUgZ29vZCB0byBnby5cbiAgICAgICAgICBpZihpc0VkYltzdXBwb3J0LnNvdXJjZV0pIGNvbnRpbnVlO1xuICAgICAgICAgIGlmKCF0YWJsZVJvd0xvb2t1cFtzdXBwb3J0W1wic291cmNlIHJvd1wiXS5fX2lkICsgJ3wnICsgc3VwcG9ydC5zb3VyY2VdKSB7XG4gICAgICAgICAgICBzdXBwb3J0c1RvUmVtb3ZlLnB1c2goc3VwcG9ydCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZ2V0IGFsbCB0aGUgc3VwcG9ydHMgZm9yIHRoaXMgc3VwcG9ydFxuICAgICAgICAgIGxldCBub2RlcyA9IHRhYmxlUm93TG9va3VwW3N1cHBvcnRbXCJzb3VyY2Ugcm93XCJdLl9faWQgKyAnfCcgKyBzdXBwb3J0LnNvdXJjZV0uc2xpY2UoKTtcbiAgICAgICAgICBsZXQgbm9kZUl4ID0gMDtcbiAgICAgICAgICAvLyBpdGVyYXRlIHRocm91Z2ggYWxsIHRoZSBub2RlcywgaWYgdGhleSBoYXZlIGZ1cnRoZXIgc3VwcG9ydHMgdGhlblxuICAgICAgICAgIC8vIGFzc3VtZSB0aGlzIG5vZGUgaXMgb2sgYW5kIGFkZCB0aG9zZSBzdXBwb3J0cyB0byB0aGUgbGlzdCBvZiBub2RlcyB0b1xuICAgICAgICAgIC8vIGNoZWNrLiBJZiB3ZSBydW4gaW50byBhIG5vZGUgd2l0aCBubyBzdXBwb3J0cyBpdCBtdXN0IGVpdGhlciBiZSBhbiBlZGJcbiAgICAgICAgICAvLyBvciBpdCdzIHVuc3VwcG9ydGVkIGFuZCB0aGlzIHJvdyBpbnN0YW5jZSBuZWVkcyB0byBiZSByZW1vdmVkLlxuICAgICAgICAgIHdoaWxlKG5vZGVJeCA8IG5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tub2RlSXhdO1xuICAgICAgICAgICAgaWYoaXNFZGJbbm9kZS5zb3VyY2VdKSB7XG4gICAgICAgICAgICAgIG5vZGVJeCsrO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBub2RlU3VwcG9ydHMgPSB0YWJsZVJvd0xvb2t1cFtub2RlW1wic291cmNlIHJvd1wiXS5fX2lkICsgJ3wnICsgbm9kZS5zb3VyY2VdO1xuICAgICAgICAgICAgaWYoIW5vZGVTdXBwb3J0cyB8fCBub2RlU3VwcG9ydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHN1cHBvcnRzVG9SZW1vdmUucHVzaChzdXBwb3J0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3IobGV0IG5vZGVTdXBwb3J0IG9mIG5vZGVTdXBwb3J0cykge1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobm9kZVN1cHBvcnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG5vZGVJeCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihzdXBwb3J0c1RvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIGFsbCB0aGUgc3VwcG9ydHNcbiAgICAgICAgICBsZXQgcHJvdmVuYW5jZVJlbW92ZXMgPSBbXTtcbiAgICAgICAgICBmb3IobGV0IHN1cHBvcnQgb2Ygc3VwcG9ydHNUb1JlbW92ZSkge1xuICAgICAgICAgICAgbGV0IHJlbGF0ZWRQcm92ZW5hbmNlID0gcm93SW5zdGFuY2VMb29rdXBbc3VwcG9ydFtcInJvdyBpbnN0YW5jZVwiXSArICd8JyArIHN1cHBvcnQudGFibGVdO1xuICAgICAgICAgICAgZm9yKGxldCByZWxhdGVkIG9mIHJlbGF0ZWRQcm92ZW5hbmNlKSB7XG4gICAgICAgICAgICAgIHByb3ZlbmFuY2VSZW1vdmVzLnB1c2gocmVsYXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBkaWZmID0gaXhlci5kaWZmKCk7XG4gICAgICAgICAgZGlmZi5yZW1vdmVGYWN0cyhcInByb3ZlbmFuY2VcIiwgcHJvdmVuYW5jZVJlbW92ZXMpO1xuICAgICAgICAgIGl4ZXIuYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZik7XG4gICAgICAgICAgLy8gbm93IHRoYXQgYWxsIHRoZSB1bnN1cHBvcnRlZCBwcm92ZW5hbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCwgY2hlY2sgaWYgdGhlcmUncyBhbnl0aGluZ1xuICAgICAgICAgIC8vIGxlZnQuXG4gICAgICAgICAgaWYoIXRhYmxlUm93TG9va3VwW3Jvdy5yb3cuX19pZCArICd8JyArIHJvdy50YWJsZV0gfHwgdGFibGVSb3dMb29rdXBbcm93LnJvdy5fX2lkICsgJ3wnICsgcm93LnRhYmxlXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlbW92ZXMucHVzaChyb3cucm93KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbW92ZXM7XG4gIH1cbiAgZXhlY0luY3JlbWVudGFsKGNoYW5nZXMsIHRhYmxlKToge3Byb3ZlbmFuY2U6IGFueVtdLCBhZGRzOiBhbnlbXSwgcmVtb3ZlczogYW55W119IHtcbiAgICBpZih0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLmNvbXBpbGUoKTtcbiAgICB9XG5cbiAgICBsZXQgc291cmNlQ2hhbmdlcyA9IHt9XG4gICAgZm9yKGxldCBzb3VyY2Ugb2YgdGhpcy5zb3VyY2VzKSB7XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICBpZighY2hhbmdlc1tzb3VyY2UudGFibGVdKSB7XG4gICAgICAgIHZhbHVlID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGNoYW5nZXNbc291cmNlLnRhYmxlXS5hZGRzO1xuICAgICAgfVxuICAgICAgc291cmNlQ2hhbmdlc1tzb3VyY2UudGFibGVdID0gdmFsdWU7XG4gICAgfVxuICAgIGxldCByZXN1bHRzID0gdGhpcy5jb21waWxlZCh0aGlzLml4ZXIsIHRoaXMuaGFzaGVyLCBzb3VyY2VDaGFuZ2VzKTtcbiAgICBsZXQgYWRkcyA9IFtdO1xuICAgIGxldCBwcmV2SGFzaGVzID0gdGFibGUuZmFjdEhhc2g7XG4gICAgbGV0IHByZXZLZXlzID0gT2JqZWN0LmtleXMocHJldkhhc2hlcyk7XG4gICAgbGV0IHN1Z2dlc3RlZFJlbW92ZXMgPSB0aGlzLmluY3JlbWVudGFsUmVtb3ZlKGNoYW5nZXMpO1xuICAgIGxldCByZWFsRGlmZiA9IGRpZmZBZGRzQW5kUmVtb3ZlcyhyZXN1bHRzLnJlc3VsdHMsIHN1Z2dlc3RlZFJlbW92ZXMpO1xuICAgIGZvcihsZXQgcmVzdWx0IG9mIHJlYWxEaWZmLmFkZHMpIHtcbiAgICAgIGxldCBpZCA9IHJlc3VsdC5fX2lkO1xuICAgICAgaWYocHJldkhhc2hlc1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhZGRzLnB1c2gocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRpZmYgPSB0aGlzLml4ZXIuZGlmZigpO1xuICAgIGRpZmYuYWRkTWFueShcInByb3ZlbmFuY2VcIiwgcmVzdWx0cy5wcm92ZW5hbmNlKTtcbiAgICB0aGlzLml4ZXIuYXBwbHlEaWZmSW5jcmVtZW50YWwoZGlmZik7XG4gICAgcmV0dXJuIHtwcm92ZW5hbmNlOiByZXN1bHRzLnByb3ZlbmFuY2UsIGFkZHMsIHJlbW92ZXM6IHJlYWxEaWZmLnJlbW92ZXN9O1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBCdWlsdGluIFByaW1pdGl2ZXNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnJ1bnRpbWUuZGVmaW5lKFwiY291bnRcIiwge2FnZ3JlZ2F0ZTogdHJ1ZSwgcmVzdWx0OiBcImNvdW50XCJ9LCBmdW5jdGlvbihwcmV2KSB7XG4gIGlmKCFwcmV2LmNvdW50KSB7XG4gICAgcHJldi5jb3VudCA9IDA7XG4gIH1cbiAgcHJldi5jb3VudCsrO1xuICByZXR1cm4gcHJldjtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcInN1bVwiLCB7YWdncmVnYXRlOiB0cnVlLCByZXN1bHQ6IFwic3VtXCJ9LCBmdW5jdGlvbihwcmV2LCB2YWx1ZSkge1xuICBpZighcHJldi5zdW0pIHtcbiAgICBwcmV2LnN1bSA9IDA7XG4gIH1cbiAgcHJldi5zdW0gKz0gdmFsdWU7XG4gIHJldHVybiBwcmV2O1xufSk7XG5cbnJ1bnRpbWUuZGVmaW5lKFwiYXZlcmFnZVwiLCB7YWdncmVnYXRlOiB0cnVlLCByZXN1bHQ6IFwiYXZlcmFnZVwifSwgZnVuY3Rpb24ocHJldiwgdmFsdWUpIHtcbiAgaWYoIXByZXYuc3VtKSB7XG4gICAgcHJldi5zdW0gPSAwO1xuICAgIHByZXYuY291bnQgPSAwO1xuICB9XG4gIHByZXYuY291bnQrKztcbiAgcHJldi5zdW0gKz0gdmFsdWU7XG4gIHByZXYuYXZlcmFnZSA9IHByZXYuc3VtIC8gcHJldi5jb3VudDtcbiAgcmV0dXJuIHByZXY7XG59KTtcblxucnVudGltZS5kZWZpbmUoXCJsb3dlcmNhc2VcIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYodHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4ge3Jlc3VsdDogdGV4dC50b0xvd2VyQ2FzZSgpfTtcbiAgfVxuICByZXR1cm4ge3Jlc3VsdDogdGV4dH07XG59KVxuXG5ydW50aW1lLmRlZmluZShcIj1cIiwge2ZpbHRlcjogdHJ1ZSwgaW52ZXJzZTogXCIhPVwifSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PT0gYiA/IHJ1bnRpbWUuU1VDQ0VFRCA6IHJ1bnRpbWUuRkFJTDtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIiE9XCIsIHtmaWx0ZXI6IHRydWUsIGludmVyc2U6IFwiPVwifSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSAhPT0gYiA/IHJ1bnRpbWUuU1VDQ0VFRCA6IHJ1bnRpbWUuRkFJTDtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIj5cIiwge2ZpbHRlcjogdHJ1ZSwgaW52ZXJzZTogXCI8PVwifSwgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA+IGIgPyBydW50aW1lLlNVQ0NFRUQgOiBydW50aW1lLkZBSUw7XG59KTtcblxucnVudGltZS5kZWZpbmUoXCI8XCIsIHtmaWx0ZXI6IHRydWUsIGludmVyc2U6IFwiPj1cIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPCBiID8gcnVudGltZS5TVUNDRUVEIDogcnVudGltZS5GQUlMO1xufSk7XG5cbnJ1bnRpbWUuZGVmaW5lKFwiPj1cIiwge2ZpbHRlcjogdHJ1ZSwgaW52ZXJzZTogXCI8XCJ9LCBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID49IGIgPyBydW50aW1lLlNVQ0NFRUQgOiBydW50aW1lLkZBSUw7XG59KTtcblxucnVudGltZS5kZWZpbmUoXCI8PVwiLCB7ZmlsdGVyOiB0cnVlLCBpbnZlcnNlOiBcIj5cIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPD0gYiA/IHJ1bnRpbWUuU1VDQ0VFRCA6IHJ1bnRpbWUuRkFJTDtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIitcIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgKyBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIi1cIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgLSBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIipcIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgKiBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIi9cIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IGEgLyBifTtcbn0pO1xuXG5ydW50aW1lLmRlZmluZShcIl5cIiwge3Jlc3VsdDogXCJyZXN1bHRcIn0sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHtyZXN1bHQ6IE1hdGgucG93KGEsYil9O1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBU1QgYW5kIGNvbXBpbGVyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyB2aWV3OiB2aWV3LCBraW5kW3VuaW9ufHF1ZXJ5fHRhYmxlXVxuLy8gYWN0aW9uOiB2aWV3LCBhY3Rpb24sIGtpbmRbc2VsZWN0fGNhbGN1bGF0ZXxwcm9qZWN0fHVuaW9ufHVudW5pb258c3RhdGVmdWx8bGltaXR8c29ydHxncm91cHxhZ2dyZWdhdGVdLCBpeFxuLy8gYWN0aW9uIHNvdXJjZTogYWN0aW9uLCBzb3VyY2Ugdmlld1xuLy8gYWN0aW9uIG1hcHBpbmc6IGFjdGlvbiwgZnJvbSwgdG8gc291cmNlLCB0byBmaWVsZFxuLy8gYWN0aW9uIG1hcHBpbmcgY29uc3RhbnQ6IGFjdGlvbiwgZnJvbSwgdmFsdWVcblxuZnVuY3Rpb24gYWRkUmVjb21waWxlVHJpZ2dlcnMoZXZlKSB7XG5cbiAgdmFyIHJlY29tcGlsZVRyaWdnZXIgPSB7XG4gICAgZXhlYzogKGl4ZXIpID0+IHtcbiAgICAgIGZvcihsZXQgdmlldyBvZiBpeGVyLmZpbmQoXCJ2aWV3XCIpKSB7XG4gICAgICAgIGlmKHZpZXcua2luZCA9PT0gXCJ0YWJsZVwiKSBjb250aW51ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcXVlcnkgPSBjb21waWxlKGl4ZXIsIHZpZXcudmlldyk7XG4gICAgICAgICAgaXhlci5hc1ZpZXcocXVlcnkpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQkFEIFFVRVJZIElOIFRIRSBEQiA6KFwiKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmlldyBJZDogXCIgKyB2aWV3LnZpZXcpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgICAgICAgIGl4ZXIuYXBwbHlEaWZmKFF1ZXJ5LnJlbW92ZSh2aWV3LnZpZXcsIGl4ZXIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfVxuXG4gIGV2ZS5hZGRUYWJsZShcInZpZXdcIiwgW1widmlld1wiLCBcImtpbmRcIl0pO1xuICBldmUuYWRkVGFibGUoXCJhY3Rpb25cIiwgW1widmlld1wiLCBcImFjdGlvblwiLCBcImtpbmRcIiwgXCJpeFwiXSk7XG4gIGV2ZS5hZGRUYWJsZShcImFjdGlvbiBzb3VyY2VcIiwgW1wiYWN0aW9uXCIsIFwic291cmNlIHZpZXdcIl0pO1xuICBldmUuYWRkVGFibGUoXCJhY3Rpb24gbWFwcGluZ1wiLCBbXCJhY3Rpb25cIiwgXCJmcm9tXCIsIFwidG8gc291cmNlXCIsIFwidG8gZmllbGRcIl0pO1xuICBldmUuYWRkVGFibGUoXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiLCBbXCJhY3Rpb25cIiwgXCJmcm9tXCIsIFwidmFsdWVcIl0pO1xuICBldmUuYWRkVGFibGUoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwgW1wiYWN0aW9uXCIsIFwiaXhcIiwgXCJzb3VyY2VcIiwgXCJmaWVsZFwiLCBcImRpcmVjdGlvblwiXSk7XG4gIGV2ZS5hZGRUYWJsZShcImFjdGlvbiBtYXBwaW5nIGxpbWl0XCIsIFtcImFjdGlvblwiLCBcImxpbWl0IHR5cGVcIiwgXCJ2YWx1ZVwiXSk7XG5cbiAgZXZlLnRhYmxlKFwidmlld1wiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG4gIGV2ZS50YWJsZShcImFjdGlvblwiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG4gIGV2ZS50YWJsZShcImFjdGlvbiBzb3VyY2VcIikudHJpZ2dlcnNbXCJyZWNvbXBpbGVcIl0gPSByZWNvbXBpbGVUcmlnZ2VyO1xuICBldmUudGFibGUoXCJhY3Rpb24gbWFwcGluZ1wiKS50cmlnZ2Vyc1tcInJlY29tcGlsZVwiXSA9IHJlY29tcGlsZVRyaWdnZXI7XG4gIGV2ZS50YWJsZShcImFjdGlvbiBtYXBwaW5nIGNvbnN0YW50XCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbiAgZXZlLnRhYmxlKFwiYWN0aW9uIG1hcHBpbmcgc29ydGVkXCIpLnRyaWdnZXJzW1wicmVjb21waWxlXCJdID0gcmVjb21waWxlVHJpZ2dlcjtcbiAgZXZlLnRhYmxlKFwiYWN0aW9uIG1hcHBpbmcgbGltaXRcIikudHJpZ2dlcnNbXCJyZWNvbXBpbGVcIl0gPSByZWNvbXBpbGVUcmlnZ2VyO1xuXG4gIHJldHVybiBldmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlKGl4ZXIsIHZpZXdJZCkge1xuICBsZXQgdmlldyA9IGl4ZXIuZmluZE9uZShcInZpZXdcIiwge3ZpZXc6IHZpZXdJZH0pO1xuICBpZighdmlldykge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gdmlldyBmb3VuZCBmb3IgJHt2aWV3SWR9LmApO1xuICB9XG4gIGxldCBjb21waWxlZCA9IGl4ZXJbdmlldy5raW5kXSh2aWV3SWQpO1xuICBsZXQgYWN0aW9ucyA9IGl4ZXIuZmluZChcImFjdGlvblwiLCB7dmlldzogdmlld0lkfSk7XG4gIGlmKCFhY3Rpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBWaWV3ICR7dmlld0lkfSBoYXMgbm8gYWN0aW9ucy5gKTtcbiAgfVxuICAvLyBzb3J0IGFjdGlvbnMgYnkgaXhcbiAgYWN0aW9ucy5zb3J0KChhLCBiKSA9PiBhLml4IC0gYi5peCk7XG4gIGZvcihsZXQgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICBsZXQgYWN0aW9uS2luZCA9IGFjdGlvbi5raW5kO1xuICAgIGlmKGFjdGlvbktpbmQgPT09IFwibGltaXRcIikge1xuICAgICAgbGV0IGxpbWl0ID0ge307XG4gICAgICBmb3IobGV0IGxpbWl0TWFwcGluZyBvZiBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBsaW1pdFwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSkpIHtcbiAgICAgICAgbGltaXRbbGltaXRNYXBwaW5nW1wibGltaXQgdHlwZVwiXV0gPSBsaW1pdE1hcHBpbmdbXCJ2YWx1ZVwiXTtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkLmxpbWl0KGxpbWl0KTtcbiAgICB9IGVsc2UgaWYoYWN0aW9uS2luZCA9PT0gXCJzb3J0XCIgfHwgYWN0aW9uS2luZCA9PT0gXCJncm91cFwiKSB7XG4gICAgICBsZXQgc29ydGVkID0gW107XG4gICAgICBsZXQgbWFwcGluZ3MgPSBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBzb3J0ZWRcIiwge2FjdGlvbjogYWN0aW9uLmFjdGlvbn0pO1xuICAgICAgbWFwcGluZ3Muc29ydCgoYSwgYikgPT4gYS5peCAtIGIuaXgpO1xuICAgICAgZm9yKGxldCBtYXBwaW5nIG9mIG1hcHBpbmdzKSB7XG4gICAgICAgIHNvcnRlZC5wdXNoKFttYXBwaW5nW1wic291cmNlXCJdLCBtYXBwaW5nW1wiZmllbGRcIl0sIG1hcHBpbmdbXCJkaXJlY3Rpb25cIl1dKTtcbiAgICAgIH1cbiAgICAgIGlmKHNvcnRlZC5sZW5ndGgpIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0oc29ydGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHthY3Rpb25LaW5kfSB3aXRob3V0IGFueSBtYXBwaW5nczogJHthY3Rpb24uYWN0aW9ufWApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtYXBwaW5ncyA9IGl4ZXIuZmluZChcImFjdGlvbiBtYXBwaW5nXCIsIHthY3Rpb246IGFjdGlvbi5hY3Rpb259KTtcbiAgICAgIGxldCBtYXBwaW5nT2JqZWN0ID0ge307XG4gICAgICBmb3IobGV0IG1hcHBpbmcgb2YgbWFwcGluZ3MpIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG1hcHBpbmdbXCJ0byBzb3VyY2VcIl07XG4gICAgICAgIGxldCBmaWVsZCA9IG1hcHBpbmdbXCJ0byBmaWVsZFwiXTtcbiAgICAgICAgaWYoYWN0aW9uS2luZCA9PT0gXCJ1bmlvblwiIHx8IGFjdGlvbktpbmQgPT09IFwidW51bmlvblwiKSB7XG4gICAgICAgICAgbWFwcGluZ09iamVjdFttYXBwaW5nLmZyb21dID0gW2ZpZWxkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBwaW5nT2JqZWN0W21hcHBpbmcuZnJvbV0gPSBbc291cmNlLCBmaWVsZF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjb25zdGFudHMgPSBpeGVyLmZpbmQoXCJhY3Rpb24gbWFwcGluZyBjb25zdGFudFwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSk7XG4gICAgICBmb3IobGV0IGNvbnN0YW50IG9mIGNvbnN0YW50cykge1xuICAgICAgICBtYXBwaW5nT2JqZWN0W2NvbnN0YW50LmZyb21dID0gY29uc3RhbnQudmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgc291cmNlID0gaXhlci5maW5kT25lKFwiYWN0aW9uIHNvdXJjZVwiLCB7YWN0aW9uOiBhY3Rpb24uYWN0aW9ufSk7XG4gICAgICBpZighc291cmNlICYmIGFjdGlvbktpbmQgIT09IFwicHJvamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHthY3Rpb25LaW5kfSBhY3Rpb24gd2l0aG91dCBhIHNvdXJjZSBpbiAnJHt2aWV3SWR9J2ApO1xuICAgICAgfVxuICAgICAgaWYoYWN0aW9uS2luZCAhPT0gXCJwcm9qZWN0XCIpIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0oc291cmNlW1wic291cmNlIHZpZXdcIl0sIG1hcHBpbmdPYmplY3QsIGFjdGlvbi5hY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGlsZWRbYWN0aW9uS2luZF0obWFwcGluZ09iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb21waWxlZDtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFB1YmxpYyBBUElcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBjb25zdCBTVUNDRUVEID0gW3tzdWNjZXNzOiB0cnVlfV07XG5leHBvcnQgY29uc3QgRkFJTCA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhlcigpIHtcbiAgbGV0IGl4ZXIgPSBuZXcgSW5kZXhlcigpO1xuICBhZGRQcm92ZW5hbmNlVGFibGUoaXhlcik7XG4gIGFkZFJlY29tcGlsZVRyaWdnZXJzKGl4ZXIpO1xuICByZXR1cm4gaXhlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsUXVlcmllcyhldmUpIHtcbiAgbGV0IGZpbmFsRGlmZiA9IGV2ZS5kaWZmKCk7XG4gIGZvcihsZXQgcXVlcnkgb2YgZXZlLmZpbmQoXCJxdWVyeSB0byBpZFwiKSkge1xuICAgIGZpbmFsRGlmZi5tZXJnZShRdWVyeS5yZW1vdmUocXVlcnkuaWQsIGV2ZSkpO1xuICB9XG4gIGZpbmFsRGlmZi5yZW1vdmUoXCJxdWVyeSB0byBpZFwiLCB7fSk7XG4gIGV2ZS5hcHBseURpZmYoZmluYWxEaWZmKTtcbn1cblxuaWYoRU5WID09PSBcImJyb3dzZXJcIikgd2luZG93W1wicnVudGltZVwiXSA9IGV4cG9ydHM7XG4iLCJpbXBvcnQge3VucGFkLCByZXBlYXQsIERFQlVHLCB1dWlkfSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHtFbGVtZW50LCBIYW5kbGVyfSBmcm9tIFwiLi9taWNyb1JlYWN0XCI7XG5pbXBvcnQge0luZGV4ZXIsIFF1ZXJ5fSBmcm9tIFwiLi9ydW50aW1lXCI7XG5cbmZ1bmN0aW9uIHJlc29sdmUodGFibGUsIGZhY3QpIHtcbiAgbGV0IG5ldWUgPSB7fTtcbiAgZm9yKGxldCBmaWVsZCBpbiBmYWN0KVxuICAgIG5ldWVbYCR7dGFibGV9OiAke2ZpZWxkfWBdID0gZmFjdFtmaWVsZF07XG4gIHJldHVybiBuZXVlO1xufVxuZnVuY3Rpb24gaHVtYW5pemUodGFibGUsIGZhY3QpIHtcbiAgbGV0IG5ldWUgPSB7fTtcbiAgZm9yKGxldCBmaWVsZCBpbiBmYWN0KVxuICAgIG5ldWVbZmllbGQuc2xpY2UodGFibGUubGVuZ3RoICsgMildID0gZmFjdFtmaWVsZF07XG4gIHJldHVybiBuZXVlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIHRhYmxlLCBmYWN0KSB7XG4gIHJldHVybiBjaGFuZ2VzZXQuYWRkKHRhYmxlLCByZXNvbHZlKHRhYmxlLCBmYWN0KSk7XG59XG5mdW5jdGlvbiByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIHRhYmxlLCBmYWN0KSB7XG4gIHJldHVybiBjaGFuZ2VzZXQucmVtb3ZlKHRhYmxlLCByZXNvbHZlKHRhYmxlLCBmYWN0KSk7XG59XG5mdW5jdGlvbiBodW1hbml6ZWRGaW5kKGl4ZXI6SW5kZXhlciwgdGFibGUsIHF1ZXJ5KSB7XG4gIGxldCByZXN1bHRzID0gW107XG4gIGZvcihsZXQgZmFjdCBvZiBpeGVyLmZpbmQodGFibGUsIHJlc29sdmUodGFibGUsIHF1ZXJ5KSkpIHJlc3VsdHMucHVzaChodW1hbml6ZSh0YWJsZSwgZmFjdCkpO1xuICBsZXQgZGlhZyA9IHt9O1xuICBmb3IobGV0IHRhYmxlIGluIGl4ZXIudGFibGVzKSBkaWFnW3RhYmxlXSA9IGl4ZXIudGFibGVzW3RhYmxlXS50YWJsZS5sZW5ndGg7XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5leHBvcnQgY2xhc3MgVUkge1xuICBwcm90ZWN0ZWQgX2JpbmRpbmc6UXVlcnk7XG4gIHByb3RlY3RlZCBfZW1iZWRkZWQ6e307XG4gIHByb3RlY3RlZCBfY2hpbGRyZW46VUlbXSA9IFtdO1xuICBwcm90ZWN0ZWQgX2F0dHJpYnV0ZXM6e30gPSB7fTtcbiAgcHJvdGVjdGVkIF9ldmVudHM6e30gPSB7fTtcblxuICBwcm90ZWN0ZWQgX3BhcmVudDpVSTtcblxuICBzdGF0aWMgcmVtb3ZlKHRlbXBsYXRlOnN0cmluZywgaXhlcjpJbmRleGVyKSB7XG4gICAgbGV0IGNoYW5nZXNldCA9IGl4ZXIuZGlmZigpO1xuICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSB0ZW1wbGF0ZVwiLCB7dGVtcGxhdGV9KTtcbiAgICByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCB7dGVtcGxhdGV9KTtcbiAgICBsZXQgYmluZGluZ3MgPSBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCB7dGVtcGxhdGV9KTtcbiAgICBmb3IobGV0IGJpbmRpbmcgb2YgYmluZGluZ3MpIGNoYW5nZXNldC5tZXJnZShRdWVyeS5yZW1vdmUoYmluZGluZy5iaW5kaW5nLCBpeGVyKSk7XG4gICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGVtYmVkXCIsIHt0ZW1wbGF0ZX0pO1xuICAgIGxldCBlbWJlZHMgPSBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgZW1iZWRcIiwge3RlbXBsYXRlfSk7XG4gICAgZm9yKGxldCBlbWJlZCBvZiBlbWJlZHMpIHtcbiAgICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBlbWJlZCBzY29wZVwiLCB7dGVtcGxhdGUsIGVtYmVkOiBlbWJlZC5lbWJlZH0pO1xuICAgICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIiwge3RlbXBsYXRlLCBlbWJlZDogZW1iZWQuZW1iZWR9KTtcbiAgICB9XG4gICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGF0dHJpYnV0ZVwiLCB7dGVtcGxhdGV9KTtcbiAgICByZXNvbHZlZFJlbW92ZShjaGFuZ2VzZXQsIFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlfSk7XG4gICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGV2ZW50XCIsIHt0ZW1wbGF0ZX0pO1xuICAgIGxldCBldmVudHMgPSBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgZXZlbnRcIiwge3RlbXBsYXRlfSk7XG4gICAgZm9yKGxldCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgIHJlc29sdmVkUmVtb3ZlKGNoYW5nZXNldCwgXCJ1aSBldmVudCBzdGF0ZVwiLCB7dGVtcGxhdGUsIGV2ZW50OiBldmVudC5ldmVudH0pO1xuICAgICAgcmVzb2x2ZWRSZW1vdmUoY2hhbmdlc2V0LCBcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlLCBldmVudDogZXZlbnQuZXZlbnR9KTtcbiAgICB9XG5cbiAgICBmb3IobGV0IGNoaWxkIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSB0ZW1wbGF0ZVwiLCB7cGFyZW50OiB0ZW1wbGF0ZX0pKSBjaGFuZ2VzZXQubWVyZ2UoVUkucmVtb3ZlKGNoaWxkLnRlbXBsYXRlLCBpeGVyKSk7XG4gICAgcmV0dXJuIGNoYW5nZXNldDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBpZCkge1xuXG4gIH1cbiAgY29weSgpIHtcbiAgICBsZXQgbmV1ZSA9IG5ldyBVSSh0aGlzLmlkKTtcbiAgICBuZXVlLl9iaW5kaW5nID0gdGhpcy5fYmluZGluZztcbiAgICBuZXVlLl9lbWJlZGRlZCA9IHRoaXMuX2VtYmVkZGVkO1xuICAgIG5ldWUuX2NoaWxkcmVuID0gdGhpcy5fY2hpbGRyZW47XG4gICAgbmV1ZS5fYXR0cmlidXRlcyA9IHRoaXMuX2F0dHJpYnV0ZXM7XG4gICAgbmV1ZS5fZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgIG5ldWUuX3BhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICByZXR1cm4gbmV1ZTtcbiAgfVxuICBjaGFuZ2VzZXQoaXhlcjpJbmRleGVyKSB7XG4gICAgbGV0IGNoYW5nZXNldCA9IGl4ZXIuZGlmZigpO1xuXG4gICAgbGV0IHBhcmVudCA9IHRoaXMuX2F0dHJpYnV0ZXNbXCJwYXJlbnRcIl0gfHwgKHRoaXMuX3BhcmVudCAmJiB0aGlzLl9wYXJlbnQuaWQpIHx8IFwiXCI7XG4gICAgbGV0IGl4ID0gdGhpcy5fYXR0cmlidXRlc1tcIml4XCJdO1xuICAgIGlmKGl4ID09PSB1bmRlZmluZWQpIGl4ID0gKHRoaXMuX3BhcmVudCAmJiB0aGlzLl9wYXJlbnQuX2NoaWxkcmVuLmluZGV4T2YodGhpcykpO1xuICAgIGlmKGl4ID09PSAtMSB8fCBpeCA9PT0gdW5kZWZpbmVkKSBpeCA9IFwiXCI7XG4gICAgaWYodGhpcy5fZW1iZWRkZWQpIHBhcmVudCA9IFwiXCI7XG5cbiAgICByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgdGVtcGxhdGVcIiwge3RlbXBsYXRlOiB0aGlzLmlkLCBwYXJlbnQsIGl4fSk7XG4gICAgaWYodGhpcy5fYmluZGluZykge1xuICAgICAgaWYoIXRoaXMuX2JpbmRpbmcubmFtZSB8fCB0aGlzLl9iaW5kaW5nLm5hbWUgPT09IFwidW5rbm93blwiKSB0aGlzLl9iaW5kaW5nLm5hbWUgPSBgYm91bmQgdmlldyAke3RoaXMuaWR9YDtcbiAgICAgIGNoYW5nZXNldC5tZXJnZSh0aGlzLl9iaW5kaW5nLmNoYW5nZXNldChpeGVyKSk7XG4gICAgICByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIGJpbmRpbmc6IHRoaXMuX2JpbmRpbmcubmFtZX0pO1xuICAgIH1cbiAgICBpZih0aGlzLl9lbWJlZGRlZCkge1xuICAgICAgbGV0IGVtYmVkID0gdXVpZCgpO1xuICAgICAgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIGVtYmVkXCIsIHtlbWJlZCwgdGVtcGxhdGU6IHRoaXMuaWQsIHBhcmVudDogKHRoaXMuX3BhcmVudCB8fCA8YW55Pnt9KS5pZCwgaXh9KTtcbiAgICAgIGZvcihsZXQga2V5IGluIHRoaXMuX2VtYmVkZGVkKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2F0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIiwge2VtYmVkLCBrZXksIHNvdXJjZTogdmFsdWVbMF0sIGFsaWFzOiB2YWx1ZVsxXX0pO1xuICAgICAgICBlbHNlIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBlbWJlZCBzY29wZVwiLCB7ZW1iZWQsIGtleSwgdmFsdWV9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IobGV0IHByb3BlcnR5IGluIHRoaXMuX2F0dHJpYnV0ZXMpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2F0dHJpYnV0ZXNbcHJvcGVydHldO1xuICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkgcmVzb2x2ZWRBZGQoY2hhbmdlc2V0LCBcInVpIGF0dHJpYnV0ZSBiaW5kaW5nXCIsIHt0ZW1wbGF0ZTogdGhpcy5pZCwgcHJvcGVydHksIHNvdXJjZTogdmFsdWVbMF0sIGFsaWFzOiB2YWx1ZVsxXX0pO1xuICAgICAgZWxzZSByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgYXR0cmlidXRlXCIsIHt0ZW1wbGF0ZTogdGhpcy5pZCwgcHJvcGVydHksIHZhbHVlfSk7XG4gICAgfVxuXG4gICAgZm9yKGxldCBldmVudCBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBldmVudFwiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIGV2ZW50fSk7XG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgICAgZm9yKGxldCBrZXkgaW4gc3RhdGUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3RhdGVba2V5XTtcbiAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICByZXNvbHZlZEFkZChjaGFuZ2VzZXQsIFwidWkgZXZlbnQgc3RhdGUgYmluZGluZ1wiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIGV2ZW50LCBrZXksIHNvdXJjZTogdmFsdWVbMF0sIGFsaWFzOiB2YWx1ZVsxXX0pO1xuICAgICAgICBlbHNlIHJlc29sdmVkQWRkKGNoYW5nZXNldCwgXCJ1aSBldmVudCBzdGF0ZVwiLCB7dGVtcGxhdGU6IHRoaXMuaWQsIGV2ZW50LCBrZXksIHZhbHVlfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yKGxldCBjaGlsZCBvZiB0aGlzLl9jaGlsZHJlbikgY2hhbmdlc2V0Lm1lcmdlKGNoaWxkLmNoYW5nZXNldChpeGVyKSk7XG5cbiAgICByZXR1cm4gY2hhbmdlc2V0O1xuICB9XG4gIGxvYWQodGVtcGxhdGU6c3RyaW5nLCBpeGVyOkluZGV4ZXIsIHBhcmVudD86VUkpIHtcbiAgICBsZXQgZmFjdCA9IGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSB0ZW1wbGF0ZVwiLCB7dGVtcGxhdGV9KVswXTtcbiAgICBpZighZmFjdCkgcmV0dXJuIHRoaXM7XG4gICAgaWYocGFyZW50IHx8IGZhY3QucGFyZW50KSB0aGlzLl9wYXJlbnQgPSBwYXJlbnQgfHwgbmV3IFVJKHRoaXMuX3BhcmVudCk7XG4gICAgbGV0IGJpbmRpbmcgPSBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCB7dGVtcGxhdGV9KVswXTtcbiAgICBpZihiaW5kaW5nKSB0aGlzLmJpbmQoKG5ldyBRdWVyeShpeGVyLCBiaW5kaW5nLmJpbmRpbmcpKSk7XG4gICAgbGV0IGVtYmVkID0gaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGVtYmVkXCIsIHt0ZW1wbGF0ZSwgcGFyZW50OiB0aGlzLl9wYXJlbnQgPyB0aGlzLl9wYXJlbnQuaWQgOiBcIlwifSlbMF07XG4gICAgaWYoZW1iZWQpIHtcbiAgICAgIGxldCBzY29wZSA9IHt9O1xuICAgICAgZm9yKGxldCBhdHRyIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBlbWJlZCBzY29wZVwiLCB7ZW1iZWQ6IGVtYmVkLmVtYmVkfSkpIHNjb3BlW2F0dHIua2V5XSA9IGF0dHIudmFsdWU7XG4gICAgICBmb3IobGV0IGF0dHIgb2YgaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIiwge2VtYmVkOiBlbWJlZC5lbWJlZH0pKSBzY29wZVthdHRyLmtleV0gPSBbYXR0ci5zb3VyY2UsIGF0dHIuYWxpYXNdO1xuICAgICAgdGhpcy5lbWJlZChzY29wZSk7XG4gICAgfVxuXG4gICAgZm9yKGxldCBhdHRyIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBhdHRyaWJ1dGVcIiwge3RlbXBsYXRlfSkpIHRoaXMuYXR0cmlidXRlKGF0dHIucHJvcGVydHksIGF0dHIudmFsdWUpO1xuICAgIGZvcihsZXQgYXR0ciBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlfSkpIHRoaXMuYXR0cmlidXRlKGF0dHIucHJvcGVydHksIFthdHRyLnNvdXJjZSwgYXR0ci5hbGlhc10pO1xuXG4gICAgZm9yKGxldCBldmVudCBvZiBodW1hbml6ZWRGaW5kKGl4ZXIsIFwidWkgZXZlbnRcIiwge3RlbXBsYXRlfSkpIHtcbiAgICAgIGxldCBzdGF0ZSA9IHt9O1xuICAgICAgZm9yKGxldCBhdHRyIG9mIGh1bWFuaXplZEZpbmQoaXhlciwgXCJ1aSBldmVudCBzdGF0ZVwiLCB7dGVtcGxhdGUsIGV2ZW50OiBldmVudC5ldmVudH0pKSBzdGF0ZVtldmVudC5rZXldID0gZXZlbnQudmFsdWU7XG4gICAgICBmb3IobGV0IGF0dHIgb2YgaHVtYW5pemVkRmluZChpeGVyLCBcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwge3RlbXBsYXRlLCBldmVudDogZXZlbnQuZXZlbnR9KSkgc3RhdGVbZXZlbnQua2V5XSA9IFtldmVudC5zb3VyY2UsIGV2ZW50LmFsaWFzXVxuICAgICAgdGhpcy5ldmVudChldmVudC5ldmVudCwgc3RhdGUpO1xuICAgIH1cblxuICAgIGZvcihsZXQgY2hpbGQgb2YgaHVtYW5pemVkRmluZChpeGVyLCBcInVpIHRlbXBsYXRlXCIsIHtwYXJlbnQ6IHRlbXBsYXRlfSkpXG4gICAgICB0aGlzLmNoaWxkKChuZXcgVUkoY2hpbGQudGVtcGxhdGUpKS5sb2FkKGNoaWxkLnRlbXBsYXRlLCBpeGVyLCB0aGlzKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNoaWxkcmVuKG5ldWU/OlVJW10sIGFwcGVuZCA9IGZhbHNlKSB7XG4gICAgaWYoIW5ldWUpIHJldHVybiB0aGlzLl9jaGlsZHJlbjtcbiAgICBpZighYXBwZW5kKSB0aGlzLl9jaGlsZHJlbi5sZW5ndGggPSAwO1xuICAgIGZvcihsZXQgY2hpbGQgb2YgbmV1ZSkge1xuICAgICAgbGV0IGNvcGllZCA9IGNoaWxkLmNvcHkoKTtcbiAgICAgIGNvcGllZC5fcGFyZW50ID0gdGhpcztcbiAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2goY29waWVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuO1xuICB9XG4gIGNoaWxkKGNoaWxkOlVJLCBpeD86IG51bWJlciwgZW1iZWQ/Ont9KSB7XG4gICAgY2hpbGQgPSBjaGlsZC5jb3B5KCk7XG4gICAgY2hpbGQuX3BhcmVudCA9IHRoaXM7XG4gICAgaWYoZW1iZWQpIGNoaWxkLmVtYmVkKGVtYmVkKTtcbiAgICBpZighaXgpIHRoaXMuX2NoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIGVsc2UgdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGl4LCAwLCBjaGlsZCk7XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG4gIHJlbW92ZUNoaWxkKGl4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGl4LCAxKTtcbiAgfVxuXG4gIGF0dHJpYnV0ZXMocHJvcGVydGllcz86IHt9LCBtZXJnZSA9IGZhbHNlKSB7XG4gICAgaWYoIXByb3BlcnRpZXMpIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzO1xuICAgIGlmKCFtZXJnZSkge1xuICAgICAgZm9yKGxldCBwcm9wIGluIHRoaXMuX2F0dHJpYnV0ZXMpIGRlbGV0ZSB0aGlzLl9hdHRyaWJ1dGVzW3Byb3BdO1xuICAgIH1cbiAgICBmb3IobGV0IHByb3AgaW4gcHJvcGVydGllcykgdGhpcy5fYXR0cmlidXRlc1twcm9wXSA9IHByb3BlcnRpZXNbcHJvcF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgYXR0cmlidXRlKHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlPzogYW55KSB7XG4gICAgaWYodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNbcHJvcGVydHldO1xuICAgIHRoaXMuX2F0dHJpYnV0ZXNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmVtb3ZlQXR0cmlidXRlKHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICBkZWxldGUgdGhpcy5fYXR0cmlidXRlc1twcm9wZXJ0eV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBldmVudHMoZXZlbnRzPzoge30sIG1lcmdlID0gZmFsc2UpIHtcbiAgICBpZighZXZlbnRzKSByZXR1cm4gdGhpcy5fZXZlbnRzO1xuICAgIGlmKCFtZXJnZSkge1xuICAgICAgZm9yKGxldCBldmVudCBpbiB0aGlzLl9ldmVudHMpIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgIH1cbiAgICBmb3IobGV0IGV2ZW50IGluIGV2ZW50cykgdGhpcy5fZXZlbnRzW2V2ZW50XSA9IGV2ZW50c1tldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZXZlbnQoZXZlbnQ6IHN0cmluZywgc3RhdGU/OiBhbnkpIHtcbiAgICBpZihzdGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICB0aGlzLl9hdHRyaWJ1dGVzW2V2ZW50XSA9IHN0YXRlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUV2ZW50KGV2ZW50OiBzdHJpbmcpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGVtYmVkKHNjb3BlOnt9fGJvb2xlYW4gPSB7fSkge1xuICAgIGlmKCFzY29wZSkge1xuICAgICAgdGhpcy5fZW1iZWRkZWQgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYoc2NvcGUgPT09IHRydWUpIHNjb3BlID0ge307XG4gICAgdGhpcy5fZW1iZWRkZWQgPSBzY29wZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJpbmQoYmluZGluZzpRdWVyeSkge1xuICAgIHRoaXMuX2JpbmRpbmcgPSBiaW5kaW5nO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmludGVyZmFjZSBVaVdhcm5pbmcge1xuICBcInVpIHdhcm5pbmc6IHRlbXBsYXRlXCI6IHN0cmluZ1xuICBcInVpIHdhcm5pbmc6IHdhcm5pbmdcIjogc3RyaW5nXG59XG5cbi8vIEBUT0RPOiBGaW5pc2ggcmVmZXJlbmNlIGltcGwuXG4vLyBAVE9ETzogVGhlbiBidWlsZCBiaXQtZ2VuZXJhdGluZyB2ZXJzaW9uXG5leHBvcnQgY2xhc3MgVUlSZW5kZXJlciB7XG4gIHB1YmxpYyBjb21waWxlZCA9IDA7XG4gIHByb3RlY3RlZCBfdGFnQ29tcGlsZXJzOntbdGFnOiBzdHJpbmddOiAoZWxlbTpFbGVtZW50KSA9PiB2b2lkfSA9IHt9O1xuICBwcm90ZWN0ZWQgX2hhbmRsZXJzOkhhbmRsZXI8RXZlbnQ+W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaXhlcjpJbmRleGVyKSB7fVxuXG4gIGNvbXBpbGUocm9vdHM6KHN0cmluZ3xFbGVtZW50KVtdKTpFbGVtZW50W10ge1xuICAgIGlmKERFQlVHLlJFTkRFUkVSKSBjb25zb2xlLmdyb3VwKFwidWkgY29tcGlsZVwiKTtcbiAgICBsZXQgY29tcGlsZWRFbGVtczpFbGVtZW50W10gPSBbXTtcbiAgICBmb3IobGV0IHJvb3Qgb2Ygcm9vdHMpIHtcbiAgICAgIC8vIEBUT0RPOiByZXBhcmVudCBkeW5hbWljIHJvb3RzIGlmIG5lZWRlZC5cbiAgICAgIGlmKHR5cGVvZiByb290ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxldCBlbGVtcyA9IHRoaXMuX2NvbXBpbGVXcmFwcGVyKHJvb3QsIGNvbXBpbGVkRWxlbXMubGVuZ3RoKTtcbiAgICAgICAgY29tcGlsZWRFbGVtcy5wdXNoLmFwcGx5KGNvbXBpbGVkRWxlbXMsIGVsZW1zKTtcbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLml4ZXIuZmluZE9uZShcInVpIHRlbXBsYXRlXCIsIHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOiByb290fSk7XG4gICAgICAgIGlmKCFiYXNlKSBjb250aW51ZTtcbiAgICAgICAgbGV0IHBhcmVudCA9IGJhc2VbXCJ1aSB0ZW1wbGF0ZTogcGFyZW50XCJdO1xuICAgICAgICBpZihwYXJlbnQpIHtcbiAgICAgICAgICBmb3IobGV0IGVsZW0gb2YgZWxlbXMpIGVsZW0ucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYoIXJvb3QuaXgpIHJvb3QuaXggPSBjb21waWxlZEVsZW1zLmxlbmd0aDtcbiAgICAgICAgY29tcGlsZWRFbGVtcy5wdXNoKHJvb3QpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihERUJVRy5SRU5ERVJFUikgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIHJldHVybiBjb21waWxlZEVsZW1zO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jb21waWxlV3JhcHBlcih0ZW1wbGF0ZTpzdHJpbmcsIGJhc2VJeDogbnVtYmVyLCBjb25zdHJhaW50czp7fSA9IHt9LCBiaW5kaW5nU3RhY2s6YW55W10gPSBbXSwgZGVwdGg6bnVtYmVyID0gMCk6RWxlbWVudFtdIHtcbiAgICBsZXQgZWxlbXMgPSBbXTtcbiAgICBsZXQgYmluZGluZyA9IHRoaXMuaXhlci5maW5kT25lKFwidWkgdGVtcGxhdGUgYmluZGluZ1wiLCB7XCJ1aSB0ZW1wbGF0ZSBiaW5kaW5nOiB0ZW1wbGF0ZVwiOiB0ZW1wbGF0ZX0pO1xuICAgIGlmKCFiaW5kaW5nKSB7XG4gICAgICBsZXQgZWxlbSA9IHRoaXMuX2NvbXBpbGVFbGVtZW50KHRlbXBsYXRlLCBiaW5kaW5nU3RhY2ssIGRlcHRoKTtcbiAgICAgIGlmKGVsZW0pIGVsZW1zWzBdID0gZWxlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGJvdW5kUXVlcnkgPSBiaW5kaW5nW1widWkgdGVtcGxhdGUgYmluZGluZzogYmluZGluZ1wiXTtcbiAgICAgIGxldCBmYWN0cyA9IHRoaXMuZ2V0Qm91bmRGYWN0cyhib3VuZFF1ZXJ5LCBjb25zdHJhaW50cyk7XG4gICAgICBsZXQgaXggPSAwO1xuICAgICAgZm9yKGxldCBmYWN0IG9mIGZhY3RzKSB7XG4gICAgICAgIGJpbmRpbmdTdGFjay5wdXNoKGZhY3QpO1xuICAgICAgICBsZXQgZWxlbSA9IHRoaXMuX2NvbXBpbGVFbGVtZW50KHRlbXBsYXRlLCBiaW5kaW5nU3RhY2ssIGRlcHRoKTtcbiAgICAgICAgYmluZGluZ1N0YWNrLnBvcCgpO1xuICAgICAgICBpZihlbGVtKSBlbGVtcy5wdXNoKGVsZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtcy5zb3J0KChhLCBiKSA9PiBhLml4IC0gYi5peCk7XG4gICAgbGV0IHByZXZJeCA9IHVuZGVmaW5lZDtcbiAgICBmb3IobGV0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgIGVsZW0uaXggPSBlbGVtLml4ID8gZWxlbS5peCArIGJhc2VJeCA6IGJhc2VJeDtcbiAgICAgIGlmKGVsZW0uaXggPT09IHByZXZJeCkgZWxlbS5peCsrO1xuICAgICAgcHJldkl4ID0gZWxlbS5peDtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1zO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jb21waWxlRWxlbWVudCh0ZW1wbGF0ZTpzdHJpbmcsIGJpbmRpbmdTdGFjazphbnlbXSwgZGVwdGg6bnVtYmVyKTpFbGVtZW50IHtcbiAgICBpZihERUJVRy5SRU5ERVJFUikgY29uc29sZS5sb2cocmVwZWF0KFwiICBcIiwgZGVwdGgpICsgXCIqIGNvbXBpbGVcIiwgdGVtcGxhdGUpO1xuICAgIGxldCBlbGVtZW50VG9DaGlsZHJlbiA9IHRoaXMuaXhlci5pbmRleChcInVpIHRlbXBsYXRlXCIsIFtcInVpIHRlbXBsYXRlOiBwYXJlbnRcIl0pO1xuICAgIGxldCBlbGVtZW50VG9FbWJlZHMgPSB0aGlzLml4ZXIuaW5kZXgoXCJ1aSBlbWJlZFwiLCBbXCJ1aSBlbWJlZDogcGFyZW50XCJdKTtcbiAgICBsZXQgZW1iZWRUb1Njb3BlID0gdGhpcy5peGVyLmluZGV4KFwidWkgZW1iZWQgc2NvcGVcIiwgW1widWkgZW1iZWQgc2NvcGU6IGVtYmVkXCJdKTtcbiAgICBsZXQgZW1iZWRUb1Njb3BlQmluZGluZyA9IHRoaXMuaXhlci5pbmRleChcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmdcIiwgW1widWkgZW1iZWQgc2NvcGUgYmluZGluZzogZW1iZWRcIl0pO1xuICAgIGxldCBlbGVtZW50VG9BdHRycyA9IHRoaXMuaXhlci5pbmRleChcInVpIGF0dHJpYnV0ZVwiLCBbXCJ1aSBhdHRyaWJ1dGU6IHRlbXBsYXRlXCJdKTtcbiAgICBsZXQgZWxlbWVudFRvQXR0ckJpbmRpbmdzID0gdGhpcy5peGVyLmluZGV4KFwidWkgYXR0cmlidXRlIGJpbmRpbmdcIiwgW1widWkgYXR0cmlidXRlIGJpbmRpbmc6IHRlbXBsYXRlXCJdKTtcbiAgICBsZXQgZWxlbWVudFRvRXZlbnRzID0gdGhpcy5peGVyLmluZGV4KFwidWkgZXZlbnRcIiwgW1widWkgZXZlbnQ6IHRlbXBsYXRlXCJdKTtcbiAgICB0aGlzLmNvbXBpbGVkKys7XG4gICAgbGV0IGJhc2UgPSB0aGlzLml4ZXIuZmluZE9uZShcInVpIHRlbXBsYXRlXCIsIHtcInVpIHRlbXBsYXRlOiB0ZW1wbGF0ZVwiOiB0ZW1wbGF0ZX0pO1xuICAgIGlmKCFiYXNlKSB7XG4gICAgICBjb25zb2xlLndhcm4oYHVpIHRlbXBsYXRlICR7dGVtcGxhdGV9IGRvZXMgbm90IGV4aXN0LiBJZ25vcmluZy5gKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbGV0IGF0dHJzID0gZWxlbWVudFRvQXR0cnNbdGVtcGxhdGVdO1xuICAgIGxldCBib3VuZEF0dHJzID0gZWxlbWVudFRvQXR0ckJpbmRpbmdzW3RlbXBsYXRlXTtcbiAgICBsZXQgZXZlbnRzID0gZWxlbWVudFRvRXZlbnRzW3RlbXBsYXRlXTtcblxuICAgIC8vIEhhbmRsZSBtZXRhIHByb3BlcnRpZXNcbiAgICBsZXQgZWxlbTpFbGVtZW50ID0ge190ZW1wbGF0ZTogdGVtcGxhdGUsIGl4OiBiYXNlW1widWkgdGVtcGxhdGU6IGl4XCJdfTtcblxuICAgIC8vIEhhbmRsZSBzdGF0aWMgcHJvcGVydGllc1xuICAgIGlmKGF0dHJzKSB7XG4gICAgICBmb3IobGV0IHtcInVpIGF0dHJpYnV0ZTogcHJvcGVydHlcIjogcHJvcCwgXCJ1aSBhdHRyaWJ1dGU6IHZhbHVlXCI6IHZhbH0gb2YgYXR0cnMpIGVsZW1bcHJvcF0gPSB2YWw7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJvdW5kIHByb3BlcnRpZXNcbiAgICBpZihib3VuZEF0dHJzKSB7XG4gICAgICAvLyBARklYTUU6IFdoYXQgZG8gd2l0aCBzb3VyY2U/XG4gICAgICBmb3IobGV0IHtcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBwcm9wZXJ0eVwiOiBwcm9wLCBcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBzb3VyY2VcIjogc291cmNlLCBcInVpIGF0dHJpYnV0ZSBiaW5kaW5nOiBhbGlhc1wiOiBhbGlhc30gb2YgYm91bmRBdHRycylcbiAgICAgICAgZWxlbVtwcm9wXSA9IHRoaXMuZ2V0Qm91bmRWYWx1ZShzb3VyY2UsIGFsaWFzLCBiaW5kaW5nU3RhY2spO1xuICAgIH1cblxuICAgIC8vIEF0dGFjaCBldmVudCBoYW5kbGVyc1xuICAgIGlmKGV2ZW50cykge1xuICAgICAgZm9yKGxldCB7XCJ1aSBldmVudDogZXZlbnRcIjogZXZlbnR9IG9mIGV2ZW50cykgZWxlbVtldmVudF0gPSB0aGlzLmdlbmVyYXRlRXZlbnRIYW5kbGVyKGVsZW0sIGV2ZW50LCBiaW5kaW5nU3RhY2spO1xuICAgIH1cblxuICAgIC8vIENvbXBpbGUgY2hpbGRyZW5cbiAgICBsZXQgY2hpbGRyZW4gPSBlbGVtZW50VG9DaGlsZHJlblt0ZW1wbGF0ZV0gfHwgW107XG4gICAgbGV0IGVtYmVkcyA9IGVsZW1lbnRUb0VtYmVkc1t0ZW1wbGF0ZV0gfHwgW107XG4gICAgaWYoY2hpbGRyZW4ubGVuZ3RoIHx8IGVtYmVkcy5sZW5ndGgpIHtcbiAgICAgIGVsZW0uY2hpbGRyZW4gPSBbXTtcbiAgICAgIGxldCBjaGlsZEl4ID0gMCwgZW1iZWRJeCA9IDA7XG4gICAgICB3aGlsZShjaGlsZEl4IDwgY2hpbGRyZW4ubGVuZ3RoIHx8IGVtYmVkSXggPCBlbWJlZHMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2NoaWxkSXhdO1xuICAgICAgICBsZXQgZW1iZWQgPSBlbWJlZHNbZW1iZWRJeF07XG4gICAgICAgIGxldCBhZGQsIGNvbnN0cmFpbnRzID0ge30sIGNoaWxkQmluZGluZ1N0YWNrID0gYmluZGluZ1N0YWNrO1xuICAgICAgICBpZighZW1iZWQgfHwgY2hpbGQgJiYgY2hpbGQuaXggPD0gZW1iZWQuaXgpIHtcbiAgICAgICAgICBhZGQgPSBjaGlsZHJlbltjaGlsZEl4KytdW1widWkgdGVtcGxhdGU6IHRlbXBsYXRlXCJdO1xuICAgICAgICAgIC8vIFJlc29sdmUgYm91bmQgYWxpYXNlcyBpbnRvIGNvbnN0cmFpbnRzXG4gICAgICAgICAgY29uc3RyYWludHMgPSB0aGlzLmdldEJvdW5kU2NvcGUoYmluZGluZ1N0YWNrKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZCA9IGVtYmVkc1tlbWJlZEl4KytdW1widWkgZW1iZWQ6IHRlbXBsYXRlXCJdO1xuICAgICAgICAgIGZvcihsZXQgc2NvcGUgb2YgZW1iZWRUb1Njb3BlW2VtYmVkW1widWkgZW1iZWQ6IGVtYmVkXCJdXSB8fCBbXSlcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzW3Njb3BlW1widWkgZW1iZWQgc2NvcGU6IGtleVwiXV0gPSBzY29wZVtcInVpIGVtYmVkIHNjb3BlOiB2YWx1ZVwiXTtcblxuICAgICAgICAgIGZvcihsZXQgc2NvcGUgb2YgZW1iZWRUb1Njb3BlQmluZGluZ1tlbWJlZFtcInVpIGVtYmVkOiBlbWJlZFwiXV0gfHwgW10pIHtcbiAgICAgICAgICAgIC8vIEBGSVhNRTogV2hhdCBkbyBhYm91dCBzb3VyY2U/XG4gICAgICAgICAgICBsZXQge1widWkgZW1iZWQgc2NvcGUgYmluZGluZzoga2V5XCI6IGtleSwgXCJ1aSBlbWJlZCBzY29wZSBiaW5kaW5nOiBzb3VyY2VcIjogc291cmNlLCBcInVpIGVtYmVkIHNjb3BlIGJpbmRpbmc6IGFsaWFzXCI6IGFsaWFzfSA9IHNjb3BlO1xuICAgICAgICAgICAgY29uc3RyYWludHNba2V5XSA9IHRoaXMuZ2V0Qm91bmRWYWx1ZShzb3VyY2UsIGFsaWFzLCBiaW5kaW5nU3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGlsZEJpbmRpbmdTdGFjayA9IFtjb25zdHJhaW50c107XG4gICAgICAgIH1cbiAgICAgICAgZWxlbS5jaGlsZHJlbi5wdXNoLmFwcGx5KGVsZW0uY2hpbGRyZW4sIHRoaXMuX2NvbXBpbGVXcmFwcGVyKGFkZCwgZWxlbS5jaGlsZHJlbi5sZW5ndGgsIGNvbnN0cmFpbnRzLCBjaGlsZEJpbmRpbmdTdGFjaywgZGVwdGggKyAxKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5fdGFnQ29tcGlsZXJzW2VsZW0udF0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX3RhZ0NvbXBpbGVyc1tlbGVtLnRdKGVsZW0pO1xuICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gY29tcGlsZSB0ZW1wbGF0ZTogJyR7dGVtcGxhdGV9JyBkdWUgdG8gJyR7ZXJyfScgZm9yIGVsZW1lbnQgJyR7SlNPTi5zdHJpbmdpZnkoZWxlbSl9J2ApO1xuICAgICAgICBlbGVtLnQgPSBcInVpLWVycm9yXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW07XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0Qm91bmRGYWN0cyhxdWVyeSwgY29uc3RyYWludHMpOnN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5peGVyLmZpbmQocXVlcnksIGNvbnN0cmFpbnRzKTtcbiAgfVxuICBwcm90ZWN0ZWQgZ2V0Qm91bmRTY29wZShiaW5kaW5nU3RhY2s6YW55W10pOnt9IHtcbiAgICBsZXQgc2NvcGUgPSB7fTtcbiAgICBmb3IobGV0IGZhY3Qgb2YgYmluZGluZ1N0YWNrKSB7XG4gICAgICBmb3IobGV0IGFsaWFzIGluIGZhY3QpIHNjb3BlW2FsaWFzXSA9IGZhY3RbYWxpYXNdO1xuICAgIH1cbiAgICByZXR1cm4gc2NvcGU7XG4gIH1cblxuICAvL0BGSVhNRTogV2hhdCBkbyBhYm91dCBzb3VyY2U/XG4gIHByb3RlY3RlZCBnZXRCb3VuZFZhbHVlKHNvdXJjZTpzdHJpbmcsIGFsaWFzOnN0cmluZywgYmluZGluZ1N0YWNrOmFueVtdKTphbnkgeyAvLyBARklYTUU6IEZpbmRzIGRvbid0IGNyZWF0ZSBhIHNvdXJjZSBmaWVsZCBvbiB0aGUgcmVzdWx0LlxuICAgIGZvcihsZXQgaXggPSBiaW5kaW5nU3RhY2subGVuZ3RoIC0gMTsgaXggPj0gMDsgaXgtLSkge1xuICAgICAgbGV0IGZhY3QgPSBiaW5kaW5nU3RhY2tbaXhdO1xuICAgICAgaWYoc291cmNlIGluIGZhY3QgJiYgZmFjdFthbGlhc10pIHJldHVybiBmYWN0W2FsaWFzXTtcbiAgICB9XG4gIH1cbiAgcHJvdGVjdGVkIGdlbmVyYXRlRXZlbnRIYW5kbGVyKGVsZW06RWxlbWVudCwgZXZlbnQ6c3RyaW5nLCBiaW5kaW5nU3RhY2s6YW55W10pOkhhbmRsZXI8RXZlbnQ+IHtcbiAgICBsZXQgdGVtcGxhdGUgPSBlbGVtW1wiX3RlbXBsYXRlXCJdO1xuICAgIGxldCBtZW1vS2V5ID0gYCR7dGVtcGxhdGV9Ojoke2V2ZW50fWA7XG4gICAgbGV0IGF0dHJLZXkgPSBgJHtldmVudH06OnN0YXRlYDtcbiAgICBlbGVtW2F0dHJLZXldID0gdGhpcy5nZXRFdmVudFN0YXRlKHRlbXBsYXRlLCBldmVudCwgYmluZGluZ1N0YWNrKTtcbiAgICBpZih0aGlzLl9oYW5kbGVyc1ttZW1vS2V5XSkgcmV0dXJuIHRoaXMuX2hhbmRsZXJzW21lbW9LZXldO1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGlmKGV2ZW50ID09PSBcImNoYW5nZVwiIHx8IGV2ZW50ID09PSBcImlucHV0XCIpIHtcbiAgICAgIHRoaXMuX2hhbmRsZXJzW21lbW9LZXldID0gKGV2dDpFdmVudCwgZWxlbTpFbGVtZW50KSA9PiB7XG4gICAgICAgIGxldCBwcm9wczphbnkgPSB7fTtcbiAgICAgICAgaWYoZWxlbS50ID09PSBcInNlbGVjdFwiIHx8IGVsZW0udCA9PT0gXCJpbnB1dFwiIHx8IGVsZW0udCA9PT0gXCJ0ZXh0YXJlYVwiKSBwcm9wcy52YWx1ZSA9ICg8SFRNTFNlbGVjdEVsZW1lbnR8SFRNTElucHV0RWxlbWVudD5ldnQudGFyZ2V0KS52YWx1ZTtcbiAgICAgICAgaWYoZWxlbS50eXBlID09PSBcImNoZWNrYm94XCIpIHByb3BzLnZhbHVlID0gKDxIVE1MSW5wdXRFbGVtZW50PmV2dC50YXJnZXQpLmNoZWNrZWQ7XG4gICAgICAgIHNlbGYuaGFuZGxlRXZlbnQodGVtcGxhdGUsIGV2ZW50LCBldnQsIGVsZW0sIHByb3BzKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZXJzW21lbW9LZXldID0gKGV2dDpFdmVudCwgZWxlbTpFbGVtZW50KSA9PiB7XG4gICAgICAgIHNlbGYuaGFuZGxlRXZlbnQodGVtcGxhdGUsIGV2ZW50LCBldnQsIGVsZW0sIHt9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faGFuZGxlcnNbbWVtb0tleV07XG4gIH1cbiAgcHJvdGVjdGVkIGhhbmRsZUV2ZW50KHRlbXBsYXRlOnN0cmluZywgZXZlbnROYW1lOnN0cmluZywgZXZlbnQ6RXZlbnQsIGVsZW06RWxlbWVudCwgZXZlbnRQcm9wczp7fSkge1xuICAgIGxldCBhdHRyS2V5ID0gYCR7ZXZlbnROYW1lfTo6c3RhdGVgO1xuICAgIGxldCBzdGF0ZSA9IGVsZW1bYXR0cktleV07XG4gICAgbGV0IGNvbnRlbnQgPSB1bnBhZCg2KSBgXG4gICAgICAjICR7ZXZlbnROYW1lfSAoe2lzIGE6IGV2ZW50fSlcbiAgICAgICMjIE1ldGFcbiAgICAgIGV2ZW50IHRhcmdldDoge2V2ZW50IHRhcmdldDogJHtlbGVtLmlkfX1cbiAgICAgIGV2ZW50IHRlbXBsYXRlOiB7ZXZlbnQgdGVtcGxhdGU6ICR7dGVtcGxhdGV9fVxuICAgICAgZXZlbnQgdHlwZToge2V2ZW50IHR5cGU6ICR7ZXZlbnROYW1lfX1cblxuICAgICAgIyMgU3RhdGVcbiAgICBgO1xuICAgIGlmKHN0YXRlW1wiKmV2ZW50KlwiXSkge1xuICAgICAgZm9yKGxldCBwcm9wIGluIHN0YXRlW1wiKmV2ZW50KlwiXSlcbiAgICAgICAgY29udGVudCArPSBgJHtwcm9wfTogeyR7cHJvcH06ICR7ZXZlbnRQcm9wc1tzdGF0ZVtcIipldmVudCpcIl1bcHJvcF1dfX1cXG5gO1xuICAgIH1cbiAgICBmb3IobGV0IHByb3AgaW4gc3RhdGUpIHtcbiAgICAgIGlmKHByb3AgPT09IFwiKmV2ZW50KlwiKSBjb250aW51ZTtcbiAgICAgIGNvbnRlbnQgKz0gYCR7cHJvcH06IHske3Byb3B9OiAke3N0YXRlW3Byb3BdfX1cXG5gXG4gICAgfVxuXG4gICAgbGV0IGNoYW5nZXNldCA9IHRoaXMuaXhlci5kaWZmKCk7XG4gICAgbGV0IHJhdyA9IHV1aWQoKTtcbiAgICBsZXQgZW50aXR5ID0gYCR7ZXZlbnROYW1lfSBldmVudCAke3Jhdy5zbGljZSgtMTIpfWA7XG4gICAgY2hhbmdlc2V0LmFkZChcImJ1aWx0aW4gZW50aXR5XCIsIHtlbnRpdHksIGNvbnRlbnR9KTtcbiAgICB0aGlzLml4ZXIuYXBwbHlEaWZmKGNoYW5nZXNldCk7XG4gICAgY29uc29sZS5sb2coZW50aXR5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRFdmVudFN0YXRlKHRlbXBsYXRlOnN0cmluZywgZXZlbnQ6c3RyaW5nLCBiaW5kaW5nU3RhY2s6YW55W10pOnt9IHtcbiAgICBsZXQgc3RhdGUgPSB7fTtcbiAgICBsZXQgc3RhdGljQXR0cnMgPSB0aGlzLml4ZXIuZmluZChcInVpIGV2ZW50IHN0YXRlXCIsIHtcInVpIGV2ZW50IHN0YXRlOiB0ZW1wbGF0ZVwiOiB0ZW1wbGF0ZSwgXCJ1aSBldmVudCBzdGF0ZTogZXZlbnRcIjogZXZlbnR9KTtcbiAgICBmb3IobGV0IHtcInVpIGV2ZW50IHN0YXRlOiBrZXlcIjoga2V5LCBcInVpIGV2ZW50IHN0YXRlOiB2YWx1ZVwiOiB2YWx9IG9mIHN0YXRpY0F0dHJzKSBzdGF0ZVtrZXldID0gdmFsO1xuXG4gICAgbGV0IGJvdW5kQXR0cnMgPSB0aGlzLml4ZXIuZmluZChcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmdcIiwge1widWkgZXZlbnQgc3RhdGUgYmluZGluZzogdGVtcGxhdGVcIjogdGVtcGxhdGUsIFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogZXZlbnRcIjogZXZlbnR9KTtcbiAgICBmb3IobGV0IHtcInVpIGV2ZW50IHN0YXRlIGJpbmRpbmc6IGtleVwiOiBrZXksIFwidWkgZXZlbnQgc3RhdGUgYmluZGluZzogc291cmNlXCI6IHNvdXJjZSwgXCJ1aSBldmVudCBzdGF0ZSBiaW5kaW5nOiBhbGlhc1wiOiBhbGlhc30gb2YgYm91bmRBdHRycykge1xuICAgICAgaWYoc291cmNlID09PSBcIipldmVudCpcIikge1xuICAgICAgICBzdGF0ZVtcIipldmVudCpcIl0gPSBzdGF0ZVtcIipldmVudCpcIl0gfHwge307XG4gICAgICAgIHN0YXRlW1wiKmV2ZW50KlwiXVtrZXldID0gYWxpYXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZVtrZXldID0gdGhpcy5nZXRCb3VuZFZhbHVlKHNvdXJjZSwgYWxpYXMsIGJpbmRpbmdTdGFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmRlY2xhcmUgdmFyIGV4cG9ydHM7XG5pZih0aGlzLndpbmRvdykgd2luZG93W1widWlSZW5kZXJlclwiXSA9IGV4cG9ydHM7IiwiaW1wb3J0IHt2NCBhcyBfdXVpZH0gZnJvbSBcIi4uL3ZlbmRvci91dWlkXCI7XG5leHBvcnQgdmFyIHV1aWQgPSBfdXVpZDtcblxuZXhwb3J0IHZhciBFTlYgPSBcImJyb3dzZXJcIjtcbnRyeSB7XG4gIHdpbmRvd1xuICB3aW5kb3dbXCJ1dGlsc1wiXSA9IGV4cG9ydHM7XG59IGNhdGNoKGVycikge1xuICBFTlYgPSBcIm5vZGVcIjtcbn1cblxuZXhwb3J0IHZhciBERUJVRzphbnkgPSB7XG5cbn07XG5cbmlmKEVOViA9PT0gXCJicm93c2VyXCIpIHdpbmRvd1tcIkRFQlVHXCJdID0gREVCVUc7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsdGluSWQobmFtZTpzdHJpbmcpOnN0cmluZyB7XG4gIHJldHVybiBgQVVUT0dFTkVSQVRFRCAke25hbWV9IFRISVMgU0hPVUxETidUIFNIT1cgVVAgQU5ZV0hFUkVgO1xufVxuXG50eXBlIFRlbXBsYXRlU3RyaW5nVGFnID0gKHN0cmluZ3M6c3RyaW5nW10sIC4uLnZhbHVlczphbnlbXSkgPT4gc3RyaW5nXG5pbnRlcmZhY2UgdW5wYWQge1xuICAoaW5kZW50Om51bWJlcik6IFRlbXBsYXRlU3RyaW5nVGFnXG4gIG1lbW86IHtbaW5kZW50Om51bWJlcl06IFRlbXBsYXRlU3RyaW5nVGFnfVxufVxuZXhwb3J0IHZhciB1bnBhZDp1bnBhZCA9IDxhbnk+ZnVuY3Rpb24oaW5kZW50KSB7XG4gIGlmKHVucGFkLm1lbW9baW5kZW50XSkgcmV0dXJuIHVucGFkLm1lbW9baW5kZW50XTtcbiAgcmV0dXJuIHVucGFkLm1lbW9baW5kZW50XSA9IGZ1bmN0aW9uKHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICAgIGlmKCFzdHJpbmdzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGxldCByZXMgPSBcIlwiO1xuICAgIGxldCBpeCA9IDA7XG4gICAgZm9yKGxldCBzdHIgb2Ygc3RyaW5ncykgcmVzICs9IHN0ciArICh2YWx1ZXMubGVuZ3RoID4gaXggPyB2YWx1ZXNbaXgrK10gOiBcIlwiKTtcblxuICAgIGlmKHJlc1swXSA9PT0gXCJcXG5cIikgcmVzID0gcmVzLnNsaWNlKDEpO1xuICAgIGxldCBjaGFySXggPSAwO1xuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBjaGFySXgpICsgcmVzLnNsaWNlKGNoYXJJeCArIGluZGVudCk7XG4gICAgICBjaGFySXggPSByZXMuaW5kZXhPZihcIlxcblwiLCBjaGFySXgpICsgMTtcbiAgICAgIGlmKCFjaGFySXgpIGJyZWFrO1xuICAgIH1cbiAgcmV0dXJuIHJlcztcbiAgfVxufTtcbnVucGFkLm1lbW8gPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGVhdChzdHI6c3RyaW5nLCBsZW5ndGg6bnVtYmVyKSB7XG4gIGxldCBsZW4gPSBsZW5ndGggLyBzdHIubGVuZ3RoO1xuICBsZXQgcmVzID0gXCJcIjtcbiAgZm9yKGxldCBpeCA9IDA7IGl4IDwgbGVuOyBpeCsrKSAgcmVzICs9IHN0cjtcbiAgcmV0dXJuIChyZXMubGVuZ3RoID4gbGVuZ3RoKSA/IHJlcy5zbGljZSgwLCBsZW5ndGgpIDogcmVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuZGVybGluZShzdGFydEl4LCBsZW5ndGgpIHtcbiAgcmV0dXJuIHJlcGVhdChcIiBcIiwgc3RhcnRJeCkgKyBcIl5cIiArIHJlcGVhdChcIn5cIiwgbGVuZ3RoIC0gMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQ6c3RyaW5nKTpzdHJpbmcge1xuICByZXR1cm4gd29yZFswXS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGl0bGVjYXNlKG5hbWU6c3RyaW5nKTpzdHJpbmcge1xuICByZXR1cm4gbmFtZS5zcGxpdChcIiBcIikubWFwKGNhcGl0YWxpemUpLmpvaW4oXCIgXCIpO1xufVxuXG5sZXQgX3NsdWdpZnlSZXBsYWNlbWVudHMgPSB7XG4gIFwiLVwiOiBcImRhc2hcIixcbiAgXCJfXCI6IFwidW5kZXJcIixcbiAgXCIkXCI6IFwiZG9sbGFyXCIsXG4gIFwiJlwiOiBcImFuZFwiLFxuICBcIitcIjogXCJwbHVzXCIsXG4gIFwiLFwiOiBcImNvbW1hXCIsXG4gIFwiL1wiOiBcInNsYXNoXCIsXG4gIFwiOlwiOiBcImNvbG9uXCIsXG4gIFwiO1wiOiBcInNlbWljb2xvblwiLFxuICBcIj1cIjogXCJlcXVhbHNcIixcbiAgXCI/XCI6IFwicXVlc3Rpb25cIixcbiAgXCJAXCI6IFwiYXRcIixcbiAgXCI8XCI6IFwibHRcIixcbiAgXCI+XCI6IFwiZ3RcIixcbiAgXCIjXCI6IFwiaGFzaFwiLFxuICBcIiVcIjogXCJwZXJjZW50XCIsXG4gIFwie1wiOiBcIm9wZW5jdXJseVwiLFxuICBcIn1cIjogXCJjbG9zZWN1cmx5XCIsXG4gIFwifFwiOiBcInBpcGVcIixcbiAgXCJcXFxcXCI6IFwid2hhY2tcIixcbiAgXCJeXCI6IFwiY2FyZXRcIixcbiAgXCJ+XCI6IFwidGlsZGVcIixcbiAgXCJbXCI6IFwib3BlbmJyYWNrZXRcIixcbiAgXCJdXCI6IFwiY2xvc2VicmFja2V0XCIsXG4gIFwiYFwiOiBcImdyYXZlXCJcbn07XG5sZXQgX2Rlc2x1Z2lmeVJlcGxhY2VtZW50cyA9IHt9O1xuZm9yKGxldCBjaGFyIGluIF9zbHVnaWZ5UmVwbGFjZW1lbnRzKSB7XG4gIF9kZXNsdWdpZnlSZXBsYWNlbWVudHNbX3NsdWdpZnlSZXBsYWNlbWVudHNbY2hhcl1dID0gY2hhcjtcbn1cblxuLy8gU2x1Z2lmeSBlbmNvZGVzIGEgdXJpIGNvbXBvbmVudCBpbiBhIGZhaXJseSBodW1hbiByZWFkYWJsZSBmYXNoaW9uXG5leHBvcnQgZnVuY3Rpb24gc2x1Z2lmeSh0ZXh0OnN0cmluZyk6c3RyaW5nIHtcbiAgbGV0IHVybCA9IFwiXCI7XG4gIGZvcihsZXQgY2hhciBvZiB0ZXh0KSB7XG4gICAgbGV0IHJlcGxhY2VtZW50ID0gX3NsdWdpZnlSZXBsYWNlbWVudHNbY2hhcl07XG4gICAgaWYoY2hhciA9PT0gXCIgXCIpIHtcbiAgICAgIHVybCArPSBcIl9cIjtcbiAgICAgIFxuICAgIH0gZWxzZSBpZihyZXBsYWNlbWVudCkge1xuICAgICAgdXJsICs9IGAtJyR7cmVwbGFjZW1lbnR9LWA7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsICs9IGNoYXI7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2x1Z2lmeSh1cmw6c3RyaW5nKTpzdHJpbmcge1xuICBsZXQgdGV4dCA9IFtdO1xuICBmb3IobGV0IHdvcmQgb2YgdXJsLnNwbGl0KFwiX1wiKSkge1xuICAgIGlmKHdvcmQuaW5kZXhPZihcIi1cIikgPT09IC0xKSB7XG4gICAgICB0ZXh0LnB1c2god29yZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgcmVwbGFjZWQgPSBcIlwiO1xuICAgIGxldCB0b2tlbnMgPSB3b3JkLnNwbGl0KFwiLVwiKTtcbiAgICByZXBsYWNlZCArPSB0b2tlbnMuc2hpZnQoKTtcbiAgICBsZXQgdGFpbCA9IHRva2Vucy5wb3AoKTtcbiAgICBmb3IobGV0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgbGV0IHJlcGxhY2VtZW50ID0gX2Rlc2x1Z2lmeVJlcGxhY2VtZW50c1t0b2tlbi5zbGljZSgxKV07XG4gICAgICBpZihyZXBsYWNlbWVudCAmJiB0b2tlbi5pbmRleE9mKFwiJ1wiKSA9PT0gMCkge1xuICAgICAgICByZXBsYWNlZCArPSByZXBsYWNlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcGxhY2VkICs9IHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlZCArPSB0YWlsO1xuICAgIHRleHQucHVzaChyZXBsYWNlZCk7XG4gIH1cblxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHRleHQuam9pbihcIiBcIikpO1xufVxuXG5leHBvcnQgdmFyIHN0cmluZyA9IHtcbiAgdW5wYWQsXG4gIHJlcGVhdCxcbiAgdW5kZXJsaW5lLFxuICBjYXBpdGFsaXplLFxuICB0aXRsZWNhc2UsXG4gIHNsdWdpZnksXG4gIGRlc2x1Z2lmeVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRhaWwoYXJyKSB7XG4gIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuXG5leHBvcnQgdmFyIGFycmF5ID0ge1xuICB0YWlsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY29lcmNlSW5wdXQoaW5wdXQpIHtcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vcmVnZXgtdnMtcGx1cy1jb2VyY2lvblxuICBpZihpbnB1dCA9PT0gXCJcIikgcmV0dXJuIGlucHV0O1xuICBlbHNlIGlmKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIGlucHV0O1xuICBlbHNlIGlmICghaXNOYU4oK2lucHV0KSkgcmV0dXJuICtpbnB1dDtcbiAgZWxzZSBpZiAoaW5wdXQgPT09IFwidHJ1ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgZWxzZSBpZiAoaW5wdXQgPT09IFwiZmFsc2VcIikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbi8vIFNoYWxsb3cgY29weSB0aGUgZ2l2ZW4gb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob2JqKSB7XG4gIGlmKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG9iajtcbiAgaWYob2JqIGluc3RhbmNlb2YgQXJyYXkpIHJldHVybiBvYmouc2xpY2UoKTtcbiAgbGV0IHJlcyA9IHt9O1xuICBmb3IobGV0IGtleSBpbiBvYmopIHJlc1trZXldID0gb2JqW2tleV07XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU9iamVjdChyb290LCBvYmopIHtcbiAgZm9yKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgcm9vdFtrZXldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvRm9jdXMobm9kZSwgZWxlbSkge1xuICBpZighbm9kZS5mb2N1c2VkKSB7XG4gICAgbm9kZS5mb2N1c2VkID0gdHJ1ZTtcbiAgICBub2RlLmZvY3VzKCk7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBLRVlTID0ge1xuICBFU0M6IDI3LFxuICBFTlRFUjogMTMsXG4gIFVQOiAzOCxcbiAgRE9XTjogNDAsXG4gIEJBQ0tTUEFDRTogOCxcbiAgXCJdXCI6IDIyMSxcbn1cblxuLy8gRlJPTTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTI1MjkyL2hvdy10by1tb3ZlLWN1cnNvci10by1lbmQtb2YtY29udGVudGVkaXRhYmxlLWVudGl0eS8zODY2NDQyIzM4NjY0NDJcbmV4cG9ydCBmdW5jdGlvbiBzZXRFbmRPZkNvbnRlbnRFZGl0YWJsZShjb250ZW50RWRpdGFibGVFbGVtZW50KSB7XG4gIHZhciByYW5nZSxzZWxlY3Rpb247XG4gIGlmKGRvY3VtZW50LmNyZWF0ZVJhbmdlKS8vRmlyZWZveCwgQ2hyb21lLCBPcGVyYSwgU2FmYXJpLCBJRSA5K1xuICB7XG4gICAgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOy8vQ3JlYXRlIGEgcmFuZ2UgKGEgcmFuZ2UgaXMgYSBsaWtlIHRoZSBzZWxlY3Rpb24gYnV0IGludmlzaWJsZSlcbiAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoY29udGVudEVkaXRhYmxlRWxlbWVudCk7Ly9TZWxlY3QgdGhlIGVudGlyZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSByYW5nZVxuICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTsvL2NvbGxhcHNlIHRoZSByYW5nZSB0byB0aGUgZW5kIHBvaW50LiBmYWxzZSBtZWFucyBjb2xsYXBzZSB0byBlbmQgcmF0aGVyIHRoYW4gdGhlIHN0YXJ0XG4gICAgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOy8vZ2V0IHRoZSBzZWxlY3Rpb24gb2JqZWN0IChhbGxvd3MgeW91IHRvIGNoYW5nZSBzZWxlY3Rpb24pXG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpOy8vcmVtb3ZlIGFueSBzZWxlY3Rpb25zIGFscmVhZHkgbWFkZVxuICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7Ly9tYWtlIHRoZSByYW5nZSB5b3UgaGF2ZSBqdXN0IGNyZWF0ZWQgdGhlIHZpc2libGUgc2VsZWN0aW9uXG4gIH1cbn1cblxuLy8gTENHIGNvdXJ0ZXN5IG9mIDxodHRwczovL2dpc3QuZ2l0aHViLmNvbS9Qcm90b25rLzUzODkzODQ+XG5leHBvcnQgZnVuY3Rpb24gc3JhbmQoeikge1xuICBsZXQgbSA9IE1hdGgucG93KDIsIDI0KSwgYSA9IDE2NTk4MDEzLCBjID0gMTI4MjAxNjM7XG4gIHJldHVybiAoKSA9PiB6ID0gKGEgKiB6ICsgYykgJSBtIC8gbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGUoYXJyOmFueVtdLCByYW5kID0gTWF0aC5yYW5kb20pIHtcbiAgZm9yKGxldCBpID0gYXJyLmxlbmd0aCAtIDE7IGkgPiAwOyBpIC09IDEpIHtcbiAgICBsZXQgaiA9IE1hdGguZmxvb3IocmFuZCgpICogKGkgKyAxKSk7XG4gICAgbGV0IHRtcCA9IGFycltpXTtcbiAgICBhcnJbaV0gPSBhcnJbal07XG4gICAgYXJyW2pdID0gdG1wO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlGaWVsZChmaWVsZCwgZGlyZWN0aW9uID0gMSk6KGEsIGIpID0+IG51bWJlciB7XG4gIGxldCBiYWNrID0gLTEgKiBkaXJlY3Rpb247XG4gIGxldCBmd2QgPSBkaXJlY3Rpb247XG4gIHJldHVybiAoYSwgYikgPT5cbiAgICAoYVtmaWVsZF0gPT09IGJbZmllbGRdKSA/IDAgOlxuICAgIChhW2ZpZWxkXSA+IGJbZmllbGRdKSA/IGJhY2sgOlxuICAgIChhW2ZpZWxkXSA8IGJbZmllbGRdKSA/IGZ3ZCA6XG4gICAgKGFbZmllbGRdID09PSB1bmRlZmluZWQpID8gZndkIDogYmFjaztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzb3J0QnlMb29rdXAobG9va3VwOnt9LCBkaXJlY3Rpb24gPSAxKTooYSwgYikgPT4gbnVtYmVyIHtcbiAgbGV0IGJhY2sgPSAtMSAqIGRpcmVjdGlvbjtcbiAgbGV0IGZ3ZCA9IGRpcmVjdGlvbjtcbiAgcmV0dXJuIChhLCBiKSA9PlxuICAgIChsb29rdXBbYV0gPT09IGxvb2t1cFtiXSkgPyAwIDpcbiAgICAobG9va3VwW2FdID4gbG9va3VwW2JdKSA/IGJhY2sgOlxuICAgIChsb29rdXBbYV0gPCBsb29rdXBbYl0pID8gZndkIDpcbiAgICAobG9va3VwW2FdID09PSB1bmRlZmluZWQpID8gZndkIDogYmFjaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0aW9uKCkge1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7XG59XG4iLCJpbXBvcnQgKiBhcyBhcHAgZnJvbSBcIi4uL3NyYy9hcHBcIjtcbmltcG9ydCAqIGFzIG5scXAgZnJvbSAgXCIuLi9zcmMvTkxRdWVyeVBhcnNlclwiO1xuaW1wb3J0ICogYXMgYm9vdHN0cmFwIGZyb20gXCIuLi9zcmMvYm9vdHN0cmFwXCI7XG5pbXBvcnQgKiBhcyBkc2xwYXJzZXIgZnJvbSBcIi4uL3NyYy9wYXJzZXJcIjtcbmltcG9ydCB7ZXZlfSBmcm9tIFwiLi4vc3JjL2FwcFwiO1xuXG4vLyBASEFDSyBuZWVkZWQgYmVjYXVzZSBicm93c2VyaWZ5IGlzIGJlaW5nIHRvbyBjbGV2ZXIgYnlcbi8vIG9wdGltaXppbmcgYXdheSB1bnVzZWQgY29kZVxudmFyIGJvb3N0cmFwSXhlciA9IGJvb3RzdHJhcC5peGVyO1xuXG5hcHAucmVuZGVyUm9vdHNbXCJubHFwXCJdO1xuXG5ubHFwLmRlYnVnID0gZmFsc2U7XG5cbmZ1bmN0aW9uIHBhcnNlVGVzdChxdWVyeVN0cmluZzogc3RyaW5nLCBuOiBudW1iZXIpOiBubHFwLkludGVudHMge1xuICBsZXQgcGFyc2VSZXN1bHQ6IG5scXAuUmVzdWx0O1xuICBsZXQgYXZnVGltZSA9IDA7XG4gIGxldCBtYXhUaW1lID0gMDtcbiAgbGV0IG1pblRpbWU7XG5cbiAgLy8gUGFyc2Ugc3RyaW5nIGFuZCBtZWFzdXJlIGhvdyBsb25nIGl0IHRha2VzXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgbGV0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgcGFyc2VSZXN1bHQgPSBubHFwLnBhcnNlKHF1ZXJ5U3RyaW5nKVswXTtcbiAgICBsZXQgc3RvcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGF2Z1RpbWUgKz0gc3RvcC1zdGFydDtcbiAgICBpZiAoc3RvcC1zdGFydCA+IG1heFRpbWUpIHtcbiAgICAgIG1heFRpbWUgPSBzdG9wLXN0YXJ0O1xuICAgIH0gIFxuICAgIGlmIChtaW5UaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblRpbWUgPSBzdG9wLXN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIGlmIChzdG9wLXN0YXJ0IDwgbWluVGltZSkge1xuICAgICAgbWluVGltZSA9IHN0b3Atc3RhcnQ7XG4gICAgfSAgXG4gIH1cbiAgLy8gRGlzcGxheSByZXN1bHRcbiAgbGV0IHRva2VuU3RyaW5ncyA9IG5scXAudG9rZW5BcnJheVRvU3RyaW5nKHBhcnNlUmVzdWx0LnRva2Vucyk7XG4gIGxldCB0aW1pbmdEaXNwbGF5ID0gYFRpbWluZyAoYXZnLCBtYXgsIG1pbik6ICR7KGF2Z1RpbWUvbikudG9GaXhlZCgyKX0gfCAke21heFRpbWUudG9GaXhlZCgyKX0gfCAke21pblRpbWUudG9GaXhlZCgyKX0gYDtcbiAgY29uc29sZS5sb2cocGFyc2VSZXN1bHQpO1xuICBjb25zb2xlLmxvZyhxdWVyeVN0cmluZyk7XG4gIGNvbnNvbGUubG9nKGBTdGF0ZTogJHtubHFwLkludGVudHNbcGFyc2VSZXN1bHQuaW50ZW50XX1gKTtcbiAgY29uc29sZS5sb2cocGFyc2VSZXN1bHQuY29udGV4dCk7XG4gIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgY29uc29sZS5sb2coXCJUb2tlbnNcIik7ICBcbiAgY29uc29sZS5sb2codG9rZW5TdHJpbmdzKTtcbiAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICBjb25zb2xlLmxvZyhcIlRyZWVcIik7XG4gIGNvbnNvbGUubG9nKHBhcnNlUmVzdWx0LnRyZWUudG9TdHJpbmcoKSk7XG4gIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgY29uc29sZS5sb2coXCJRdWVyeVwiKTsgIFxuICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIik7XG4gIGNvbnNvbGUubG9nKFwiUmVzdWx0XCIpO1xuICBjb25zb2xlLmxvZyhxdWVyeVN0cmluZyk7XG4gIGNvbnNvbGUubG9nKHBhcnNlUmVzdWx0LnF1ZXJ5LnRvU3RyaW5nKCkpO1xuICBjb25zb2xlLmxvZyhleGVjdXRlUXVlcnkocGFyc2VSZXN1bHQucXVlcnkpWzBdKTtcbiAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICBjb25zb2xlLmxvZyh0aW1pbmdEaXNwbGF5KTtcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICByZXR1cm4gcGFyc2VSZXN1bHQuaW50ZW50O1xufVxuXG5mdW5jdGlvbiBleGVjdXRlUXVlcnkocXVlcnk6IG5scXAuUXVlcnkpOiBBcnJheTxzdHJpbmc+IHtcbiAgbGV0IHJlc3VsdHNTdHJpbmc6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgaWYgKHF1ZXJ5LnByb2plY3RzLmxlbmd0aCAhPT0gMCkge1xuICAgIGxldCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvU3RyaW5nKCk7XG4gICAgbGV0IGFydGlmYWN0cyA9IGRzbHBhcnNlci5wYXJzZURTTChxdWVyeVN0cmluZyk7XG4gICAgbGV0IGNoYW5nZXNldCA9IGV2ZS5kaWZmKCk7XG4gICAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpZCBpbiBhcnRpZmFjdHMudmlld3MpIHtcbiAgICAgIGV2ZS5hc1ZpZXcoYXJ0aWZhY3RzLnZpZXdzW2lkXSk7IFxuICAgIH1cbiAgICBmb3IgKGxldCBpZCBpbiBhcnRpZmFjdHMudmlld3MpIHtcbiAgICAgIHJlc3VsdHMucHVzaChhcnRpZmFjdHMudmlld3NbaWRdLmV4ZWMoKSk7IFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhyZXN1bHRzKTtcbiAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCkgPT4ge1xuICAgICAgbGV0IHByb2plY3RlZCA9IHJlc3VsdC5yZXN1bHRzO1xuICAgICAgaWYgKHByb2plY3RlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gR2V0IGVhY2ggY2VsbCBhcyBhIHN0cmluZ1xuICAgICAgbGV0IGNvbFdpZHRocyA9IFtdO1xuICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9qZWN0ZWRbMF0pO1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtjb2xXaWR0aHMucHVzaChrZXkubGVuZ3RoKX0pO1xuICAgICAgbGV0IHJvd3M6IEFycmF5PEFycmF5PHN0cmluZz4+ID0gcHJvamVjdGVkLm1hcCgocm93KSA9PiB7XG4gICAgICAgIGxldCByb3dzdHJpbmcgPSBrZXlzLm1hcCgoa2V5LGkpID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID09PSBcIl9faWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB2YWx1ZSA9IGAke3Jvd1trZXldfWA7XG4gICAgICAgICAgbGV0IGRpc3BsYXkgPSBldmUuZmluZE9uZShcImRpc3BsYXkgbmFtZVwiLHtpZDogdmFsdWV9KTtcbiAgICAgICAgICBpZiAoZGlzcGxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGRpc3BsYXkubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gR2V0IHRoZSB3aWR0aCBvZiBlYWNoIHJvd1xuICAgICAgICAgIGlmIChjb2xXaWR0aHNbaV0gPCB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbFdpZHRoc1tpXSA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJvd3N0cmluZztcbiAgICAgIH0pO1xuICAgICAgLy8gVHVybiByb3dzIGludG8gcm93IHN0cmluZ3NcbiAgICAgIGxldCByb3dTdHJpbmdzID0gcm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgICByb3cgPSByb3cubWFwKChjZWxsLGkpID0+IHtcbiAgICAgICAgICBsZXQgd2hpdGVzcGFjZSA9IEFycmF5KGNvbFdpZHRoc1tpXSAtIGNlbGwubGVuZ3RoICsgMSkuam9pbihcIiBcIik7XG4gICAgICAgICAgY2VsbCArPSB3aGl0ZXNwYWNlO1xuICAgICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwifCBcIiArIHJvdy5qb2luKFwiIHwgXCIpO1xuICAgICAgfSk7XG4gICAgICAvLyBBZGQgYSB0YWJsZSBoZWFkZXJcbiAgICAgIGxldCB0YWJsZUhlYWRlciA9IFwifCBcIiArIGtleXMubWFwKChrZXksaSkgPT4ge1xuICAgICAgICBpZiAoa2V5ID09PSBcIl9faWRcIikge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aGl0ZXNwYWNlID0gQXJyYXkoY29sV2lkdGhzW2ldIC0ga2V5Lmxlbmd0aCArIDEpLmpvaW4oXCIgXCIpO1xuICAgICAgICByZXR1cm4ga2V5LnRvVXBwZXJDYXNlKCkgKyB3aGl0ZXNwYWNlOyBcbiAgICAgIH0pLmpvaW4oXCIgfCBcIik7XG4gICAgICBsZXQgZGl2aWRlciA9IEFycmF5KHRhYmxlSGVhZGVyLmxlbmd0aCkuam9pbihcIi1cIik7XG4gICAgICBsZXQgcmVzdWx0VGFibGUgPSBkaXZpZGVyICs9IFwiXFxuXCIgKyB0YWJsZUhlYWRlciArIFwiXFxuXCIgKyBkaXZpZGVyICsgXCJcXG5cIiArIHJvd1N0cmluZ3Muam9pbihcIlxcblwiKSArIFwiXFxuXCIgKyBkaXZpZGVyOyBcbiAgICAgIHJlc3VsdHNTdHJpbmcucHVzaChyZXN1bHRUYWJsZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHNTdHJpbmc7XG59XG5cbmxldCBuID0gMTtcbmxldCBwaHJhc2VzID0gWyBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBUaGVzZSBhcmUgcXVlcmllcyB0aGF0IHdlIGhhZCBwcm9ibGVtcyB3aXRoIGluIHRoZSBwYXN0XG4gIC8vIG1ha2Ugc3VyZSB0aGV5IGFsd2F5cyB3b3JrXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLyBcbiAgXG4gIC8vXCJlbXBsb3llZXMsIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXG4gIC8qXG4gIFwiQ29yZXkncyBzYWxhcnksIGRlcGFydG1lbnQsIGFuZCBhZ2VcIixcbiAgXCJDb3JleSdzIHdpZmUncyBhZ2UsIGdlbmRlciwgYW5kIGhlaWdodFwiLFxuICAqL1xuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcIm1vb25zIHllYXIgZGlzY292ZXJlZCBhZnRlciBhcmllbCB5ZWFyIGRpc2NvdmVyZWRcIiwgIFxuICBcIm1vb25zIG9mIGp1cGl0ZXJcIixcbiAgXCJtb29ucyBkaXNjb3ZlcmVkIGJ5IHNpciB3aWxsaWFtIGhlcnNjaGVsXCIsXG4gIFwianVwaXRlcidzIG1vb25zXCIsXG4gIFwibW9vbnMgcGVyIHBsYW5ldFwiLFxuICBcInBsYW5ldHMgcGVyIG1vb25cIixcbiAgXCJudW1iZXIgb2YgbW9vbnMgcGVyIHBsYW5ldFwiLFxuICBcImNvdW50IHRoZSBudW1iZXIgb2YgbW9vbnMgcGVyIHBsYW5ldFwiLFxuICBcIm1vb25zIHdob3NlIHllYXIgZGlzY292ZXJlZCBpcyAxNjEwXCIsXG4gIFwiZ2FueW1lZGUgd2FzIGRpc2NvdmVyZWQgYnlcIixcbiAgXCJwbGFuZXRzIHdpdGggdGhlaXIgbW9vbnNcIiwgXG4gIFwiZ2FueW1lZGUgZGlzY292ZXJlZCBieVwiLFxuICBcIm1vb25zIGRpc2NvdmVyZWQgYnkgZ2FsaWxlbyBnYWxpbGVpXCIsXG4gIFwibW9vbnMgZGlzY292ZXJlZCBieSBzaXIgd2lsbGlhbSBoZXJzY2hlbFwiLFxuICBcInBsYW5ldHMgZGlzY292ZXJlZCBieSBnYWxpbGVvIGdhbGlsZWlcIixcbiAgXCJwbGFuZXRzIGRpc2NvdmVyZWQgYnkgc2lyIHdpbGxpYW0gaGVyc2NoZWxcIixcbiAgXCJjZWxlc3RpYWwgYm9kaWVzIGRpc2NvdmVyZWQgYnkgR2FsaWxlbyBHYWxpbGVpXCIsICBcbiAgLy9cInNhbGFyeSdzIHN1bSAqIFwiXG4gIC8vXCJjb21wb3NlciBjb21wb3NpdGlvbnNcIixcbiAgLy9cImNvbXBvc2VyIGNvbXBvc2l0aW9uXCIsXG4gIC8vXCJDb3JleSdzIGRlcGFydG1lbnQgaXMgZW5naW5lZXJpbmdcIixcbiAgXCJjb3JleSdzIHNhbGFyeVwiLFxuICAvL1wiam9zaCdzIHNhbGFyeSAqIGNvcmV5IG1vbnRlbGxhJ3MgYWdlXCJcbiAgLy9cIkNocmlzJyBzYWxhcnkgYW5kIGRlcGFydG1lbnRcIlxuICAvL1wiRW1wbG95ZWUncyB1bmlvblwiXG4gIFwicGV0cyBsZW5ndGhzXCIsXG4gIFwiZW1wbG95ZWUgZGVwYXJ0bWVudHNcIixcbiAgLy9cIkNvcmV5J3Mgc2FsYXJ5LCBkZXBhcnRtZW50LCBhbmQgYWdlXCIsXG4gIFwiMyAtIENvcmV5J3Mgc2FsYXJ5XCIsXG4gIFwiMSsxXCIsXG4gIFwiZW1wbG95ZWVzIHdpdGggdGhlaXIgZGVwYXJ0bWVudHNcIixcbiAgXCJlbXBsb3llZXMgd2l0aCB0aGVpciBkZXBhcnRtZW50cyBhbmQgc2FsYXJpZXNcIixcbiAgXCJlbXBsb3llZSBzYWxhcnkgYW5kIGVtcGxveWVlIGRlcGFydG1lbnRcIixcbiAgXCJlbXBsb3llZSBzYWxhcnkgYW5kIGRlcGFydG1lbnRcIixcbiAgJ3Rlc3QgZGF0YSB0aGF0IGlzIGFuIGVtcGxveWVlJyxcbiAgXCJzYWxhcmllcyBwZXIgZW1wbG95ZWUgcGVyIGRlcGFydG1lbnRcIixcbiAgXCJzYWxhcmllcyBwZXIgZGVwYXJ0bWVudCBwZXIgZW1wbG95ZWVcIixcbiAgYGVtcGxveWVlcyB3aGljaCBhcmUgdGVzdCBkYXRhYCxcbiAgXCJzdW0gb2Ygc2FsYXJpZXMgaW4gZW5naW5lZXJpbmdcIixcbiAgXCJzdW0gb2Ygc2FsYXJpZXMgaW4gdGhlIGVuZ2luZWVyaW5nIGRlcGFydG1lbnRcIixcbiAgXCJzYWxhcmllcyBpbiBlbmdpbmVlcmluZ1wiLFxuICAnZXhvdGljcyB0aGF0IGFyZSB0ZXN0IGRhdGEnLFxuICAndGVzdCBkYXRhIHRoYXQgYXJlIGVtcGxveWVlcycsXG4gIFwiUGV0cyB0aGF0IG5vdCBsZW5ndGhcIixcbiAgXCJwZXRzIHRoYXQgZG8gbm90IGhhdmUgYSBsZW5ndGhcIixcbiAgXCJQZXRzIGV4Y2VwdCB0aG9zZSBsb25nZXIgdGhhbiBhIGtvYWxhXCIsXG4gIFwiUGV0IG5vdCBsb25nZXIgdGhhbiBrb2FsYXNcIixcbiAgXCJleG90aWMgdGhhdCBhcmUgbm90IHBldHNcIixcbiAgXCJwZXRzIG5vdCBleG90aWNzXCIsXG4gIFwiUGV0cyB0aGF0IGFyZSBleG90aWMgd2l0aCBsZW5ndGggPD0gM1wiLFxuICBcIlBldHMgdGhhdCBhcmUgZXhvdGljIHdpdGggbGVuZ3RoICE9IDRcIixcbiAgLy9cIkNvcmV5J3Mgc2FsYXJ5ICsgM1wiLFxuICBcImV4b3RpYyBsZW5ndGhzXCIsXG4gIFwic3VtIGxlbmd0aHMgb2YgcGV0cyB0aGF0IGFyZSBleG90aWNcIixcbiAgXCJwZXRzIHRoYXQgYXJlIGV4b3RpYyB0aGF0IGhhdmUgbGVuZ3RoXCIsXG4gIFwiZXhvdGljIHBldHNcIixcbiAgXCJzdW0gb2YgZW1wbG95ZWUgc2FsYXJpZXNcIixcbiAgXCJzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFxuICBcImVtcGxveWVlIHNhbGFyaWVzXCIsXG4gIFwic3VtIGVtcGxveWVlIHNhbGFyaWVzXCIsXG4gIFwiZXhvdGljIGxlbmd0aHNcIixcbiAgXCJzYWxhcmllcyBieSBkZXBhcnRtZW50XCIsXG4gIFwiZW1wbG95ZWUgc2FsYXJpZXNcIixcbiAgXCJlbXBsb3llZXMgd2l0aCB0aGVpciBzYWxhcmllc1wiLFxuICBcImVtcGxveWVlcyB3aXRoIHRoZWlyIGRlcGFydG1lbnRzXCIsXG4gIFwiZW1wbG95ZWVzIGFuZCB0aGVpciBzYWxhcmllc1wiLFxuICBcInN1bSBzYWxhcmllc1wiLFxuICBcIlBldCBzaG9ydGVyIHRoYW4ga29hbGFcIixcbiAgXCJzdW0gc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcbiAgXCJzdW0gc2FsYXJ5IHBlciBkZXBhcnRtZW50XCIsXG4gIFwicGV0cyBsZW5ndGhzXCIsXG4gIFwiZGVwYXJ0bWVudCBzYWxhcmllc1wiLFxuICBcImNvcmV5J3Mgc2FsYXJ5XCIsXG4gIFwibGVuZ3Roc1wiLFxuICBcInN1bSBsZW5ndGhzXCIsXG4gIFwic3VtIHBldCBsZW5ndGhzXCIsXG4gIFwic3VtIHBldCBsZW5ndGhcIixcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vYFBldHMgZXhjZXB0IHRob3NlIHNob3J0ZXIgdGhhbiBhIGtvYWxhYCxcbiAgLy9gc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRgLFxuICAvL2BFbXBsb3llZXMgbm90IG5hbWVkIENvcmV5YCxcbiAgLy9gUGV0cyBrb2FsYXNgLFxuICAvL2BFbXBsb3llZXMgd2hvIGFyZSBub3QgQ29yZXlgLFxuICAvL2BQZXRzIHRoYXQgYXJlIG5vdCBsb25nZXIgdGhhbiBrb2FsYXNgLFxuICAvL1wiZXhvdGljIHBldHNcIlxuICAvL1wiQ29yZXkgTW9udGVsbGEncyBhZ2UsIGhlaWdodCwgYW5kIGdlbmRlclwiLFxuICAvL1wicGV0cyBsb25nZXIgdGhhbiBkb2dzXCIsXG4gIC8vXCJkZXBhcnRtZW50IHNhbGFyaWVzXCIsXG4gIC8vXCJQZXRzIHNob3J0ZXIgdGhhbiBkb2dzXCIsXG4gIC8vXCJDb3JleSBNb250ZWxsYSdzIHdpZmUncyBhZ2VcIixcbiAgLy9cInNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCJcbiAgLy9cIkNvcmV5IE1vbnRlbGxhJ3MgYWdlIGhlaWdodFwiLFxuICAvL1wiQ29yZXkgTW9udGVsbGEncyB3aWZlJ3MgYWdlIGFuZCBoZWlnaHRcIixcbiAgLy9cIkNvcmV5IE1vbnRlbGxhJ3MgYWdlLCBoZWlnaHRcIixcbiAgLy9cIlN0ZXZlJ3MgYWdlIGFuZCBzYWxhcnlcIixcbiAgLy9gYWdlLCBoZWlnaHQsIGFuZCBnZW5kZXIgb2YgXCJDb3JleSBNb250ZWxsYVwiIGFuZCBoaXMgbmF0aW9uYWxpdHkgYW5kIGFnZTsgYW5kIGFnZSBhbmQgZ2VuZGVyIG9mIFwiUmFjaGVsIFJvbWFpbiBGYXkgTW9udGVsbGFcIiBhbmQgaGVyIGh1c2JhbmQncyB3aWZlJ3Mgc2lzdGVyJ3MgaGVpZ2h0OyBhbmQgQ29yZXkncyBhZ2VgLFxuICAvL2BcIkNvcmV5IE1vbnRlbGxhJ3NcIiBXaWZlJ3Mgc2lzdGVyJ3MgYWdlOyBhbmQgYWdlIGFuZCBnZW5kZXIgb2YgXCJSYWNoZWwgUm9tYWluIEZheSBNb250ZWxsYVwiIGFuZCBoZXIgaGVpZ2h0OyBhbmQgT2xpdmlhIEZheSBhZ2UsIGhlaWdodCwgYW5kIGdlbmRlcjsgYW5kIHBldHMgc2hvcnRlciB0aGFuIHNuYWtlczsgYW5kIHN1bSBvZiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudGAsXG4gIC8vXCJDb3JleSBNb250ZWxsYSdzIGFnZSwgaGVpZ2h0LCBhbmQgZ2VuZGVyOyBhbmQgYWdlIGFuZCBnZW5kZXIgb2YgUmFjaGVsIE1vbnRlbGxhIGFuZCBoZXIgc2lzdGVyJ3MgYWdlOyBhbmQgT2xpdmlhIEZheSBhZ2VcIixcbiAgLy9cIldoYXQgaXMgQ29yZXkgTW9udGVsbGEncyB3aWZlJ3MgYWdlIVwiLFxuICAvL1wic3VtIG9mIHRoZSBsZW5ndGhzIG9mIHRoZSBwZXRzXCIsXG4gIC8vXCJzdW0gb2YgdGhlIGxlbmd0aCBvZiBwZXRzXCIsXG4gIC8vXCJDb3JleSBNb250ZWxsYSdzIEhlaWdodFwiLFxuICAvL1wiUGVvcGxlIHRhbGxlciB0aGFuIENvcmV5IE1vbnRlbGxhXCIsXG4gIC8vXCJQZW9wbGUgeW91bmdlciB0aGFuIENvcmV5IE1vbnRlbGxhXCJcbiAgLy9cInN1bSBvZiB0aGUgbGVuZ3RocyBvZiB0aGUgcGV0cyBhbmQgdGhlIGNvdW50IG9mIGZyaWVuZHMgb2xkZXIgdGhhbiAzMFwiLFxuICAvL1wic3VtIG9mIHRoZSBsZW5ndGhzIG9mIHRoZSBwZXRzIGRpdmlkZWQgYnkgdGhlaXIgYXZlcmFnZSBhZ2VcIixcbiAgLy9cIkNvcmV5IE1vbnRlbGxhJ3Mgd2lmZSwgUmFjaGVsIE1vbnRlbGxhJ3MgaHVzYmFuZCdzIGFnZSwgYW5kIEpvc2gncyBwZXQgdHVydGxlIG9yIENocmlzIFN0ZXZlIEdyYW5nZXIncyBwZXQgZG9nXCIsXG4gIC8vXCJDb3JleSBKYW1lcyBNb250ZWxsYSdzIGFnZSBvciBoaXMgd2lmZSdzIGhlaWdodFwiLFxuICAvL1wiUGVvcGxlIHlvdW5nZXIgdGhhbiBDb3JleSBNb250ZWxsYVwiXG4gIC8qXG4gIFwiQ29yZXkgTW9udGVsbGEncyBhZ2VcIixcbiAgXCJDb3JleSBNb250ZWxsYSdzIGhhaXIgY29sb3JcIixcbiAgXCJXaGF0IHdhcyBDb3JleSBNb250ZWxsYSdzIGxvd2VzdCBzYWxhcnlcIixcbiAgXCJXaGF0IHdhcyBDb3JleSdzIGZpcnN0IGNhclwiLFxuICAvKlxuICBcIkNvcmV5IE1vbnRlbGxhJ3MgYWdlXCIsXG4gIFwiQ29yZXkncyBhZ2VcIixcbiAgXCJQZW9wbGUgeW91bmdlciB0aGFuIENvcmV5IE1vbnRlbGxhXCIsXG4gIFwiTW9kZXJuIEZhbWlseSBlcGlzb2RlIHdpdGggRWR3YXJkIE5vcnRvblwiLFxuICBcIlN1bSBvZiB0aGUgbGVuZ3RocyBvZiB0aGUgcGV0c1wiLFxuICBcIldobyBsb3ZlcyBDb3JleT9cIixcbiAgXCJXaG8gZG9lcyBDb3JleSBsb3ZlP1wiLFxuICBcIkRpZCB0aGUgZ3JvdW5kaG9nIHNlZSBpdHMgc2hhZG93P1wiLFxuICBcIldoZW4gZGlkIENvcmV5IGdvIG91dCB3aXRoIGhpcyB3aWZlIG9yIGhlciBmcmllbmRzP1wiLFxuICBcIlBlb3BsZSB5b3VuZ2VyIHRoYW4gQ29yZXkgTW9udGVsbGFcIixcbiAgXCJob3cgb2Z0ZW4gZG9lcyBjaGFzZSBoYXZlIGx1bmNoIHdpdGggaGlzIHdpZmUgb3IgaGVyIGZyaWVuZHNcIixcbiAgXCJwZW9wbGUgd2hvIGFyZSB1bmRlciAzMCB5ZWFycyBvbGRcIixcbiAgXCJwZW9wbGUgd2hvIGFyZSB1bmRlciAzMCBwb3VuZHNcIixcbiAgXCJwZW9wbGUgd2hvIGFyZSB1bmRlciAzMFwiLFxuICBcInBlb3BsZSB3aG9zZSBhZ2UgPCBDaHJpcyBHcmFuZ2VyJ3NcIixcbiAgXCJwZW9wbGUgd2hvc2UgYWdlIDwgQ2hyaXMgR3JhbmdlcidzIGFnZVwiLFxuICBcInBlb3BsZSB3aG9zZSBhZ2UgaXMgbGVzcyB0aGFuIENocmlzIEdyYW5nZXInc1wiLFxuICBcInBlb3BsZSB3aG8gYXJlIHlvdW5nZXIgdGhhbiBDaHJpcyBHcmFuZ2VyXCIsXG4gIFwicGVvcGxlIG9sZGVyIHRoYW4gQ29yZXkgTW9udGVsbGEncyBzcG91c2VcIixcbiAgXCJwZW9wbGUgb2xkZXIgdGhhbiB0aGVpciBzcG91c2VcIixcbiAgXCJwZW9wbGUgd2hvIGFyZSBlaXRoZXIgaGVhZHMgb3Igc3BvdXNlcyBvZiBoZWFkc1wiLFxuICBcInBlb3BsZSB3aG8gaGF2ZSByZWQgb3IgYmxhY2sgaGFpclwiLFxuICBcInBlb3BsZSB3aG8gaGF2ZSBhIGhhaXIgY29sb3Igb2YgcmVkIG9yIGJsYWNrXCIsXG4gIFwicGVvcGxlIHdobyBoYXZlIG5laXRoZXIgYXR0ZW5kZWQgYSBtZWV0aW5nIG5vciBoYWQgYSBvbmUtb24tb25lXCIsXG4gIFwic2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcbiAgXCJzYWxhcmllcyBwZXIgZGVwYXJ0bWVudCBhbmQgYWdlXCIsXG4gIFwic2FsYXJpZXMgcGVyIGRlcGFydG1lbnQsIGVtcGxveWVlLCBhbmQgYWdlXCIsXG4gIFwic3VtIG9mIHRoZSBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFxuICBcImF2ZXJhZ2Ugb2YgdGhlIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXG4gIFwidG9wIDIgZW1wbG95ZWUgc2FsYXJpZXNcIixcbiAgXCJ0b3AgMiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFxuICBcInN1bSBvZiB0aGUgdG9wIDIgc2FsYXJpZXMgcGVyIGRlcGFydG1lbnRcIixcbiAgXCJkZXBhcnRtZW50cyB3aGVyZSBhbGwgdGhlIGVtcGxveWVlcyBhcmUgb3Zlci00MCBtYWxlc1wiLFxuICBcImVtcGxveWVlcyB3aG9zZSBzYWxlcyBhcmUgZ3JlYXRlciB0aGFuIHRoZWlyIHNhbGFyeVwiLFxuICBcImNvdW50IGVtcGxveWVlcyBhbmQgdGhlaXIgc3BvdXNlc1wiLFxuICBcImRpc2hlcyB3aXRoIGVnZ3MgYW5kIGNoaWNrZW5cIixcbiAgXCJkaXNoZXMgd2l0aG91dCBlZ2dzIGFuZCBjaGlja2VuXCIsXG4gIFwiZGlzaGVzIHdpdGhvdXQgZWdncyBvciBjaGlja2VuXCIsXG4gIFwiZGlzaGVzIHdpdGggZWdncyB0aGF0IGFyZW4ndCBkZXNzZXJ0c1wiLFxuICBcImRpc2hlcyB0aGF0IHRha2UgMzAgbWludXRlcyB0byBhbiBob3VyXCIsXG4gIFwicGVvcGxlIHdobyBsaXZlIGFsb25lXCIsXG4gIFwiZXZlcnlvbmUgaW4gdGhpcyByb29tIHNwZWFrcyBhdCBsZWFzdCB0d28gbGFuZ3VhZ2VzXCIsXG4gIFwiQmlyZHMgY2FuIGZseSwgYnV0IHBlbmd1aW5zIGNhbiBub3QsIGJ1dCBIYXJyeSB0aGUgUm9ja2V0IFBlbmd1aW4gY2FuLlwiLFxuICBcImF0IGxlYXN0IHR3byBsYW5ndWFnZXMgYXJlIHNwb2tlbiBieSBldmVyeW9uZSBpbiB0aGlzIHJvb21cIixcbiAgXCJmcmllbmRzIG9sZGVyIHRoYW4gdGhlIGF2ZXJhZ2UgYWdlIG9mIHBlb3BsZSB3aXRoIHBldHNcIixcbiAgXCJtZWV0aW5ncyBqb2huIHdhcyBpbiBpbiB0aGUgbGFzdCAxMCBkYXlzXCIsXG4gIFwicGFydHMgdGhhdCBoYXZlIGEgY29sb3Igb2YgcmVkLCBncmVlbiwgYmx1ZSwgb3IgeWVsbG93XCIsXG4gIFwiZW1wbG95ZWUgc2FsYXJ5IC8gZW1wbG95ZWUncyBkZXBhcnRtZW50IHRvdGFsIGNvc3RcIixcbiAgXCJSZXR1cm4gdGhlIGF2ZXJhZ2UgbnVtYmVyIG9mIHB1YmxpY2F0aW9ucyBieSBCb2IgaW4gZWFjaCB5ZWFyXCIsXG4gIFwiUmV0dXJuIHRoZSBjb25mZXJlbmNlIGluIGVhY2ggYXJlYSB3aG9zZSBwYXBlcnMgaGF2ZSB0aGUgbW9zdCB0b3RhbCBjaXRhdGlvbnNcIixcbiAgXCJyZXR1cm4gYWxsIGNvbmZlcmVuY2VzIGluIHRoZSBkYXRhYmFzZSBhcmVhXCIsXG4gIFwicmV0dXJuIGFsbCB0aGUgb3JnYW5pemF0aW9ucywgd2hlcmUgdGhlIG51bWJlciBvZiBwYXBlcnMgYnkgdGhlIG9yZ2FuaXphdGlvbiBpcyBtb3JlIHRoYW4gdGhlIG51bWJlciBvZiBhdXRob3JzIGluIElCTVwiLFxuICBcInJldHVybiB0aGUgYXV0aG9ycywgd2hlcmUgdGhlIG51bWJlciBvZiBwYXBlcnMgYnkgZWFjaCBhdXRob3IgaW4gVkxEQiBpcyBtb3JlIHRoYW4gdGhlIG51bWJlciBvZiBwYXBlcnMgaW4gSUNERVwiLFxuICBcIldoYXQgYXJlIHRoZSBwb3B1bGF0aW9ucyBvZiBjaXRpZXMgdGhhdCBhcmUgbG9jYXRlZCBpbiBDYWxpZm9ybmlhP1wiLFxuICBcIldoYXQgam9icyBhcyBhIHNlbmlvciBzb2Z0d2FyZSBkZXZlbG9wZXIgYXJlIGF2YWlsYWJsZSBpbiBIb3VzdG9uIGJ1dCBub3QgU2FuIEFudG9uaW8/XCIsXG4gIFwiTmVpdGhlciBvZiB0aGVzZSBib3lzIHdhbnRzIHRvIHRyeSBhIHBpZWNlIG9mIHBpbmVhcHBsZSBwaXp6YS5cIixcbiAgXCJTaG9ydGVzdCBmbGlnaHQgYmV0d2VlbiBOZXcgWW9yayBhbmQgU2FuIEZyYW5jaXNjb1wiLFxuICBcIldoZW4gZGlkIENvcmV5IE1vbnRlbGxhIG1hcnJ5IGhpcyBzcG91c2U/XCIsXG4gIFwiQWdlcyBvZiBDaHJpcyBTdGV2ZSBHcmFuZ2VyLCBDb3JleSBKYW1lcyBJcnZpbmUgTW9udGVsbGEsIGFuZCBKb3NoIENvbGVcIiwgIFxuICBcIlRoZSBzd2VldCBwb3RhdG9lcyBpbiB0aGUgdmVnZXRhYmxlIGJpbiBhcmUgZ3JlZW4gd2l0aCBtb2xkLlwiLFxuICBcIlN0YXRlcyBpbiB0aGUgVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhXCIsXG4gIFwiUGVvcGxlIG9sZGVyIHRoYW4gQ2hyaXMgR3JhbmdlciBhbmQgeW91bmdlciB0aGFuIEVkd2FyZCBOb3J0b25cIixcbiAgXCJTdW0gb2YgdGhlIHNhbGFyaWVzIHBlciBkZXBhcnRtZW50XCIsXG4gIFwiRGlzaGVzIHdpdGggZWdncyBhbmQgY2hpY2tlblwiLFxuICBcIlBlb3BsZSB3aG9zZSBhZ2UgPCAzMFwiLFxuICBcIlBlb3BsZSBiZXR3ZWVuIDUwIGFuZCA2MCB5ZWFycyBvbGRcIixcbiAgXCJTdGV2ZSBpcyAxMCB5ZWFycyBvbGQgYW5kIFN2ZW4gaXMgMTIgeWVhcnMgb2xkXCIsXG4gIFwic2FsYXJpZXMgcGVyIGRlcGFydG1lbnQsIGVtcGxveWVlLCBhbmQgYWdlXCIsXG4gIFwiV2hlcmUgYXJlIHRoZSByZXN0YXVyYW50cyBpbiBTYW4gRnJhbmNpc2NvIHRoYXQgc2VydmUgZ29vZCBGcmVuY2ggZm9vZD9cIixcbiAgXCJEaXNoZXMgdGhhdCBkbyBub3QgaGF2ZSBlZ2dzIG9yIGNoaWNrZW5cIixcbiAgXCJXaG8gaGFkIHRoZSBtb3N0IHNhbGVzIGxhc3QgeWVhcj9cIixcbiAgXCJXaGljaCBzYWxlc21hbiBoYWQgdGhlIGhpZ2hlc3QgdG90YWwgc2FsZXMgbGFzdCB5ZWFyP1wiLFxuICBcImRlcGFydG1lbnRzIHdoZXJlIGFsbCBvZiB0aGUgZW1wbG95ZWVzIGFyZSBtYWxlXCIsXG4gIFwic3VtIG9mIHRoZSB0b3AgMiBzYWxhcmllcyBwZXIgZGVwYXJ0bWVudFwiLFxuICBcIldoYXQgaXMgQ29yZXkgTW9udGVsbGEncyBhZ2U/XCIsXG4gIFwiUGVvcGxlIG9sZGVyIHRoYW4gQ29yZXkgTW9udGVsbGFcIixcbiAgXCJIb3cgbWFueSA0IHN0YXIgcmVzdGF1cmFudHMgYXJlIGluIFNhbiBGcmFuY2lzY28/XCIsXG4gIFwiV2hhdCBpcyB0aGUgYXZlcmFnZSBlbGV2YXRpb24gb2YgdGhlIGhpZ2hlc3QgcG9pbnRzIGluIGVhY2ggc3RhdGU/XCIsXG4gIFwiV2hhdCBpcyB0aGUgbmFtZSBvZiB0aGUgbG9uZ2VzdCByaXZlciBpbiB0aGUgc3RhdGUgdGhhdCBoYXMgdGhlIGxhcmdlc3QgY2l0eSBpbiB0aGUgVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhP1wiLFxuICAqL1xuXTtcblxuLypcbmxldCBzaXJpcGhyYXNlcyA9IFtcbiAgXCJGaW5kIHZpZGVvcyBJIHRvb2sgYXQgSXZhJ3MgYmlydGhkYXkgcGFydHlcIixcbiAgXCJGaW5kIHBpY3MgZnJvbSBteSB0cmlwIHRvIEFzcGVuIGluIDIwMTRcIixcbiAgXCJGaW5kIGEgdGFibGUgZm9yIGZvdXIgcGVvcGxlIHRvbmlnaHQgaW4gQ2hpY2Fnb1wiLFxuICBcIkZpbmQgYSB0YWJsZSBmb3IgZm91ciB0b25pZ2h0IGluIENoaWNhZ29cIixcbiAgXCJIb3cgaXMgdGhlIHdlYXRoZXIgdG9tb3Jyb3c/XCIsXG4gIFwiV2FrZSBtZSB1cCBhdCA3QU0gdG9tb3Jyb3dcIixcbiAgXCJNb3ZlIG15IDJQTSBtZWV0aW5nIHRvIDI6MzBcIixcbiAgXCJEbyBJIGhhdmUgYW55IG5ldyB0ZXh0cyBmcm9tIFJpY2s/XCIsXG4gIFwiU2hvdyBteSBzZWxmaWVzIGZyb20gTmV3IFllYXIncyBFdmVcIixcbiAgXCJDYWxsIERhZCBhdCB3b3JrXCIsXG4gIFwiQWllc2hhIFR1cm5lciBpcyBteSBtb21cIixcbiAgXCJSZWFkIG15IGxhdGVzdCBlbWFpbFwiLFxuICBcIlRleHQgcGVldCAnU2VlIHlvdSBzb29uIHNtaWxleSBleGxhbWF0aW9uIHBvaW50J1wiLFxuICBcIldoYXQgaXMgdHJlbmRpbmcgb24gVHdpdHRlcj9cIixcbiAgXCJDYWxsIGJhY2sgbXkgbGFzdCBtaXNzZWQgY2FsbC5cIixcbiAgXCJXaGVyZSBpcyBCcmlhbj9cIixcbiAgXCJGaW5kIHR3ZWV0cyB3aXRoIHRoZSBoYXNodGFnIEJheUJyaWRnZVwiLFxuICBcIlJlYWQgbXkgbGFzdCBtZXNzYWdlIGZyb20gQW5kcmV3XCIsXG4gIFwiRG8gSSBoYXZlIGFueSBuZXcgdm9pY2VtYWlsP1wiLFxuICBcIkZhY2VUaW1lIFNhcmFoXCIsXG4gIFwiUmVkaWFsIHRoYXQgbGFzdCBudW1iZXJcIixcbiAgXCJQbGF5IHRoZSBsYXN0IHZvaWNlbWFpbCBmcm9tIEFhcm9uXCIsXG4gIFwiV2hlbiBkaWQgSW5ncmlkIGNhbGwgbWU/XCIsXG4gIFwiR2V0IG15IGNhbGwgaGlzdG9yeVwiLFxuICBcIk1hcmsgdGhlIHRoaXJkIG9uZSBjb21wbGV0ZVwiLFxuICBcIkFkZCBHcmVnIHRvIG15IDI6MzAgbWVldGluZyBvbiBUaHVyc2RheVwiLFxuICBcIlJlbWluZCBtZSBhYm91dCB0aGlzIGVtYWlsIEZyaWRheSBhdCBub29uXCIsIC8vIG5vb24gc2hvdWxkIGJlIGEgcXVhbnRpdHlcbiAgXCJDcmVhdGUgYSBuZXcgbGlzdCBjYWxsZWQgR3JvY2VyaWVzXCIsIC8vIHdoeSBpc24ndCBhfERUIGluY2x1ZGVkZWQgaW4gXCJhIG5ldyBsaXN0XCJcbiAgXCJXaGVyZSBpcyBteSBuZXh0IG1lZXRpbmc/XCIsIC8vIEhvdyBjYW4gd2UgbWFrZSBtZWV0aW5nIGEgbm91bj9cbiAgXCJTZXQgYW4gYWxhcm0gZm9yIDkgQU0gZXZlcnkgRnJpZGF5XCIsIC8vIEFNIG5lZWRzIHRvIGJlIHNwZWNpYWwgY2FzZWQgdG8gYXR0YWNoIHRvIDlcbiAgXCJDYW5jZWwgbXkgbWVldGluZ3Mgb24gRnJpZGF5XCIsIC8vIENhbmNlbCBuZWVkcyB0byBiZSBhIHZlcmJcbiAgXCJUdXJuIG9mZiBhbGwgbXkgYWxhcm1zXCIsXG4gIFwiQWRkIGJydXNzZWxzIHNwcm91dHMgdG8gbXkgZ3JvY2VyeSBsaXN0XCIsXG4gIFwiUmVtaW5kIG1lIHRvIHBheSBOb2FoIGJhY2sgdG9tb3Jyb3cgbW9ybmluZ1wiLFxuICAvLyBTcG9ydHNcbiAgXCJXaGVuIGlzIHRoZSBuZXh0IE1hdmVyaWNrcyBob21lIGdhbWU/XCIsXG4gIFwiV2hvIGlzIHRoZSBxdWFydGVyYmFjayBmb3IgRGFsbGFzP1wiLFxuICBcIldobyBoYXMgdGhlIG1vc3QgUkJJc1wiLFxuICBcIldobyB3b24gdGhlIE5CQSBmaW5hbHM/XCIsXG4gIFwiV2hlcmUgaXMgV3JpZ2xleSBGaWVsZD9cIixcbiAgXCJIb3cgbWFueSByZWd1bGFyLXNlYXNvbiBnYW1lcyBkb2VzIGVhY2ggTkJBIHRlYW0gcGxheT9cIixcbiAgXCJXaGVuIGlzIHRoZSBMQSBHYWxheHkncyBuZXh0IGhvbWUgZ2FtZT9cIixcbiAgXCJXaG8gZG8gdGhlIENoaWNhZ28gQ3VicyBwbGF5IG9uIFNlcHRlbWJlciAyMT9cIiwgLy8gMjEgbmVlZHMgdG8gbWVyZ2Ugd2l0aCBTZXB0ZW1iZXJcbiAgXCJXaGVuIGRvZXMgdGhlIGZvb3RiYWxsIHNlYXNvbiBzdGFydD9cIixcbiAgXCJXaGF0IGhvY2tleSB0ZWFtcyBwbGF5IHRvZGF5P1wiLFxuICBcIkRpZCB0aGUgQ2hpY2FnbyBjdWJzIHdpbiBvbiBUaHVyc2RheT9cIixcbiAgLy8gRW50ZXJ0YWlubWVudFxuICBcIlBsYXkgVGhpcmQgRXllIEJsaW5kJ3MgbmV3IGFsYnVtXCIsXG4gIFwiUGxheSBtb3JlIGxpa2UgdGhpc1wiLFxuICBcIlBsYXkgdGhlIG51bWJlciBvbmUgc29uZyByaWdodCBub3dcIiwgLy8gTmVlZHMgaGVscCB3aXRoIG5vdW4gZ3JvdXBpbmcgdGFnIGFjY3VyYWN5XG4gIFwiV2hhdCBzb25nIGlzIHBsYXlpbmcgcmlnaHQgbm93P1wiLCAvLyByaWdodCBub3cgaXMgcHJvYmxlbWF0aWNcbiAgXCJXaGF0IG1vdmllcyBhcmUgcGxheWluZyB0b2RheT9cIixcbiAgXCJXaGVyZSBpcyBVbmJyb2tlbiBwbGF5aW5nIGFyb3VuZCBoZXJlP1wiLCAvLyBwbGF5aW5nIGFyb3VuZCBoZXJlIGlzIHByb2JsZW1hdGljXG4gIFwiSSBsaWtlIHRoaXMgc29uZ1wiLFxuICBcIldoYXQgYXJlIHNvbWUgUEcgbW92aWVzIHBsYXlpbmcgdGhpcyBhZnRlcm5vb25cIixcbiAgXCJXaG8gc2luZ3MgdGhpcz9cIiwgLy8gdGFncyBhcmUgYWxsIHdyb25nLCBoZXVyaXN0aWNzIGRvbid0IGhlbHAgaXRcbiAgXCJJIHdhbnQgdG8gaGVhciB0aGUgbGl2ZSB2ZXJzaW9uIG9mIHRoaXMgc29uZ1wiLFxuICBcIlBsYXkgb25seSBzb25ncyBieSBOaWNraSBNaW5halwiLFxuICBcIldoYXQgd29uIGJlc3QgcGljdHVyZSBpbiAyMDAwP1wiLFxuICBcIkhvdyBhcmUgdGhlIHJhdGluZ3MgZm9yIFRoZSBCb3h0cm9sbHM/XCIsXG4gIFwiV2hvIGRpcmVjdGVkIEEgUGVyZmVjdCBXb3JsZD9cIixcbiAgXCJEbyBwZW9wbGUgbGlrZSBUaGUgVGhlb3J5IG9mIEV2ZXJ5dGhpbmc/XCIsXG4gIC8vIE91dCBhbmQgYWJvdXQgKGFrYSBGb3Vyc3F1YXJlIHF1ZXJpZXMpXG4gIFwiV2hlcmUgaXMgYSBnb29kIEluZGlhbiBwbGFjZSBhcm91bmQgaGVyZT9cIiwgLy8gXCJwbGFjZSBhcm91bmQgaGVyZVwiIGlzIHRhZ2dlZCB3cm9uZywgaGV1cmlzdGljcyBkb24ndCBoZWxwXG4gIFwiSSBhbSBydW5uaW5nIGxvdyBvbiBnYXNcIixcbiAgXCJXaGF0IHRpbWUgZG9lcyBXaG9sZSBGb29kcyBjbG9zZT9cIixcbiAgXCJHaXZlIG1lIHB1YmxpYyB0cmFuc2l0IGRpcmVjdGlvbiB0byB0aGUgRGUgWW91bmcgTXVzZXVtXCIsIC8vIFB1YmxpYyBpcyB0YWdnZWQgYSB2ZXJiXG4gIFwiV2hlcmUgaXMgYSBnb29kIGluZXhwZW5zaXZlIHBsYWNlIHRvIGVhdCBhcm91bmQgaGVyZT9cIiwgLy8gXCJUbyBlYXQgYXJvdW5nIGhlcmVcIiBpcyBub3QgcmVjb2duaXplZFxuICBcIk1ha2UgYSByZXNlcnZhdGlvbiBhdCBhIHJvbWFudGljIHJlc3RhdXJhbnQgdG9uaWdodCBhdCA3UE1cIixcbiAgXCJGaW5kIGEgaGFwcHkgaG91ciBuZWFyYnlcIiwgLy8gbmVhcmJ5IHNob3VsZCBiZSBhbiBhZHZlcmI/XG4gIFwiRmluZCBjb2ZmZWUgbmVhciBtZVwiLFxuICBcIldoYXQgcGxhbmVzIGFyZSBmbHlpbmcgYWJvdmUgbWU/XCIsIC8vIFRhZ3MgYXJlIGFsbCB3cm9uZzogcGxhbmVzIGlzIGEgdmVyYiwgZmx5aW5nIGlzIGFuIGFkdmVyYlxuICBcIkkgbmVlZCBzb21lIGFzcGlyaW5cIixcbiAgXCJIb3cgYXJlIHRoZSByZXZpZXdzIGZvciBMb25nIEJyaWRnZSBQaXp6YSBpbiBTYW4gRnJhbmNpc2NvP1wiLFxuICBcIldoZXJlIGlzIGEgZ29vZCBoYWlyIHNhbG9uP1wiLFxuICBcIldoYXQncyB0aGUgYmVzdCByZXRhdXJhbnQgaW4gU2FuIEZyYW5jaXNjbz9cIixcbiAgXCJJIG5lZWQgYSBnb29kIGVsZWN0cmljaWFuXCIsXG4gIFwiV2hlcmUgYW0gST9cIixcbiAgXCJXaGF0IGlzIG15IEVUQT9cIixcbiAgLy8gSG9tZWtpdFxuICBcIlR1cm4gdGhlIGxpZ2h0cyBibHVlXCIsXG4gIFwiVHVybiBvZmYgdGhlIHJhZGlvXCIsIC8vIFwib2ZmXCIgc2hvdWxkIGJlIGEgcGFydGljbGVcbiAgXCJUdXJuIG9mZiB0aGUgcHJpbnRlciBpbiB0aGUgb2ZmaWNlXCIsIC8vIFwib2ZmXCIgc2hvdWxkIGJlIGEgcGFydGljbGVcbiAgXCJMb2NrIHRoZSBmcm9udCBkb29yXCIsIC8vIGZyb250IGlzIGNsYXNzaWZpZWQgYSBub3VuLCBzaG91bGQgYmUgYW4gYWRoZWN0aXZlXG4gIFwiU2V0IHRoZSBicmlnaHRuZXNzIG9mIHRoZSBkb3duc3RhaXJzIGxpZ2h0cyB0byA1MCVcIixcbiAgXCJTZXQgdGhlIFRhaG9lIGhvdXNlIHRvIDcyIGRlZ3JlZXNcIiwgLy8gaG91c2UgaXMgYSB2ZXJiXG4gIFwiVHVybiBvZmYgQ2hsb2UncyBsaWdodFwiLCAvLyBcIm9mZlwiIHNob3VsZCBiZSBhIHBhcnRpY2xlIFxuICBcIlR1cm4gdGhlIGxpdmluZyByb29tIGxpZ2h0cyBhbGwgdGhlIHdheSB1cFwiLCAvLyBsaWdodHMgaXMgYSB2ZXJiXG4gIFwiVHVybiBvbiB0aGUgYmF0aHJvb20gaGVhdGVyXCIsXG4gIC8vIEdldHRpbmcgYW5zd2Vyc1xuICBcIkRvIEkgbmVlZCBhbiB1bWJyZWxsYSB0b2RheT9cIixcbiAgXCJIb3cgaXMgdGhlIE5pa2tlaSBkb2luZz9cIixcbiAgXCJXaGVuIGlzIGRheWxpZ2h0IHNhdmluZyB0aW1lP1wiLFxuICBcIldoYXQgaXMgdGhlIGRlZmluaXRpb24gb2YgcHJhZ21hdGljP1wiLCAvLyBcInByYWdtYXRpYyBpcyBhbiBhZGplY3RpdmVcIlxuICBcIldoYXQncyB0aGUgbGF0ZXN0IGluIFNhbiBGcmFuY2lzY28/XCIsXG4gIFwiRGlkIHRoZSBncm91bmRob2cgc2VlIGl0cyBzaGFkb3c/XCIsXG4gIFwiV2hlbiBpcyBzdW5zZXQgaW4gUGFyaXNcIiwgLy8gc3Vuc2V0IHNob3VsZCBiZSBhIG5vdW5cbiAgXCJXaGF0IGlzIHRoZSBwb3B1bGF0aW9uIG9mIEphbWFpY2E/XCIsXG4gIFwiV2hhdCBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgMTI4P1wiLFxuICBcIldoYXQgaXMgNDAgZGVncmVlcyBGYXJlbmhlaXQgaW4gQ2Vsc2l1c1wiLCAvLyBIZXJlIGlzIGFuIGV4YW1wbGUgd2hlcmUgdGhlIHByb3BlciBub3VuIGNvbWJpbmluZyBoZXVyaXN0aWMgZmFpbHNcbiAgXCJXaGF0IGlzIHRoZSB0ZW1wZXJhdHVyZSBvdXRzaWRlP1wiLCAvLyBvdXRzaWRlIGlzIGEgcHJlcG9zaXRpb25cbiAgXCJXaGF0IHRpbWUgaXMgaXQgaW4gQmVybGluXCIsXG4gIFwiV2hlbiB3YXMgQWJyYWhhbSBMaW5jb2xuIGJvcm4/XCIsIC8vIFRoaXMgd2lsbCBnZXQgQWJyYWhhbSBMaW5jb2xuLCBidXQgd2UgbmVlZCB0byB1c2UgXCJ3aGVuXCIgYW5kIFwiYm9yblwiIHRvIGZpZ3VyZSBvdXQgYSBkYXRlIGlzIGV4cGVjdGVkXG4gIFwiU2hvdyBtZSB0aGUgT3Jpb24gY29uc3RlbGxhdGlvblwiLFxuICBcIldoYXQncyB0aGUgaGlnaCBmb3IgQW5jaG9yYWdlIG9uIFRodXJzZGF5P1wiLCAvLyBUaGlzIGJyZWFrcyBub3VuIGNvbWJpbmluZyBoZXVyaXN0aWMgXG4gIFwiSG93IG1hbnkgZG9sbGFycyBpcyA0NSBFdXJvc1wiLFxuICBcIldoYXQgZGF5IGlzIGl0P1wiLFxuICBcIkhvdyBtYW55IGNhbG9yaWVzIGluIGEgYmFnZWw/XCIsXG4gIFwiV2hhdCBpcyBBcHBsZSdzIFAvRSByYXRpbz9cIixcbiAgXCJDb21wYXJlIEFBUEwgYW5kIE5BU0RBUVwiLFxuICBcIkhvdyBodW1pZCBpcyBpdCBpbiBOZXcgWW9yayByaWdodCBub3dcIiwgLy8gSGV1cmlzdGljcyBtZXNzIHVwIHRhZ2dpbmcsIFwiaXNcIiBpcyBhIG5vdW4gaW4gb3JkZXIgdG8gdXNlIFwiaHVtaWRcIiBhcyBhbiBhZGplY3RpdmVcbiAgXCJXaGF0J3MgYW4gMTglIHRpcCBvbiAkODU/XCIsXG4gIFwiV2hhdCBpcyB0aGUgVVYgaW5kZXggb3V0c2lkZT9cIixcbiAgXCJIb3cgbWFueSBjdXBzIGluIGEgbGl0ZXJcIixcbiAgXCJJcyBpdCBnb2luZyB0byBzbm93IG5leHQgd2Vlaz9cIixcbl07XG4qL1xuXG5hcHAuaW5pdChcIm5scXBcIiwgZnVuY3Rpb24gKCkge1xuICBjb25zb2xlLmxvZyhgUnVubmluZyAke3BocmFzZXMubGVuZ3RofSB0ZXN0cy4uLmApO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gIGxldCBxdWVyeVN0YXRlcyA9IHBocmFzZXMubWFwKChwaHJhc2UpID0+IHtyZXR1cm4gcGFyc2VUZXN0KHBocmFzZSxuKX0pO1xuICBsZXQgcXVlcnkgPSBxdWVyeVN0YXRlcy5maWx0ZXIoKHN0YXRlKSA9PiBzdGF0ZSA9PT0gbmxxcC5JbnRlbnRzLlFVRVJZKS5sZW5ndGg7XG4gIGxldCBpbnNlcnQgPSBxdWVyeVN0YXRlcy5maWx0ZXIoKHN0YXRlKSA9PiBzdGF0ZSA9PT0gbmxxcC5JbnRlbnRzLklOU0VSVCkubGVuZ3RoO1xuICBsZXQgbW9yZWluZm8gPSBxdWVyeVN0YXRlcy5maWx0ZXIoKHN0YXRlKSA9PiBzdGF0ZSA9PT0gbmxxcC5JbnRlbnRzLk1PUkVJTkZPKS5sZW5ndGg7XG4gIGxldCBub3Jlc3VsdCA9IHF1ZXJ5U3RhdGVzLmZpbHRlcigoc3RhdGUpID0+IHN0YXRlID09PSBubHFwLkludGVudHMuTk9SRVNVTFQpLmxlbmd0aDtcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhgVG90YWwgUXVlcmllczogJHtwaHJhc2VzLmxlbmd0aH0gfCBRdWVyeTogJHtxdWVyeX0gfCBJbnNlcnQ6ICR7aW5zZXJ0fSB8IE1vcmVJbmZvOiAke21vcmVpbmZvfSB8IE5vUmVzdWx0OiAke25vcmVzdWx0fWApO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIik7XG59KTsiLCIiLCIvLyAgICAgdXVpZC5qc1xuLy9cbi8vICAgICBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBSb2JlcnQgS2llZmZlclxuLy8gICAgIE1JVCBMaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBfZ2xvYmFsID0gdGhpcztcblxuICAvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgV2UgZmVhdHVyZVxuICAvLyBkZXRlY3QgdG8gZGV0ZXJtaW5lIHRoZSBiZXN0IFJORyBzb3VyY2UsIG5vcm1hbGl6aW5nIHRvIGEgZnVuY3Rpb24gdGhhdFxuICAvLyByZXR1cm5zIDEyOC1iaXRzIG9mIHJhbmRvbW5lc3MsIHNpbmNlIHRoYXQncyB3aGF0J3MgdXN1YWxseSByZXF1aXJlZFxuICB2YXIgX3JuZztcblxuICAvLyBOb2RlLmpzIGNyeXB0by1iYXNlZCBSTkcgLSBodHRwOi8vbm9kZWpzLm9yZy9kb2NzL3YwLjYuMi9hcGkvY3J5cHRvLmh0bWxcbiAgLy9cbiAgLy8gTW9kZXJhdGVseSBmYXN0LCBoaWdoIHF1YWxpdHlcbiAgaWYgKHR5cGVvZihfZ2xvYmFsLnJlcXVpcmUpID09ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIF9yYiA9IF9nbG9iYWwucmVxdWlyZSgnY3J5cHRvJykucmFuZG9tQnl0ZXM7XG4gICAgICBfcm5nID0gX3JiICYmIGZ1bmN0aW9uKCkge3JldHVybiBfcmIoMTYpO307XG4gICAgfSBjYXRjaChlKSB7fVxuICB9XG5cbiAgaWYgKCFfcm5nICYmIF9nbG9iYWwuY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBXSEFUV0cgY3J5cHRvLWJhc2VkIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgICAvL1xuICAgIC8vIE1vZGVyYXRlbHkgZmFzdCwgaGlnaCBxdWFsaXR5XG4gICAgdmFyIF9ybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICBfcm5nID0gZnVuY3Rpb24gd2hhdHdnUk5HKCkge1xuICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhfcm5kczgpO1xuICAgICAgcmV0dXJuIF9ybmRzODtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFfcm5nKSB7XG4gICAgLy8gTWF0aC5yYW5kb20oKS1iYXNlZCAoUk5HKVxuICAgIC8vXG4gICAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgICAvLyBxdWFsaXR5LlxuICAgIHZhciAgX3JuZHMgPSBuZXcgQXJyYXkoMTYpO1xuICAgIF9ybmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgICAgX3JuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcm5kcztcbiAgICB9O1xuICB9XG5cbiAgLy8gQnVmZmVyIGNsYXNzIHRvIHVzZVxuICB2YXIgQnVmZmVyQ2xhc3MgPSB0eXBlb2YoX2dsb2JhbC5CdWZmZXIpID09ICdmdW5jdGlvbicgPyBfZ2xvYmFsLkJ1ZmZlciA6IEFycmF5O1xuXG4gIC8vIE1hcHMgZm9yIG51bWJlciA8LT4gaGV4IHN0cmluZyBjb252ZXJzaW9uXG4gIHZhciBfYnl0ZVRvSGV4ID0gW107XG4gIHZhciBfaGV4VG9CeXRlID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICBfYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbiAgICBfaGV4VG9CeXRlW19ieXRlVG9IZXhbaV1dID0gaTtcbiAgfVxuXG4gIC8vICoqYHBhcnNlKClgIC0gUGFyc2UgYSBVVUlEIGludG8gaXQncyBjb21wb25lbnQgYnl0ZXMqKlxuICBmdW5jdGlvbiBwYXJzZShzLCBidWYsIG9mZnNldCkge1xuICAgIHZhciBpID0gKGJ1ZiAmJiBvZmZzZXQpIHx8IDAsIGlpID0gMDtcblxuICAgIGJ1ZiA9IGJ1ZiB8fCBbXTtcbiAgICBzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWzAtOWEtZl17Mn0vZywgZnVuY3Rpb24ob2N0KSB7XG4gICAgICBpZiAoaWkgPCAxNikgeyAvLyBEb24ndCBvdmVyZmxvdyFcbiAgICAgICAgYnVmW2kgKyBpaSsrXSA9IF9oZXhUb0J5dGVbb2N0XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFplcm8gb3V0IHJlbWFpbmluZyBieXRlcyBpZiBzdHJpbmcgd2FzIHNob3J0XG4gICAgd2hpbGUgKGlpIDwgMTYpIHtcbiAgICAgIGJ1ZltpICsgaWkrK10gPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICAvLyAqKmB1bnBhcnNlKClgIC0gQ29udmVydCBVVUlEIGJ5dGUgYXJyYXkgKGFsYSBwYXJzZSgpKSBpbnRvIGEgc3RyaW5nKipcbiAgZnVuY3Rpb24gdW5wYXJzZShidWYsIG9mZnNldCkge1xuICAgIHZhciBpID0gb2Zmc2V0IHx8IDAsIGJ0aCA9IF9ieXRlVG9IZXg7XG4gICAgcmV0dXJuICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXTtcbiAgfVxuXG4gIC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbiAgLy9cbiAgLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbiAgLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxuICAvLyByYW5kb20gIydzIHdlIG5lZWQgdG8gaW5pdCBub2RlIGFuZCBjbG9ja3NlcVxuICB2YXIgX3NlZWRCeXRlcyA9IF9ybmcoKTtcblxuICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgdmFyIF9ub2RlSWQgPSBbXG4gICAgX3NlZWRCeXRlc1swXSB8IDB4MDEsXG4gICAgX3NlZWRCeXRlc1sxXSwgX3NlZWRCeXRlc1syXSwgX3NlZWRCeXRlc1szXSwgX3NlZWRCeXRlc1s0XSwgX3NlZWRCeXRlc1s1XVxuICBdO1xuXG4gIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gIHZhciBfY2xvY2tzZXEgPSAoX3NlZWRCeXRlc1s2XSA8PCA4IHwgX3NlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG5cbiAgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG4gIHZhciBfbGFzdE1TZWNzID0gMCwgX2xhc3ROU2VjcyA9IDA7XG5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlsc1xuICBmdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICAgIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICAgIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9IG51bGwgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gICAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAgIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAgIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gICAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPSBudWxsID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAgIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gICAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPSBudWxsID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gICAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICAgIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gICAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gICAgLy8gdGltZSBpbnRlcnZhbFxuICAgIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PSBudWxsKSB7XG4gICAgICBuc2VjcyA9IDA7XG4gICAgfVxuXG4gICAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICAgIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gICAgfVxuXG4gICAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICAgIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAgIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICAgIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gICAgLy8gYHRpbWVfbG93YFxuICAgIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICAgIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gICAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICAgIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAgIC8vIGB0aW1lX21pZGBcbiAgICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gICAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gICAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gICAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgICAvLyBgbm9kZWBcbiAgICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgbisrKSB7XG4gICAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IHVucGFyc2UoYik7XG4gIH1cblxuICAvLyAqKmB2NCgpYCAtIEdlbmVyYXRlIHJhbmRvbSBVVUlEKipcblxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Jyb29mYS9ub2RlLXV1aWQgZm9yIEFQSSBkZXRhaWxzXG4gIGZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgLy8gRGVwcmVjYXRlZCAtICdmb3JtYXQnIGFyZ3VtZW50LCBhcyBzdXBwb3J0ZWQgaW4gdjEuMlxuICAgIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gICAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgICAgYnVmID0gb3B0aW9ucyA9PSAnYmluYXJ5JyA/IG5ldyBCdWZmZXJDbGFzcygxNikgOiBudWxsO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgX3JuZykoKTtcblxuICAgIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gICAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gICAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gICAgaWYgKGJ1Zikge1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyBpaSsrKSB7XG4gICAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZiB8fCB1bnBhcnNlKHJuZHMpO1xuICB9XG5cbiAgLy8gRXhwb3J0IHB1YmxpYyBBUElcbiAgdmFyIHV1aWQgPSB2NDtcbiAgdXVpZC52MSA9IHYxO1xuICB1dWlkLnY0ID0gdjQ7XG4gIHV1aWQucGFyc2UgPSBwYXJzZTtcbiAgdXVpZC51bnBhcnNlID0gdW5wYXJzZTtcbiAgdXVpZC5CdWZmZXJDbGFzcyA9IEJ1ZmZlckNsYXNzO1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBQdWJsaXNoIGFzIEFNRCBtb2R1bGVcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7cmV0dXJuIHV1aWQ7fSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mKG1vZHVsZSkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBQdWJsaXNoIGFzIG5vZGUuanMgbW9kdWxlXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuICB9IGVsc2Uge1xuICAgIC8vIFB1Ymxpc2ggYXMgZ2xvYmFsIChpbiBicm93c2VycylcbiAgICB2YXIgX3ByZXZpb3VzUm9vdCA9IF9nbG9iYWwudXVpZDtcblxuICAgIC8vICoqYG5vQ29uZmxpY3QoKWAgLSAoYnJvd3NlciBvbmx5KSB0byByZXNldCBnbG9iYWwgJ3V1aWQnIHZhcioqXG4gICAgdXVpZC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBfZ2xvYmFsLnV1aWQgPSBfcHJldmlvdXNSb290O1xuICAgICAgcmV0dXJuIHV1aWQ7XG4gICAgfTtcblxuICAgIF9nbG9iYWwudXVpZCA9IHV1aWQ7XG4gIH1cbn0pLmNhbGwodGhpcyk7XG4iXX0=
